{"mode_derivation":{"name":"衍生","card":{"ly_piliche":{"name":"霹雳车","script":"{fullskin: \"true\",vanish: \"true\",derivation: \"liuye\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-8\",},skills: [\"ly_piliche\"],destroy: \"polu\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",ai: {basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},}","info":"当你对其他角色造成伤害后，若造成伤害的牌不为延时锦囊牌，你可以弃置其装备区里的防具牌与+1坐骑牌；当你失去此装备时，销毁之。"},"rewrite_bagua":{"name":"先天八卦阵","script":"{derivation: \"majun\",fullskin: \"true\",type: \"equip\",subtype: \"equip2\",ai: {basic: {equipValue: \"7.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"rw_bagua_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你需要使用或打出一张【闪】时，你可以进行判定，若判定结果不为黑桃，视为你使用或打出了一张【闪】。"},"rewrite_baiyin":{"name":"照月狮子盔","script":"{derivation: \"majun\",fullskin: \"true\",type: \"equip\",subtype: \"equip2\",filterLose: function (card,player){\n\t\t\t\t\tif(player.hasSkillTag('unequip2')) return false;\n\t\t\t\t\treturn true;\n\t\t\t\t},loseDelay: \"false\",onLose: function (){\n\t\t\t\t\tvar next=game.createEvent('rewrite_baiyin_recover');\n\t\t\t\t\tevent.next.remove(next);\n\t\t\t\t\tvar evt=event.getParent();\n\t\t\t\t\tif(evt.getlx===false) evt=evt.getParent();\n\t\t\t\t\tevt.after.push(next);\n\t\t\t\t\tnext.player=player;\n\t\t\t\t\tnext.setContent(function(){\n\t\t\t\t\t\tplayer.logSkill('rw_baiyin_skill');\n\t\t\t\t\t\tplayer.draw(2);\n\t\t\t\t\t\tplayer.recover();\n\t\t\t\t\t});\n\t\t\t\t},skills: [\"rw_baiyin_skill\"],tag: {recover: \"1\",},ai: {order: \"9.5\",equipValue: function (card,player){\n\t\t\t\t\t\tif(player.hp==player.maxHp) return 5;\n\t\t\t\t\t\tif(player.countCards('h','rewrite_baiyin')) return 6;\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，当你受到大于1的伤害时，你将伤害值改为1；当你失去装备区里的【照月狮子盔】时，你回复1点体力并摸两张牌。"},"rewrite_lanyinjia":{"name":"精银甲","script":"{derivation: \"majun\",fullskin: \"true\",type: \"equip\",subtype: \"equip2\",skills: [\"rw_lanyinjia\",\"lanyinjia2\"],ai: {equipValue: \"6\",basic: {equipValue: \"1\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你可以将一张手牌当做【闪】使用或打出。锁定技，【精银甲】不会无效。"},"rewrite_renwang":{"name":"仁王金刚盾","script":"{derivation: \"majun\",fullskin: \"true\",type: \"equip\",subtype: \"equip2\",skills: [\"rw_renwang_skill\"],ai: {basic: {equipValue: \"7.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"黑色【杀】和红桃【杀】对你无效。"},"rewrite_tengjia":{"name":"桐油百韧甲","script":"{derivation: \"majun\",fullskin: \"true\",type: \"equip\",subtype: \"equip2\",ai: {equipValue: function (card,player){\n\t\t\t\t\t\tif(player.hasSkillTag('maixie')&&player.hp>1) return 0;\n\t\t\t\t\t\tif(player.hasSkillTag('noDirectDamage')) return 10;\n\t\t\t\t\t\tif(get.damageEffect(player,player,player,'fire')>=0) return 10;\n\t\t\t\t\t\tvar num=3-game.countPlayer(function(current){\n\t\t\t\t\t\t\treturn get.attitude(current,player)<0;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(player.hp==1) num+=4;\n\t\t\t\t\t\tif(player.hp==2) num+=1;\n\t\t\t\t\t\tif(player.hp==3) num--;\n\t\t\t\t\t\tif(player.hp>3) num-=4;\n\t\t\t\t\t\treturn num;\n\t\t\t\t\t},basic: {equipValue: \"3\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"rw_tengjia1\",\"rw_tengjia2\",\"rw_tengjia3\",\"rw_tengjia4\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，【南蛮入侵】、【万箭齐发】和普【杀】对你无效。当你受到火焰伤害时，此伤害+1。当你即将被横置时，取消之。"},"rewrite_zhuge":{"name":"元戎精械弩","script":"{derivation: \"majun\",distance: {attackFrom: \"-2\",},fullskin: \"true\",type: \"equip\",subtype: \"equip1\",ai: {equipValue: function (card,player){\n\t\t\t\t\t\tif(!game.hasPlayer(function(current){\n\t\t\t\t\t\t\treturn player.canUse('sha',current)&&get.effect(current,{name:'sha'},player,player)>0;\n\t\t\t\t\t\t})){\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(player.hasSha()&&_status.currentPhase==player){\n\t\t\t\t\t\t\tif(player.getEquip('zhuge')||player.getCardUsable('sha')==0){\n\t\t\t\t\t\t\t\treturn 10;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar num=player.countCards('h','sha');\n\t\t\t\t\t\tif(num>1) return 6+num;\n\t\t\t\t\t\treturn 3+num;\n\t\t\t\t\t},basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},tag: {valueswap: \"1\",},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"rw_zhuge_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，你于出牌阶段内使用【杀】无次数限制。"},"pyzhuren_heart":{"name":"红缎枪","script":"{fullskin: \"true\",derivation: \"puyuan\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-2\",},skills: [\"pyzhuren_heart\"],ai: {basic: {equipValue: \"4\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"每回合限一次，当你使用【杀】造成伤害后，你可以进行判定，若结果为：红色，你回复1点体力；黑色：你摸两张牌。"},"pyzhuren_diamond":{"name":"烈淬刀","script":"{fullskin: \"true\",derivation: \"puyuan\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-1\",},skills: [\"pyzhuren_diamond\"],ai: {basic: {equipValue: \"3\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"每回合限两次，当你使用【杀】对目标角色造成伤害时，你可以弃置一张牌，令此伤害+1。你使用【杀】的次数上限+1。"},"pyzhuren_club":{"name":"水波剑","script":"{fullskin: \"true\",derivation: \"puyuan\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-1\",},skills: [\"pyzhuren_club\"],ai: {basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},loseDelay: \"false\",onLose: function (){\n\t\t\t\t\tvar next=game.createEvent('baiyin_recover');\n\t\t\t\t\tevent.next.remove(next);\n\t\t\t\t\tvar evt=event.getParent();\n\t\t\t\t\tif(evt.getlx===false) evt=evt.getParent();\n\t\t\t\t\tevt.after.push(next);\n\t\t\t\t\tnext.player=player;\n\t\t\t\t\tnext.setContent(function(){\n\t\t\t\t\t\tif(player.isDamaged()) player.logSkill('pyzhuren_club');\n\t\t\t\t\t\tplayer.recover();\n\t\t\t\t\t});\n\t\t\t\t},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"每回合限两次，当你使用普通锦囊牌或【杀】时，你可以为此牌增加一个目标。当你失去装备区里的【水波剑】后，你回复1点体力。"},"pyzhuren_spade":{"name":"混毒弯匕","script":"{fullskin: \"true\",derivation: \"puyuan\",type: \"equip\",subtype: \"equip1\",skills: [\"pyzhuren_spade\"],ai: {basic: {equipValue: \"3\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你使用【杀】指定目标后，你可令其失去X点体力（X为此技能本回合内发动过的次数且至多为5）。"},"pyzhuren_shandian":{"name":"天雷刃","script":"{fullskin: \"true\",derivation: \"puyuan\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-3\",},skills: [\"pyzhuren_shandian\"],ai: {basic: {equipValue: \"3\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你使用【杀】指定目标后，可令其进行判定，若结果为：黑桃，其受到3点雷属性伤害；梅花，其受到1点雷属性伤害，你回复1点体力并摸一张牌。"},"wy_meirenji":{"name":"美人计","script":"{fullskin: \"true\",vanish: \"true\",derivation: \"wangyun\",type: \"trick\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.countCards('h')&&target!=player&&target.sex=='male';\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tevent.list=game.filterPlayer(function(current){\n\t\t\t\t\t\treturn current!=player&&current!=target&&current.sex=='female';\n\t\t\t\t\t}).sortBySeat();\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(target.countCards('h')&&event.list.length){\n\t\t\t\t\t\tevent.current=event.list.shift();\n\t\t\t\t\t\tevent.current.gainPlayerCard(target,true,'h');\n\t\t\t\t\t\ttarget.line2([event.current,player]);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.goto(4);\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tevent.current.chooseCard('h',true,'将一张手牌交给'+get.translation(player));\n\t\t\t\t\t'step 3'\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tevent.current.give(result.cards,player);\n\t\t\t\t\t}\n\t\t\t\t\tevent.goto(1);\n\t\t\t\t\t'step 4'\n\t\t\t\t\tvar n1=target.countCards('h');\n\t\t\t\t\tvar n2=player.countCards('h');\n\t\t\t\t\tif(n1>n2){\n\t\t\t\t\t\ttarget.damage(player);\n\t\t\t\t\t\tplayer.line(target);\n\t\t\t\t\t}\n\t\t\t\t\telse if(n1<n2){\n\t\t\t\t\t\tplayer.damage(target);\n\t\t\t\t\t\ttarget.line(player);\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"6\",result: {target: function (player,target){\n\t\t\t\t\t\t\tvar num=game.countPlayer(function(current){\n\t\t\t\t\t\t\t\treturn current!=player&&current!=target&&current.sex=='female';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\t\tnum=Math.min(num,nh);\n\t\t\t\t\t\t\tvar nh1=nh-num;\n\t\t\t\t\t\t\tvar nh2=player.countCards('h')-1+num;\n\t\t\t\t\t\t\tif(nh1==nh2&&num==0) return 0;\n\t\t\t\t\t\t\tif(nh2<=nh1) return -3;\n\t\t\t\t\t\t\tif(player.hp==1||num==1) return 0;\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段，对一名有手牌的其他男性角色使用。每名女性角色各获得其一张手牌并将一张手牌交给你，然后比较你与其的手牌数，手牌少的角色对手牌多的角色造成1点伤害。"},"wy_xiaolicangdao":{"name":"笑里藏刀","script":"{fullskin: \"true\",vanish: \"true\",derivation: \"wangyun\",type: \"trick\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player;\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar num=Math.min(5,target.maxHp-target.hp);\n\t\t\t\t\tif(num) target.draw(num);\n\t\t\t\t\t'step 1'\n\t\t\t\t\ttarget.damage();\n\t\t\t\t},ai: {order: \"6\",tag: {damage: \"1\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tvar num=Math.min(5,target.maxHp-target.hp);\n\t\t\t\t\t\t\tif(target.hp==1){\n\t\t\t\t\t\t\t\tif(num>=3) return 0;\n\t\t\t\t\t\t\t\tif(!target.hasSkillTag('maixie_hp')){\n\t\t\t\t\t\t\t\t\treturn -3;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(num==2) return 0;\n\t\t\t\t\t\t\treturn -2+num+(Math.pow(target.hp,0.2)-1);\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段，对一名其他角色使用。该角色摸X张牌（X为其已损失的体力值且至多为5），然后你对其造成1点伤害。"}}},"extra":{"name":"军争","card":{"muniu":{"name":"木牛流马","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",nomod: \"true\",onEquip: function (){\n\t\t\t\t\tplayer.markSkill('muniu_skill6');\n\t\t\t\t},forceDie: \"true\",onLose: function (){\n\t\t\t\t\tplayer.unmarkSkill('muniu_skill6');\n\t\t\t\t\tdelete player.getStat('skill').muniu_skill;\n\t\t\t\t\tif((event.getParent(2)&&event.getParent(2).name!='swapEquip')&&event.parent.type!='equip'&&card&&card.cards&&card.cards.length){\n\t\t\t\t\t\tplayer.$throw(card.cards,1000);\n\t\t\t\t\t\tplayer.popup('muniu');\n\t\t\t\t\t\tgame.log(card,'掉落了',card.cards);\n\t\t\t\t\t\tgame.cardsDiscard(card.cards);\n\t\t\t\t\t\tcard.cards.length=0;\n\t\t\t\t\t}\n\t\t\t\t},clearLose: \"true\",equipDelay: \"false\",loseDelay: \"false\",skills: [\"muniu_skill\",\"muniu_skill4\",\"muniu_skill6\",\"muniu_skill7\"],ai: {equipValue: function (card){\n\t\t\t\t\t\tif(card.card) return 7+card.card.length;\n\t\t\t\t\t\treturn 7;\n\t\t\t\t\t},basic: {equipValue: \"7\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"出牌阶段限一次，你可以将一张手牌扣置于你装备区里的【木牛流马】下，若如此做，你可以将此装备移动到一名其他角色的装备区里；你可以将此装备牌下的牌如手牌般使用或打出。"},"jiu":{"name":"酒","script":"{audio: \"true\",fullskin: \"true\",type: \"basic\",toself: \"true\",enable: function (event,player){\n\t\t\t\t\t//return !player.hasSkill('jiu');\n\t\t\t\t\treturn true;\n\t\t\t\t},lianheng: \"true\",logv: \"false\",savable: function (card,player,dying){\n\t\t\t\t\treturn dying==player||player.hasSkillTag('jiuOther',null,dying,true);\n\t\t\t\t},usable: \"1\",selectTarget: \"-1\",modTarget: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},content: function (){\n\t\t\t\t\tif(typeof event.baseDamage!='number') event.baseDamage=1;\n\t\t\t\t\tif(target.isDying()||event.getParent(2).type=='dying'){\n\t\t\t\t\t\ttarget.recover(event.baseDamage);\n\t\t\t\t\t\tif(_status.currentPhase==target){\n\t\t\t\t\t\t\ttarget.getStat().card.jiu--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tgame.addVideo('jiuNode',target,true);\n\t\t\t\t\t\tif(cards&&cards.length){\n\t\t\t\t\t\t\tcard=cards[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!target.storage.jiu) target.storage.jiu=0;\n\t\t\t\t\t\ttarget.storage.jiu+=event.baseDamage;\n\t\t\t\t\t\tgame.broadcastAll(function(target,card,gain2){\n\t\t\t\t\t\t\ttarget.addSkill('jiu');\n\t\t\t\t\t\t\tif(!target.node.jiu&&lib.config.jiu_effect){\n\t\t\t\t\t\t\t\ttarget.node.jiu=ui.create.div('.playerjiu',target.node.avatar);\n\t\t\t\t\t\t\t\ttarget.node.jiu2=ui.create.div('.playerjiu',target.node.avatar2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(gain2&&card.clone&&(card.clone.parentNode==target.parentNode||card.clone.parentNode==ui.arena)){\n\t\t\t\t\t\t\t\tcard.clone.moveDelete(target);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},target,card,target==targets[0]&&cards.length==1);\n\t\t\t\t\t\tif(target==targets[0]&&cards.length==1){\n\t\t\t\t\t\t\tif(card.clone&&(card.clone.parentNode==target.parentNode||card.clone.parentNode==ui.arena)){\n\t\t\t\t\t\t\t\tgame.addVideo('gain2',target,get.cardsInfo([card]));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {useful: function (card,i){\n\t\t\t\t\t\t\tif(_status.event.player.hp>1){\n\t\t\t\t\t\t\t\tif(i==0) return 4;\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(i==0) return 7.3;\n\t\t\t\t\t\t\treturn 3;\n\t\t\t\t\t\t},value: function (card,player,i){\n\t\t\t\t\t\t\tif(player.hp>1){\n\t\t\t\t\t\t\t\tif(i==0) return 5;\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(i==0) return 7.3;\n\t\t\t\t\t\t\treturn 3;\n\t\t\t\t\t\t},},order: function (){\n\t\t\t\t\t\treturn get.order({name:'sha'})+0.2;\n\t\t\t\t\t},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target&&target.isDying()) return 2;\n\t\t\t\t\t\t\tif(target&&!target.isPhaseUsing()) return 0;\n\t\t\t\t\t\t\tif(lib.config.mode=='stone'&&!player.isMin()){\n\t\t\t\t\t\t\t\tif(player.getActCount()+1>=player.actcount) return 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar shas=player.getCards('h','sha');\n\t\t\t\t\t\t\tif(shas.length>1&&(player.getCardUsable('sha')>1||player.countCards('h','zhuge'))){\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tshas.sort(function(a,b){\n\t\t\t\t\t\t\t\treturn get.order(b)-get.order(a);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tvar card;\n\t\t\t\t\t\t\tif(shas.length){\n\t\t\t\t\t\t\t\tfor(var i=0;i<shas.length;i++){\n\t\t\t\t\t\t\t\t\tif(lib.filter.filterCard(shas[i],target)){\n\t\t\t\t\t\t\t\t\t\tcard=shas[i];break;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(player.hasSha()&&player.needsToDiscard()){\n\t\t\t\t\t\t\t\tif(player.countCards('h','hufu')!=1){\n\t\t\t\t\t\t\t\t\tcard={name:'sha'};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(card){\n\t\t\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\t\t\treturn (get.attitude(target,current)<0&&\n\t\t\t\t\t\t\t\t\t\ttarget.canUse(card,current,true,true)&&\n\t\t\t\t\t\t\t\t\t\t!current.hasSkillTag('filterDamage',null,{\n\t\t\t\t\t\t\t\t\t\t\tplayer:player,\n\t\t\t\t\t\t\t\t\t\t\tcard:card,\n\t\t\t\t\t\t\t\t\t\t\tjiu:true,\n\t\t\t\t\t\t\t\t\t\t})&&\n\t\t\t\t\t\t\t\t\t\tget.effect(current,card,target)>0);\n\t\t\t\t\t\t\t\t})){\n\t\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},tag: {save: \"1\",},},}","info":"出牌阶段，对自己使用，令自己的下一张使用的【杀】造成的伤害+1（每回合限使用1次）；濒死阶段，对自己使用，回复1点体力"},"huogong":{"name":"火攻","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\tif(player!=game.me&&player.countCards('h')<2) return false;\n\t\t\t\t\treturn target.countCards('h')>0;\n\t\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tif(target.countCards('h')==0){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\ttarget.chooseCard(true).ai=function(card){\n\t\t\t\t\t\tif(_status.event.getRand()<0.5) return Math.random();\n\t\t\t\t\t\treturn get.value(card);\n\t\t\t\t\t};\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tevent.dialog=ui.create.dialog(get.translation(target)+'展示的手牌',result.cards);\n\t\t\t\t\tevent.videoId=lib.status.videoId++;\n\n\t\t\t\t\tgame.broadcast('createDialog',event.videoId,get.translation(target)+'展示的手牌',result.cards);\n\t\t\t\t\tgame.addVideo('cardDialog',null,[get.translation(target)+'展示的手牌',get.cardsInfo(result.cards),event.videoId]);\n\t\t\t\t\tevent.card2=result.cards[0];\n\t\t\t\t\tgame.log(target,'展示了',event.card2);\n\t\t\t\t\tevent._result={};\n\t\t\t\t\tplayer.chooseToDiscard({suit:get.suit(event.card2)},function(card){\n\t\t\t\t\t\tvar evt=_status.event.getParent();\n\t\t\t\t\t\tif(get.damageEffect(evt.target,evt.player,evt.player,'fire')>0){\n\t\t\t\t\t\t\treturn 7-get.value(card,evt.player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}).set('prompt',false);\n\t\t\t\t\tgame.delay(2);\n\t\t\t\t\t\"step 2\"\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\ttarget.damage('fire');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.addTempSkill('huogong2');\n\t\t\t\t\t}\n\t\t\t\t\tevent.dialog.close();\n\t\t\t\t\tgame.addVideo('cardDialog',null,event.videoId);\n\t\t\t\t\tgame.broadcast('closeDialog',event.videoId);\n\t\t\t\t},ai: {basic: {order: \"4\",value: [3,1],useful: \"1\",},wuxie: function (target,card,player,current,state){\n\t\t\t\t\t\tif(get.attitude(current,player)>=0&&state>0) return false;\n\t\t\t\t\t},result: {player: function (player){\n\t\t\t\t\t\t\tvar nh=player.countCards('h');\n\t\t\t\t\t\t\tif(nh<=player.hp&&nh<=4&&_status.event.name=='chooseToUse'){\n\t\t\t\t\t\t\t\tif(typeof _status.event.filterCard=='function'&&\n\t\t\t\t\t\t\t\t\t_status.event.filterCard({name:'huogong'},player,_status.event)){\n\t\t\t\t\t\t\t\t\treturn -10;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(_status.event.skill){\n\t\t\t\t\t\t\t\t\tvar viewAs=get.info(_status.event.skill).viewAs;\n\t\t\t\t\t\t\t\t\tif(viewAs=='huogong') return -10;\n\t\t\t\t\t\t\t\t\tif(viewAs&&viewAs.name=='huogong') return -10;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasSkill('huogong2')||target.countCards('h')==0) return 0;\n\t\t\t\t\t\t\tif(player.countCards('h')<=1) return 0;\n\t\t\t\t\t\t\tif(target==player){\n\t\t\t\t\t\t\t\tif(typeof _status.event.filterCard=='function'&&\n\t\t\t\t\t\t\t\t\t_status.event.filterCard({name:'huogong'},player,_status.event)){\n\t\t\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(_status.event.skill){\n\t\t\t\t\t\t\t\t\tvar viewAs=get.info(_status.event.skill).viewAs;\n\t\t\t\t\t\t\t\t\tif(viewAs=='huogong') return -1.5;\n\t\t\t\t\t\t\t\t\tif(viewAs&&viewAs.name=='huogong') return -1.5;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t},},tag: {damage: \"1\",fireDamage: \"1\",natureDamage: \"1\",norepeat: \"1\",},},selectTarget: \"1\",}","info":"目标角色展示一张手牌，然后若你能弃掉一张与所展示牌相同花色的手牌，则火攻对该角色造成1点火焰伤害。"},"tiesuo":{"name":"铁索连环","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: \"true\",selectTarget: [1,2],complexTarget: \"true\",content: function (){\n\t\t\t\t\ttarget.link();\n\t\t\t\t},chongzhu: \"true\",ai: {wuxie: function (target,card,player,viewer){\n\t\t\t\t\t\tif(_status.event.getRand()<0.5) return 0;\n\t\t\t\t\t\tif(player==game.me&&get.attitude(viewer,player)>0){\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t},basic: {useful: \"4\",value: \"4\",order: \"7\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.isLinked()){\n\t\t\t\t\t\t\t\tif(target.hasSkillTag('link')) return 0;\n\t\t\t\t\t\t\t\tvar f=target.hasSkillTag('nofire');\n\t\t\t\t\t\t\t\tvar t=target.hasSkillTag('nothunder');\n\t\t\t\t\t\t\t\tif(f&&t) return 0;\n\t\t\t\t\t\t\t\tif(f||t) return 0.5;\n\t\t\t\t\t\t\t\treturn 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(get.attitude(player,target)>=0) return -0.9;\n\t\t\t\t\t\t\tif(ui.selected.targets.length) return -0.9;\n\t\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\t\treturn get.attitude(player,current)<=-1&&current!=target&&!current.isLinked();\n\t\t\t\t\t\t\t})){\n\t\t\t\t\t\t\t\treturn -0.9;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},tag: {multitarget: \"1\",multineg: \"1\",norepeat: \"1\",},},}","info":"出牌阶段使用，选择1至2个角色，分别横置或重置这些角色"},"bingliang":{"name":"兵粮寸断","script":"{audio: \"true\",fullskin: \"true\",type: \"delay\",range: {global: \"1\",},filterTarget: function (card,player,target){\n\t\t\t\t\treturn (lib.filter.judge(card,player,target)&&player!=target);\n\t\t\t\t},judge: function (card){\n\t\t\t\t\tif(get.suit(card)=='club') return 0;\n\t\t\t\t\treturn -3;\n\t\t\t\t},effect: function (){\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\tif(get.is.changban()) player.addTempSkill('bingliang_changban');\n\t\t\t\t\t\telse player.skip('phaseDraw');\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"1\",useful: \"1\",value: \"4\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasJudge('caomu')) return 0;\n\t\t\t\t\t\t\treturn -1.5/Math.sqrt(target.countCards('h')+1);\n\t\t\t\t\t\t},},tag: {skip: \"phaseDraw\",},},selectTarget: \"1\",enable: \"true\",content: function (){\n\t\t\t\t\tif(lib.filter.judge(card,player,target)&&cards.length&&get.position(cards[0],true)=='o') target.addJudge(card,cards);\n\t\t\t\t},allowMultiple: \"false\",}","info":"目标角色判定阶段进行判定：若判定结果不为梅花，则跳过该角色的摸牌阶段。"},"hualiu":{"name":"骅骝","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip3\",distance: {globalTo: \"1\",},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",ai: {basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"7\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},}","info":"你的防御距离+1"},"zhuque":{"name":"朱雀羽扇","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-3\",},ai: {basic: {equipValue: \"2\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"zhuque_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你可以将一张普通【杀】当具火焰伤害的【杀】使用。"},"guding":{"name":"古锭刀","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-1\",},ai: {basic: {equipValue: \"2\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"guding_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，当你使用【杀】对目标角色造成伤害时，若其没有手牌，此伤害+1。"},"tengjia":{"name":"藤甲","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip2\",ai: {value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(2)) return 0.01;\n\t\t\t\t\t\tif(card==player.getEquip(2)){\n\t\t\t\t\t\t\tif(player.hasSkillTag('noDirectDamage')) return 10;\n\t\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\t\treturn current!=player&&get.attitude(current,player)<0&&current.hasSkillTag('fireAttack',null,null,true);\n\t\t\t\t\t\t\t})) return 0;\n\t\t\t\t\t\t\treturn 6;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},equipValue: function (card,player){\n\t\t\t\t\t\tif(player.hasSkillTag('maixie')&&player.hp>1) return 0;\n\t\t\t\t\t\tif(player.hasSkillTag('noDirectDamage')) return 10;\n\t\t\t\t\t\tif(get.damageEffect(player,player,player,'fire')>=0) return 10;\n\t\t\t\t\t\tvar num=4-game.countPlayer(function(current){\n\t\t\t\t\t\t\tif(get.attitude(current,player)<0){\n\t\t\t\t\t\t\t\tif(current.hasSkillTag('fireAttack',null,null,true)) return 3;\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(player.hp==1) num+=3;\n\t\t\t\t\t\tif(player.hp==2) num+=1;\n\t\t\t\t\t\treturn num;\n\t\t\t\t\t},basic: {equipValue: \"3\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"tengjia1\",\"tengjia2\",\"tengjia3\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，【南蛮入侵】、【万箭齐发】、【出其不意】和普通【杀】对你无效。当你受到火焰伤害时，该伤害+1。"},"baiyin":{"name":"白银狮子","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip2\",loseDelay: \"false\",onLose: function (){\n\t\t\t\t\tvar next=game.createEvent('baiyin_recover');\n\t\t\t\t\tevent.next.remove(next);\n\t\t\t\t\tvar evt=event.getParent();\n\t\t\t\t\tif(evt.getlx===false) evt=evt.getParent();\n\t\t\t\t\tevt.after.push(next);\n\t\t\t\t\tnext.player=player;\n\t\t\t\t\tnext.setContent(function(){\n\t\t\t\t\t\tif(player.isDamaged()) player.logSkill('baiyin_skill');\n\t\t\t\t\t\tplayer.recover();\n\t\t\t\t\t});\n\t\t\t\t},filterLose: function (card,player){\n\t\t\t\t\tif(player.hasSkillTag('unequip2')) return false;\n\t\t\t\t\treturn true;\n\t\t\t\t},skills: [\"baiyin_skill\"],tag: {recover: \"1\",},ai: {order: \"9.5\",equipValue: function (card,player){\n\t\t\t\t\t\tif(player.hp==player.maxHp) return 5;\n\t\t\t\t\t\tif(player.countCards('h','baiyin')) return 6;\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，你每次受到伤害时，最多承受1点伤害（防止多余的伤害）；当你失去装备区里的【白银狮子】时，你回复1点体力。"}}},"sp":{"name":"SP","card":{"jinchan":{"name":"金蝉脱壳","script":"{audio: \"true\",fullskin: \"true\",wuxieable: \"true\",type: \"trick\",notarget: \"true\",content: function (){\n\t\t\t\t\tvar evt=event.getParent(3)._trigger;\n\t\t\t\t\tif(evt.jinchan){\n\t\t\t\t\t\tvar type=get.type(evt.card,'trick');\n\t\t\t\t\t\tif(type=='basic'||type=='trick'){\n\t\t\t\t\t\t\tevt.cancel();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tplayer.draw(2);\n\t\t\t\t},ai: {useful: function (){\n\t\t\t\t\t\tvar player=_status.event.player;\n\t\t\t\t\t\tvar nj=player.countCards('h','jinchan');\n\t\t\t\t\t\tvar num=player.getHandcardLimit();\n\t\t\t\t\t\tif(nj>=num){\n\t\t\t\t\t\t\treturn 10;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(nj==num-1){\n\t\t\t\t\t\t\treturn 6;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t},result: {player: \"1\",},value: \"5\",},}","info":"当你成为其他角色使用牌的目标时，若你的手牌里只有【金蝉脱壳】，使目标锦囊牌或基本牌对你无效，你摸两张牌。当你因弃置而失去【金蝉脱壳】时，你摸一张牌。"},"qijia":{"name":"弃甲曳兵","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\tif(target==player) return false;\n\t\t\t\t\tif(target.getEquip(5)){\n\t\t\t\t\t\treturn target.countCards('e')>1;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\treturn target.countCards('e')>0;\n\t\t\t\t\t}\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar e1=[],e2=[];\n\t\t\t\t\tvar he=target.getCards('he');\n\t\t\t\t\tfor(var i=0;i<he.length;i++){\n\t\t\t\t\t\tif(get.type(he[i])=='equip'){\n\t\t\t\t\t\t\tvar subtype=get.subtype(he[i]);\n\t\t\t\t\t\t\tif(subtype=='equip1'||subtype=='equip4'){\n\t\t\t\t\t\t\t\te1.push(he[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(subtype=='equip2'||subtype=='equip3'){\n\t\t\t\t\t\t\t\te2.push(he[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(e1.length&&e2.length){\n\t\t\t\t\t\tvar choice=0;\n\t\t\t\t\t\tif(e1.length>e2.length||(target.hp>=3&&Math.random()<0.3)){\n\t\t\t\t\t\t\tchoice=1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tevent.e1=e1;\n\t\t\t\t\t\tevent.e2=e2;\n\t\t\t\t\t\ttarget.chooseControl(choice).set('choiceList',['弃置'+get.translation(e1),'弃置'+get.translation(e2)]);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(e1.length){\n\t\t\t\t\t\t\ttarget.discard(e1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(e2.length){\n\t\t\t\t\t\t\ttarget.discard(e2);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.index==0){\n\t\t\t\t\t\ttarget.discard(event.e1);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.discard(event.e2);\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"9.01\",useful: \"1\",value: \"5\",result: {target: function (player,target){\n\t\t\t\t\t\t\tvar num1=0,num2=0;\n\t\t\t\t\t\t\tfor(var i=1;i<=4;i++){\n\t\t\t\t\t\t\t\tvar card=target.getEquip(i);\n\t\t\t\t\t\t\t\tif(card){\n\t\t\t\t\t\t\t\t\tif(i==1||i==4){\n\t\t\t\t\t\t\t\t\t\tnum1+=get.equipValue(card);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tnum2+=get.equipValue(card);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar num;\n\t\t\t\t\t\t\tif(num1==0){\n\t\t\t\t\t\t\t\tnum=num2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(num2==0){\n\t\t\t\t\t\t\t\tnum=num1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tnum=Math.min(num1,num2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(num>0){\n\t\t\t\t\t\t\t\treturn -0.8-num/10;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},},tag: {loseCard: \"1\",discard: \"1\",},},selectTarget: \"1\",}","info":"出牌阶段，对一名装备区里有牌的其他角色使用。该角色选择一项：1.弃置手牌区和装备区里所有的武器和-1坐骑；2.弃置手牌区和装备区里所有的防具和+1坐骑。"},"fulei":{"name":"浮雷","script":"{audio: \"true\",fullskin: \"true\",type: \"delay\",cardnature: \"thunder\",modTarget: function (card,player,target){\n\t\t\t\t\treturn lib.filter.judge(card,player,target);\n\t\t\t\t},enable: function (card,player){\n\t\t\t\t\treturn player.canAddJudge(card);\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn (lib.filter.judge(card,player,target)&&player==target);\n\t\t\t\t},selectTarget: [-1,-1],judge: function (card){\n\t\t\t\t\tif(get.suit(card)=='spade') return -6;\n\t\t\t\t\treturn 0;\n\t\t\t\t},effect: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\tif(!card.storage.fulei){\n\t\t\t\t\t\t\tcard.storage.fulei=1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tcard.storage.fulei++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tplayer.damage(card.storage.fulei,'thunder','nosource');\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tplayer.addJudgeNext(card);\n\t\t\t\t},cancel: function (){\n\t\t\t\t\tplayer.addJudgeNext(card);\n\t\t\t\t},ai: {basic: {order: \"1\",useful: \"0\",value: \"0\",},result: {target: function (player,target){\n\t\t\t\t\t\t\treturn lib.card.shandian.ai.result.target(player,target);\n\t\t\t\t\t\t},},},content: function (){\n\t\t\t\t\tif(lib.filter.judge(card,player,target)&&cards.length&&get.position(cards[0],true)=='o') target.addJudge(card,cards);\n\t\t\t\t},allowMultiple: \"false\",}","info":"出牌阶段，对你使用。将【浮雷】放置于你的判定区里，若判定结果为黑桃，则目标角色受到X点雷电伤害（X为此锦囊判定结果为黑桃的次数）。判定完成后，将此牌移动到下家的判定区里。"},"qibaodao":{"name":"七宝刀","script":"{audio: \"true\",fullskin: \"true\",type: \"equip\",subtype: \"equip1\",skills: [\"qibaodao\",\"qibaodao2\"],distance: {attackFrom: \"-1\",},ai: {equipValue: function (card,player){\n\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\treturn player.canUse('sha',current)&&current.isHealthy()&&get.attitude(player,current)<0;\n\t\t\t\t\t\t})){\n\t\t\t\t\t\t\treturn 5;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 3;\n\t\t\t\t\t},basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"攻击范围2；锁定技，你使用【杀】无视目标防具，若目标角色未损失体力值，此【杀】伤害+1"},"zhungangshuo":{"name":"衠钢槊","script":"{audio: \"true\",fullskin: \"true\",type: \"equip\",subtype: \"equip1\",skills: [\"zhungangshuo\"],distance: {attackFrom: \"-2\",},ai: {equipValue: \"4\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你使用【杀】指定一名角色为目标后，你可令该角色弃置你的一张手牌，然后你弃置其一张手牌"},"lanyinjia":{"name":"烂银甲","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip2\",skills: [\"lanyinjia\",\"lanyinjia2\"],ai: {equipValue: \"6\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你可以将一张手牌当做【闪】使用或打出。锁定技，【烂银甲】不会无效化；当你受到【杀】造成的伤害时，弃置【烂银甲】。"},"yinyueqiang":{"name":"银月枪","script":"{audio: \"true\",fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-2\",},ai: {basic: {equipValue: \"4\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"yinyueqiang\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你的回合外，每当你使用或打出了一张黑色手牌（若为使用则在它结算之前），你可以立即对你攻击范围内的任意一名角色使用一张【杀】"},"du":{"name":"毒","script":"{type: \"basic\",fullskin: \"true\",toself: \"true\",ai: {value: \"-5\",useful: \"6\",result: {player: function (player,target){\n\t\t\t\t\t\t\tif(player.hasSkillTag('usedu')) return 5;\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t},},order: \"7.5\",},enable: \"true\",modTarget: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},delay: \"false\",content: function (){},selectTarget: \"-1\",}","info":"当此牌正面朝上离开你的手牌区时，你失去一点体力"},"shengdong":{"name":"声东击西","script":"{audio: \"true\",fullskin: \"true\",enable: function (){\n\t\t\t\t\treturn game.countPlayer()>2;\n\t\t\t\t},chongzhu: function (){\n\t\t\t\t\treturn game.countPlayer()<=2;\n\t\t\t\t},singleCard: \"true\",type: \"trick\",selectTarget: \"2\",complexTarget: \"true\",multitarget: \"true\",targetprompt: [\"给一张牌\",\"得两张牌\"],filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player;\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tif(!player.countCards('h')){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.target1=target;\n\t\t\t\t\t\tevent.target2=event.addedTarget;\n\t\t\t\t\t\tplayer.chooseCard('h','将一张手牌交给'+get.translation(event.target1),true);\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tplayer.$giveAuto(result.cards,event.target1);\n\t\t\t\t\tevent.target1.gain(result.cards,player);\n\t\t\t\t\t'step 2'\n\t\t\t\t\tif(!event.target1.countCards('h')){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar he=event.target1.getCards('he');\n\t\t\t\t\t\tif(he.length<=2){\n\t\t\t\t\t\t\tevent.directresult=he;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tevent.target1.chooseCard('he','将两张牌交给'+get.translation(event.target2),2,true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t'step 3'\n\t\t\t\t\tif(!event.directresult){\n\t\t\t\t\t\tevent.directresult=result.cards;\n\t\t\t\t\t}\n\t\t\t\t\tevent.target1.$giveAuto(event.directresult,event.target2);\n\t\t\t\t\tevent.target2.gain(event.directresult,event.target1);\n\t\t\t\t},ai: {order: \"2.5\",value: [4,1],useful: \"1\",wuxie: function (){\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},result: {target: function (player,target){\n\t\t\t\t\t\t\tvar ok=false;\n\t\t\t\t\t\t\tvar hs=player.getCards('h');\n\t\t\t\t\t\t\tif(hs.length<=1) return 0;\n\t\t\t\t\t\t\tfor(var i=0;i<hs.length;i++){\n\t\t\t\t\t\t\t\tif(get.value(hs[i])<=5){\n\t\t\t\t\t\t\t\t\tok=true;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(!ok) return 0;\n\t\t\t\t\t\t\tif(ui.selected.targets.length==1){\n\t\t\t\t\t\t\t\tif(target.hasSkillTag('nogain')) return 0;\n\t\t\t\t\t\t\t\treturn 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(target.countCards('he')==0) return 0;\n\t\t\t\t\t\t\tif(player.hasFriend()) return -1;\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},},}","info":"出牌阶段，对一名其他角色使用。你交给目标角色一张手牌，若如此做，其将两张牌交给另一名由你选择的其他角色（不足则全给，存活角色不超过2时可重铸）"},"zengbin":{"name":"增兵减灶","script":"{audio: \"true\",fullskin: \"true\",enable: \"true\",type: \"trick\",filterTarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\ttarget.draw(3);\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(target.countCards('he',{type:'basic'})<target.countCards('he')){\n\t\t\t\t\t\ttarget.chooseToDiscard('增兵减灶','he',function(card){\n\t\t\t\t\t\t\treturn get.type(card)!='basic';\n\t\t\t\t\t\t}).set('ai',function(card){\n\t\t\t\t\t\t\tif(_status.event.goon) return 8-get.value(card);\n\t\t\t\t\t\t\treturn 11-get.value(card);\n\t\t\t\t\t\t}).set('goon',target.countCards('h',function(card){\n\t\t\t\t\t\t\treturn get.value(card,target,'raw')<8;\n\t\t\t\t\t\t})>1).set('prompt2','弃置一张非基本牌，或取消并弃置两张牌');\n\t\t\t\t\t\tevent.more=true;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.chooseToDiscard('he',2,true).set('ai',get.disvalue2);\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tif(event.more&&!result.bool){\n\t\t\t\t\t\ttarget.chooseToDiscard('he',2,true).set('ai',get.disvalue2);\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"7\",useful: \"4\",value: \"10\",tag: {draw: \"2\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasJudge('lebu')) return 0;\n\t\t\t\t\t\t\treturn Math.max(1,2-target.countCards('h')/10);\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段，对一名角色使用。目标角色摸三张牌，然后选择一项：1.弃置一张非基本牌；2.弃置两张牌"},"caomu":{"name":"草木皆兵","script":"{audio: \"true\",fullskin: \"true\",enable: \"true\",type: \"delay\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn (lib.filter.judge(card,player,target)&&player!=target);\n\t\t\t\t},judge: function (card){\n\t\t\t\t\tif(get.suit(card)=='club') return 0;\n\t\t\t\t\treturn -3;\n\t\t\t\t},effect: function (){\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\tplayer.addTempSkill('caomu_skill');\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"1\",useful: \"1\",value: \"4.5\",},result: {player: function (player,target){\n\t\t\t\t\t\t\treturn game.countPlayer(function(current){\n\t\t\t\t\t\t\t\tif(get.distance(target,current)<=1&&current!=target){\n\t\t\t\t\t\t\t\t\tvar att=get.attitude(player,current);\n\t\t\t\t\t\t\t\t\tif(att>3){\n\t\t\t\t\t\t\t\t\t\treturn 1.1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse if(att>0){\n\t\t\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse if(att<-3){\n\t\t\t\t\t\t\t\t\t\treturn -1.1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse if(att<0){\n\t\t\t\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasJudge('bingliang')) return 0;\n\t\t\t\t\t\t\treturn -1.5/Math.sqrt(target.countCards('h')+1);\n\t\t\t\t\t\t},},},selectTarget: \"1\",content: function (){\n\t\t\t\t\tif(lib.filter.judge(card,player,target)&&cards.length&&get.position(cards[0],true)=='o') target.addJudge(card,cards);\n\t\t\t\t},allowMultiple: \"false\",}","info":"出牌阶段，对一名其他角色使用。将【草木皆兵】放置于该角色的判定区里，若判定结果不为梅花：摸牌阶段，目标角色少摸一张牌；摸牌阶段结束时，与其距离为1的角色各摸一张牌"}}},"zhulu":{"name":"逐鹿天下","card":{"zhulu_card":{"name":"逐鹿天下","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: \"true\",cardcolor: \"red\",selectTarget: \"-1\",filterTarget: \"true\",contentBefore: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tif(get.is.versus()){\n\t\t\t\t\t\tplayer.chooseControl('顺时针','逆时针',function(event,player){\n\t\t\t\t\t\t\tif(player.next.side==player.side) return '逆时针';\n\t\t\t\t\t\t\treturn '顺时针';\n\t\t\t\t\t\t}).set('prompt','选择'+get.translation(card)+'的结算方向');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.goto(2);\n\t\t\t\t\t}\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(result&&result.control=='顺时针'){\n\t\t\t\t\t\tvar evt=event.getParent();\n\t\t\t\t\t\tevt.fixedSeat=true;\n\t\t\t\t\t\tevt.targets.sortBySeat();\n\t\t\t\t\t\tevt.targets.reverse();\n\t\t\t\t\t\tif(evt.targets[evt.targets.length-1]==player){\n\t\t\t\t\t\t\tevt.targets.unshift(evt.targets.pop());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\"step 2\"\n\t\t\t\t\tui.clear();\n\t\t\t\t\tvar num;\n\t\t\t\t\tif(event.targets){\n\t\t\t\t\t\tnum=event.targets.length;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tnum=game.countPlayer();\n\t\t\t\t\t}\n\t\t\t\t\tvar cards=[];\n\t\t\t\t\tfor(var i=0;i<num;i++){\n\t\t\t\t\t\tvar cardx=get.cardPile(function(card){\n\t\t\t\t\t\t\treturn get.type(card)=='equip'&&!cards.contains(card);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(cardx) cards.push(cardx);\n\t\t\t\t\t};\n\t\t\t\t\tif(!cards.length){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\tevent.getParent().excluded.addArray(game.players);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tgame.cardsGotoOrdering(cards).relatedEvent=event.getParent();\n\t\t\t\t\tvar dialog=ui.create.dialog('逐鹿天下',cards,true);\n\t\t\t\t\t_status.dieClose.push(dialog);\n\t\t\t\t\tdialog.videoId=lib.status.videoId++;\n\t\t\t\t\tgame.addVideo('cardDialog',null,['逐鹿天下',get.cardsInfo(cards),dialog.videoId]);\n\t\t\t\t\tevent.getParent().preResult=dialog.videoId;\n\t\t\t\t\tgame.broadcast(function(cards,id){\n\t\t\t\t\t\tvar dialog=ui.create.dialog('逐鹿天下',cards,true);\n\t\t\t\t\t\t_status.dieClose.push(dialog);\n\t\t\t\t\t\tdialog.videoId=id;\n\t\t\t\t\t},cards,dialog.videoId);\n\t\t\t\t\tgame.log(event.card,'亮出了',cards);\n\t\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tfor(var i=0;i<ui.dialogs.length;i++){\n\t\t\t\t\t\tif(ui.dialogs[i].videoId==event.preResult){\n\t\t\t\t\t\t\tevent.dialog=ui.dialogs[i];break;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!event.dialog){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar equips=[];\n\t\t\t\t\tfor(var i=0;i<event.dialog.buttons.length;i++){\n\t\t\t\t\t\tvar card=event.dialog.buttons[i].link;\n\t\t\t\t\t\tif(!target.isDisabled(get.subtype(card))) equips.push(card);\n\t\t\t\t\t}\n\t\t\t\t\tif(equips.length>1){\n\t\t\t\t\t\tvar next=target.chooseButton(true,function(button){\n\t\t\t\t\t\t\tvar player=_status.event.player;\n\t\t\t\t\t\t\treturn get.effect(player,button.link,player,player);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnext.set('equips',equips);\n\t\t\t\t\t\tnext.set('filterButton',function(button){\n\t\t\t\t\t\t\treturn _status.event.equips.contains(button.link);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnext.set('dialog',event.preResult);\n\t\t\t\t\t\tnext.set('closeDialog',false);\n\t\t\t\t\t\tnext.set('dialogdisplay',true);\n\t\t\t\t\t}\n\t\t\t\t\telse if(equips.length){\n\t\t\t\t\t\tevent.directButton=equips[0];\n\t\t\t\t\t}\n\t\t\t\t\telse event.finish();\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tvar dialog=event.dialog;\n\t\t\t\t\tvar card;\n\t\t\t\t\tif(event.directButton){\n\t\t\t\t\t\tcard=event.directButton;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcard=result.links[0];\n\t\t\t\t\t}\n\n\t\t\t\t\tvar button;\n\t\t\t\t\tfor(var i=0;i<dialog.buttons.length;i++){\n\t\t\t\t\t\tif(dialog.buttons[i].link==card){\n\t\t\t\t\t\t\tbutton=dialog.buttons[i];\n\t\t\t\t\t\t\tbutton.querySelector('.info').innerHTML=function(target){\n \t\t\t\t\t\t\tif(target._tempTranslate) return target._tempTranslate;\n \t\t\t\t\t\t\tvar name=target.name;\n \t\t\t\t\t\t\tif(lib.translate[name+'_ab']) return lib.translate[name+'_ab'];\n \t\t\t\t\t\t\treturn get.translation(name);\n \t\t\t\t\t\t}(target);\n\t\t\t\t\t\t\tdialog.buttons.remove(button);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar capt=get.translation(target)+'选择了'+get.translation(button.link);\n\t\t\t\t\tif(card){\n\t\t\t\t\t\ttarget.equip(card);\n\t\t\t\t\t\ttarget.$gain2(card);\n\t\t\t\t\t\tgame.broadcast(function(card,id,name,capt){\n\t\t\t\t\t\t\tvar dialog=get.idDialog(id);\n\t\t\t\t\t\t\tif(dialog){\n\t\t\t\t\t\t\t\tdialog.content.firstChild.innerHTML=capt;\n\t\t\t\t\t\t\t\tfor(var i=0;i<dialog.buttons.length;i++){\n\t\t\t\t\t\t\t\t\tif(dialog.buttons[i].link==card){\n\t\t\t\t\t\t\t\t\t\tdialog.buttons[i].querySelector('.info').innerHTML=name;\n\t\t\t\t\t\t\t\t\t\tdialog.buttons.splice(i--,1);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},card,dialog.videoId,function(target){\n\t\t\t\t\t\t\tif(target._tempTranslate) return target._tempTranslate;\n\t\t\t\t\t\t\tvar name=target.name;\n\t\t\t\t\t\t\tif(lib.translate[name+'_ab']) return lib.translate[name+'_ab'];\n\t\t\t\t\t\t\treturn get.translation(name);\n\t\t\t\t\t\t}(target),capt);\n\t\t\t\t\t}\n\t\t\t\t\tdialog.content.firstChild.innerHTML=capt;\n\t\t\t\t\tgame.addVideo('dialogCapt',null,[dialog.videoId,dialog.content.firstChild.innerHTML]);\n\t\t\t\t\tgame.log(target,'选择了',button.link);\n\t\t\t\t\tgame.delay();\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\tfor(var i=0;i<ui.dialogs.length;i++){\n\t\t\t\t\t\tif(ui.dialogs[i].videoId==event.preResult){\n\t\t\t\t\t\t\tvar dialog=ui.dialogs[i];\n\t\t\t\t\t\t\tdialog.close();\n\t\t\t\t\t\t\t_status.dieClose.remove(dialog);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tgame.broadcast(function(id){\n\t\t\t\t\t\tvar dialog=get.idDialog(id);\n\t\t\t\t\t\tif(dialog){\n\t\t\t\t\t\t\tdialog.close();\n\t\t\t\t\t\t\t_status.dieClose.remove(dialog);\n\t\t\t\t\t\t}\n\t\t\t\t\t},event.preResult);\n\t\t\t\t\tgame.addVideo('cardDialog',null,event.preResult);\n\t\t\t\t},ai: {wuxie: function (){\n\t\t\t\t\t\tif(Math.random()<0.5) return 0;\n\t\t\t\t\t},basic: {order: \"3\",useful: \"1\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(get.is.versus()){\n\t\t\t\t\t\t\t\tif(target==player) return 1.5;\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(player.hasUnknown(2)){\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 2-2*get.distance(player,target,'absolute')/game.countPlayer();\n\t\t\t\t\t\t},},tag: {draw: \"1\",multitarget: \"1\",},},}","info":"出牌阶段，对所有角色使用。你从牌堆和弃牌堆亮出等同于目标角色数的装备牌，每名目标角色将其中一张牌置于自己的装备区。"},"kaihua":{"name":"树上开花","script":"{enable: \"true\",fullskin: \"true\",type: \"trick\",selectTarget: \"-1\",toself: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},modTarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tif(!target.countCards('he')){\n\t\t\t\t\t\tevent.finish();return;\n\t\t\t\t\t}\n\t\t\t\t\ttarget.chooseToDiscard(true,'he',[1,2]).set('ai',function(card){\n\t\t\t\t\t\tif(!ui.selected.cards.length&&get.type(card)=='equip') return 8-get.value(card);\n\t\t\t\t\t\treturn 6-get.value(card);\n\t\t\t\t\t});\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.bool&&result.cards){\n\t\t\t\t\t\tvar bool=0;\n\t\t\t\t\t\tfor(var i=0;i<result.cards.length;i++){\n\t\t\t\t\t\t\tif(get.type(result.cards[i])=='equip'){bool=1;break}\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttarget.draw(result.cards.length+bool);\n\t\t\t\t\t}\n\t\t\t\t},ai: {wuxie: function (){\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},basic: {useful: \"3\",value: \"3\",order: \"5\",},result: {target: function (player,target,card){\n\t\t\t\t\t\t\tvar cards=ui.selected.cards.concat(card.cards||[]);\n\t\t\t\t\t\t\tvar num=player.countCards('he',function(card){\n\t\t\t\t\t\t\t\tif(cards.contains(card)) return false;\n\t\t\t\t\t\t\t\tif(get.type(card)=='equip') return 8>get.value(card);\n\t\t\t\t\t\t\t\treturn 6>get.value(card);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif(!num) return 0;\n\t\t\t\t\t\t\tif(player.countCards('he',function(card){\n\t\t\t\t\t\t\t\tif(cards.contains(card)) return false;\n\t\t\t\t\t\t\t\tif(get.type(card)=='equip') return 4>get.value(card);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t})) return 1.6;\n\t\t\t\t\t\t\tif(num<2) return 0.5;\n\t\t\t\t\t\t\treturn 1.2;\n\t\t\t\t\t\t},},tag: {loseCard: \"1\",discard: \"1\",norepeat: \"1\",},},}","info":"出牌阶段，对包含你自己在内的一名角色使用。目标角色弃置一至两张牌，然后摸等量的牌。若其以此法弃置了装备牌，则多摸一张牌。"},"jiejia":{"name":"解甲归田","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.countCards('e')>0;\n\t\t\t\t},content: function (){\n\t\t\t\t\tvar es=target.getCards('e');\n\t\t\t\t\tif(es.length) target.gain(es,'gain2','log');\n\t\t\t\t},ai: {order: \"10\",tag: {gain: \"1\",},basic: {useful: \"0.5\",value: \"0.5\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tvar e5=target.getEquip(5);\n\t\t\t\t\t\t\tif(e5&&e5.name=='muniu'&&e5.cards&&e5.cards.length>1) return -1;\n\t\t\t\t\t\t\tif(target.countCards('e',function(card){\n\t\t\t\t\t\t\t\treturn get.value(card,target)<=0;\n\t\t\t\t\t\t\t})||target.hasSkillTag('noe')) return 1;\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段，对一名装备区内有牌的角色使用。该角色获得其装备区内的所有牌。"},"caochuan":{"name":"草船借箭","script":"{fullskin: \"true\",type: \"trick\",wuxieable: \"true\",global: [\"caochuan_skill\"],notarget: \"true\",content: function (){\n\t\t\t\t\tvar evt2=event.getParent(3)._trigger;\n\t\t\t\t\tevt2.cancel();\n\t\t\t\t\tvar evt=evt2.getParent();\n\t\t\t\t\tvar next=game.createEvent('caochuan_gain');\n\t\t\t\t\t_status.event.next.remove(next);\n\t\t\t\t\tevt.after.unshift(next);\n\t\t\t\t\tnext.player=player;\n\t\t\t\t\tnext.setContent(function(){\n\t\t\t\t\t\tvar cards=event.getParent().cards.filterInD();\n\t\t\t\t\t\tif(cards.length) player.gain(cards,'gain2','log');\n\t\t\t\t\t});\n\t\t\t\t},ai: {basic: {useful: [6,4],value: [6,4],},result: {player: \"1\",},},}","info":"当带有「伤害」标签的基本牌或普通锦囊牌对你生效前，对此牌使用。抵消此牌对你产生的效果。当此牌结算完成后，你获得此牌对应的所有实体牌。"},"numa":{"name":"驽马","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip4\",filterTarget: function (card,player,target){\n\t\t\t\treturn player!=target;\n\t\t\t},selectTarget: \"1\",toself: \"false\",loseThrow: \"true\",customSwap: function (){\n\t\t\t\t\treturn true;\n\t\t\t\t},ai: {order: \"9\",value: function (card,player){\n\t\t\t\t\t\tif(player.getEquip(4)==card) return 0;\n\t\t\t\t\t\treturn 4;\n\t\t\t\t\t},equipValue: function (card,player){\n\t\t\t\t\t\tif(player.getCards('e').contains(card)) return 0;\n\t\t\t\t\t\treturn -get.value(player.getCards('e'));\n\t\t\t\t\t},basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {keepAI: \"true\",target: function (player,target){\n\t\t\t\t\t\t\tvar cards=target.getCards('e');\n\t\t\t\t\t\t\tvar val=get.value(cards,target);\n\t\t\t\t\t\t\tif(val>0) return -val;\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},},enable: \"true\",modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},}","info":"锁定技，当此牌进入你的装备区时，你弃置装备区内的所有其他牌。"},"yajiaoqiang":{"name":"涯角枪","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-2\",},skills: [\"yajiaoqiang_skill\"],ai: {equipValue: function (card,player){\n\t\t\t\t\t\tvar skills=['longdan','kanpo','rekanpo','qingguo','reqingguo','ollongdan','refanghun'];\n\t\t\t\t\t\tfor(var i=0;i<skills.length;i++){\n\t\t\t\t\t\t\tif(player.hasSkill(skills[i])) return 5;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(player.countCards('h',function(card){\n\t\t\t\t\t\t\treturn get.color(card)=='black'&&['wuxie','caochuan'].contains(card);\n\t\t\t\t\t\t})) return 5;\n\t\t\t\t\t\treturn 2;\n\t\t\t\t\t},basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你于一名其他角色的回合内第一次使用的黑色牌结算完成后，你可以获得此牌对应的所有实体牌。"},"wufengjian":{"name":"无锋剑","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",filterTarget: function (card,player,target){\n\t\t\t\treturn player!=target;\n\t\t\t},selectTarget: \"1\",toself: \"false\",skills: [\"wufengjian_skill\"],ai: {order: \"9\",equipValue: function (card,player){\n\t\t\t\t\t\tif(get.position(card)=='e') return -2;\n\t\t\t\t\t\treturn 2;\n\t\t\t\t\t},value: function (card,player){\n\t\t\t\t\t\tif(player.getEquip(1)==card) return -1.5;\n\t\t\t\t\t\treturn 1.5;\n\t\t\t\t\t},basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {keepAI: \"true\",target: function (player,target){\n\t\t\t\t\t\t\tvar val=2;\n\t\t\t\t\t\t\tvar val2=0;\n\t\t\t\t\t\t\tvar card=target.getEquip(1);\n\t\t\t\t\t\t\tif(card){\n\t\t\t\t\t\t\t\tval2=get.value(card,target);\n\t\t\t\t\t\t\t\tif(val2<0) return 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn -val-val2;\n\t\t\t\t\t\t},},},enable: \"true\",modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},}","info":"锁定技，当你使用【杀】时，你弃置一张不为装备区内【无锋剑】的牌。"},"zheji":{"name":"折戟","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",filterTarget: function (card,player,target){\n\t\t\t\treturn player!=target;\n\t\t\t},selectTarget: \"1\",toself: \"false\",distance: {attackFrom: \"1\",},ai: {order: \"9\",equipValue: function (card,player){\n\t\t\t\t\t\tif(get.position(card)=='e') return -2;\n\t\t\t\t\t\treturn 2;\n\t\t\t\t\t},value: function (card,player){\n\t\t\t\t\t\tif(player.getEquip(1)==card) return -3;\n\t\t\t\t\t\treturn 3;\n\t\t\t\t\t},basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {keepAI: \"true\",target: function (player,target){\n\t\t\t\t\t\t\tvar val=2.5;\n\t\t\t\t\t\t\tvar val2=0;\n\t\t\t\t\t\t\tvar card=target.getEquip(1);\n\t\t\t\t\t\t\tif(card){\n\t\t\t\t\t\t\t\tval2=get.value(card,target);\n\t\t\t\t\t\t\t\tif(val2<0) return 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn -val-val2;\n\t\t\t\t\t\t},},},enable: \"true\",modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},}","info":"这是一把坏掉的武器..."},"yinfengjia":{"name":"引蜂甲","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip2\",filterTarget: function (card,player,target){\n\t\t\t\treturn player!=target;\n\t\t\t},selectTarget: \"1\",toself: \"false\",skills: [\"yinfengjia_skill\"],ai: {order: \"9\",equipValue: function (card,player){\n\t\t\t\t\t\tif(get.position(card)=='e') return -1;\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t},value: function (card,player){\n\t\t\t\t\t\tif(player.getEquip(2)==card) return -2.5;\n\t\t\t\t\t\treturn 2.5;\n\t\t\t\t\t},basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {keepAI: \"true\",target: function (player,target){\n\t\t\t\t\t\t\tvar val=2;\n\t\t\t\t\t\t\tvar val2=0;\n\t\t\t\t\t\t\tvar card=target.getEquip(2);\n\t\t\t\t\t\t\tif(card){\n\t\t\t\t\t\t\t\tval2=get.value(card,target);\n\t\t\t\t\t\t\t\tif(val2<0) return 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn -val-val2;\n\t\t\t\t\t\t},},},enable: \"true\",modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},}","info":"锁定技，当你受到锦囊牌造成的伤害时，此伤害+1。"},"nvzhuang":{"name":"女装","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip2\",filterTarget: function (card,player,target){\n\t\t\t\treturn player!=target;\n\t\t\t},selectTarget: \"1\",toself: \"false\",loseDelay: \"false\",onEquip: function (){\n\t\t\t\t\tif(player.sex=='male'&&player.countCards('he',function(cardx){\n\t\t\t\t\t\treturn cardx!=card;\n\t\t\t\t\t})) player.chooseToDiscard(true,function(card){\n\t\t\t\t\t\treturn card!=_status.event.card;\n\t\t\t\t\t},'he').set('card',card);\n\t\t\t\t},onLose: function (){\n\t\t\t\t\tif(player.sex!='male') return;\n\t\t\t\t\tvar next=game.createEvent('nvzhuang_lose');\n\t\t\t\t\tevent.next.remove(next);\n\t\t\t\t\tvar evt=event.getParent();\n\t\t\t\t\tif(evt.getlx===false) evt=evt.getParent();\n\t\t\t\t\tevt.after.push(next);\n\t\t\t\t\tnext.player=player;\n\t\t\t\t\tnext.setContent(function(){\n\t\t\t\t\t\tif(player.countCards('he')){\n\t\t\t\t\t\t\tplayer.popup('nvzhuang');\n\t\t\t\t\t\t\tplayer.chooseToDiscard(true,'he');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},ai: {order: \"9.5\",equipValue: function (card,player){\n\t\t\t\t\t\tif(card==player.getEquip(2)){\n\t\t\t\t\t\t\tif(player.sex!='male') return 0;\n\t\t\t\t\t\t\tvar num=player.countCards('he',function(cardx){\n\t\t\t\t\t\t\t\treturn cardx!=card;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif(num==0) return 0;\n\t\t\t\t\t\t\treturn 4/num;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t},value: function (){\n\t\t\t\t\t\treturn lib.card.nvzhuang.ai.equipValue.apply(this,arguments);\n\t\t\t\t\t},basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {keepAI: \"true\",target: function (player,target){\n\t\t\t\t\t\t\tvar card=target.getEquip(2);\n\t\t\t\t\t\t\tif(target.sex=='male'){\n\t\t\t\t\t\t\t\tvar val=0;\n\t\t\t\t\t\t\t\tvar val2=0;\n\t\t\t\t\t\t\t\tif(card){\n\t\t\t\t\t\t\t\t\tval2=get.value(card,target);\n\t\t\t\t\t\t\t\t\tif(val2<0) return 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar num=target.countCards('he',function(cardx){\n\t\t\t\t\t\t\t\t\treturn cardx!=card\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif(num>0) val+=4/num;\n\t\t\t\t\t\t\t\treturn -val;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(card){\n\t\t\t\t\t\t\t\tvar val2=get.value(card,target);\n\t\t\t\t\t\t\t\tif(val2>0) return -val2/4;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},},enable: \"true\",modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},}","info":"锁定技，当此牌进入或离开你的装备区时，若你的性别为男性，你弃置一张不为此牌的牌。"},"yexingyi":{"name":"夜行衣","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip2\",skills: [\"yexingyi_skill\"],ai: {equipValue: \"4\",basic: {equipValue: \"4\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，你不是黑色锦囊牌的合法目标。"},"jinhe":{"name":"锦盒","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",filterTarget: function (card,player,target){\n\t\t\t\treturn player!=target;\n\t\t\t},selectTarget: \"1\",toself: \"false\",skills: [\"jinhe_skill\"],global: [\"jinhe_lose\"],loseDelay: \"false\",onEquip: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tplayer.markSkill('jinhe_skill');\n\t\t\t\t\tif(event.getParent(2).name!='jinhe') event.finish();\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.target=player;\n\t\t\t\t\t\tevent.player=event.getParent(2).player;\n\t\t\t\t\t}\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tvar id=card.cardid;\n\t\t\t\t\tevent.cardid=id;\n\t\t\t\t\tif(!_status.jinhe) _status.jinhe={};\n\t\t\t\t\tif(_status.jinhe[id]){\n\t\t\t\t\t\tgame.cardsDiscard(_status.jinhe[id].card);\n\t\t\t\t\t\tdelete _status.jinhe[id];\n\t\t\t\t\t}\n\t\t\t\t\tvar cards2=get.cards(2);\n\t\t\t\t\tevent.cards2=cards2;\n\t\t\t\t\tplayer.chooseButton(['选择一张牌作为「礼」',cards2],true);\n\t\t\t\t\t\"step 2\"\n\t\t\t\t\tvar id=event.cardid;\n\t\t\t\t\t_status.jinhe[id]={\n\t\t\t\t\t\tplayer:player,\n\t\t\t\t\t\tcard:result.links[0],\n\t\t\t\t\t};\n\t\t\t\t\tgame.broadcast(function(jinhe){\n\t\t\t\t\t\t_status.jinhe=jinhe;\n\t\t\t\t\t},_status.jinhe);\n\t\t\t\t\tgame.cardsGotoSpecial(result.links[0]);\n\t\t\t\t\tevent.cards2.remove(result.links[0]);\n\t\t\t\t\tevent.cards2[0].fix();\n\t\t\t\t\tui.cardPile.insertBefore(event.cards2[0],ui.cardPile.firstChild);\n\t\t\t\t\tgame.updateRoundNumber();\n\t\t\t\t\ttarget.markSkill('jinhe_skill');\n\t\t\t\t},onLose: function (){\n\t\t\t\t\tplayer.unmarkSkill('jinhe_skill');\n\t\t\t\t\tvar id=card.cardid;\n\t\t\t\t\tif((event.getParent(2)&&event.getParent(2).name!='swapEquip')&&get.position(card)!='d'&&event.parent.type!='equip'&&_status.jinhe&&_status.jinhe[id]){\n\t\t\t\t\t\tvar card2=_status.jinhe[id].card;\n\t\t\t\t\t\tplayer.$throw(card2,1000);\n\t\t\t\t\t\tgame.log(card,'掉落了',card2);\n\t\t\t\t\t\tgame.cardsDiscard(card2);\n\t\t\t\t\t\tdelete _status.jinhe[id];\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"9.5\",equipValue: function (card,player){\n\t\t\t\t\t\tif(card!=player.getEquip(5)) return 5;\n\t\t\t\t\t\tif(_status.jinhe&&_status.jinhe[card.cardid]&&_status.event.name!='gainPlayerCard') return 3*player.countCards('h');\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},value: function (){\n\t\t\t\t\t\treturn lib.card.jinhe.ai.equipValue.apply(this,arguments);\n\t\t\t\t\t},basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {keepAI: \"true\",target: function (player,target,cardx){\n\t\t\t\t\t\t\tif(_status.jinhe&&_status.jinhe[cardx.cardid]) return -0.5-2*target.countCards('h');\n\t\t\t\t\t\t\tvar card=target.getEquip(5);\n\t\t\t\t\t\t\tif(!card) return 0;\n\t\t\t\t\t\t\treturn -get.value(card,target);\n\t\t\t\t\t\t},target_use: function (player,target){\n\t\t\t\t\t\t\treturn -0.5-2*target.countCards('h');\n\t\t\t\t\t\t},},},enable: \"true\",modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},}","info":"当你使用【锦盒】时，你将原有的与此牌对应的「礼」置入弃牌堆（若有），然后观看牌堆顶的两张牌并将其中一张置于游戏外与此牌对应，称之为「礼」。<br>出牌阶段，你可以将与此牌对应的「礼」置入弃牌堆，然后弃置【锦盒】以及所有与「礼」花色相同的手牌。当此牌因其他原因进入弃牌堆后，你将与此牌对应的「礼」置入弃牌堆并弃置所有手牌。"}}},"yingbian":{"name":"应变篇","card":{"suijiyingbian":{"name":"随机应变","script":"{global: \"suijiyingbian_skill\",fullskin: \"true\",type: \"trick\",}","info":"此牌的牌名视为你本回合内使用或打出的上一张基本牌或普通锦囊牌的牌名。"},"zhujinqiyuan":{"name":"逐近弃远","script":"{type: \"trick\",enable: \"true\",audio: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player&&target.countCards('hej')>0;\n\t\t\t\t},yingbian_prompt: \"此牌的效果改为依次执行所有选项\",content: function (){\n\t\t\t\t\tvar dist=get.distance(player,target);\n\t\t\t\t\tif(dist>1||card.yingbian) player.discardPlayerCard(target,'hej',true);\n\t\t\t\t\tif(dist<=1||card.yingbian) player.gainPlayerCard(target,'hej',true);\n\t\t\t\t},fullskin: \"true\",postAi: function (targets){\n\t\t\t\t\treturn targets.length==1&&targets[0].countCards('j');\n\t\t\t\t},ai: {wuxie: function (target,card,player,viewer){\n\t\t\t\t\t\tif(get.attitude(viewer,player)>0&&get.attitude(viewer,target)>0){\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t},yingbian: function (card,player,targets,viewer){\n\t\t\t\t\t\tif(get.attitude(viewer,player)<=0) return 0;\n\t\t\t\t\t\tif(targets.filter(function(current){\n\t\t\t\t\t\t\tvar att=get.attitude(player,current);\n\t\t\t\t\t\t\tif(att<=0) return current.countCards('he',function(card){\n\t\t\t\t\t\t\t\treturn get.value(card,current)>0;\n\t\t\t\t\t\t\t})>1;\n\t\t\t\t\t\t\treturn current.countCards('ej',function(card){\n\t\t\t\t\t\t\t\treturn get.position(card)=='j'||get.value(card,current)<=0;\n\t\t\t\t\t\t\t})>1;\n\t\t\t\t\t\t}).length) return 6;\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},basic: {order: \"7.5\",useful: \"4\",value: \"9\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tvar discard=get.distance(player,target)>1;\n\t\t\t\t\t\t\tif(get.attitude(player,target)<=0) return (target.countCards('he',function(card){\n\t\t\t\t\t\t\t\treturn get.value(card,target)>0&&(discard||card!=target.getEquip('jinhe'));\n\t\t\t\t\t\t\t})>0)?-1.5:1.5;\n\t\t\t\t\t\t\tvar js=target.getCards('j');\n\t\t\t\t\t\t\tif(js.length){\n\t\t\t\t\t\t\t\tvar jj=js[0].viewAs?{name:js[0].viewAs}:js[0];\n\t\t\t\t\t\t\t\tif(js.length==1&&get.effect(target,jj,target,player)>=0){\n\t\t\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn 3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t},player: function (player,target){\n\t\t\t\t\t\t\tif(get.distance(player,target)>1) return 0;\n\t\t\t\t\t\t\tif(get.attitude(player,target)<0&&!target.countCards('he',function(card){\n\t\t\t\t\t\t\t\treturn get.value(card,target)>0&&card!=target.getEquip('jinhe');\n\t\t\t\t\t\t\t})){\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(get.attitude(player,target)>1){\n\t\t\t\t\t\t\t\tvar js=target.getCards('j');\n\t\t\t\t\t\t\t\tif(js.length){\n\t\t\t\t\t\t\t\t\tvar jj=js[0].viewAs?{name:js[0].viewAs}:js[0];\n\t\t\t\t\t\t\t\t\tif(js.length==1&&get.effect(target,jj,target,player)>=0){\n\t\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},tag: {loseCard: \"1\",gain: \"1\",},},selectTarget: \"1\",}","info":"出牌阶段，对一名有牌的其他角色使用。若你与其距离的大于1，你弃置其区域内的一张牌；若你与其的距离等于1，你获得其区域内的一张牌。"},"dongzhuxianji":{"name":"洞烛先机","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: \"true\",selectTarget: \"-1\",toself: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},modTarget: \"true\",content: function (){\n\t\t\t\t\ttarget.chooseToGuanxing(2);\n\t\t\t\t\ttarget.draw(2);\n\t\t\t\t},ai: {basic: {order: \"7.2\",useful: \"4.5\",value: \"9.2\",},result: {target: \"2.1\",},tag: {draw: \"2\",},},}","info":"出牌阶段，对包含你在内的一名角色使用。你观看牌堆顶的两张牌并将其以任意顺序置于牌堆顶或牌堆底，然后摸两张牌。"},"chuqibuyi":{"name":"出其不意","script":"{audio: \"true\",enable: \"true\",type: \"trick\",fullskin: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player&&target.countCards('h')>0;\n\t\t\t\t},yingbian_prompt: \"当你使用此牌选择目标后，你可为此牌增加一个目标\",yingbian: function (event){\n\t\t\t\t\tevent.yingbian_addTarget=true;\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tif(player.isDead()||!target.countCards('h')){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tplayer.choosePlayerCard(target,'h',true);\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\ttarget.showCards(result.cards);\n\t\t\t\t\t\tif(get.suit(card)!=get.suit(result.cards[0])) target.damage();\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"5\",useful: \"2\",value: \"6\",},yingbian: function (card,player,targets,viewer){\n\t\t\t\t\t\tif(get.attitude(viewer,player)<=0) return 0;\n\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\treturn !targets.contains(current)&&lib.filter.targetEnabled2(card,player,current)&&get.effect(current,card,player,player)>0;\n\t\t\t\t\t\t})) return 6;\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},result: {target: function (player,target,cardx){\n\t\t\t\t\t\t\tif(player.hasSkillTag('viewHandcard',null,target,true)) return target.countCards('h',function(card){\n\t\t\t\t\t\t\t\treturn get.suit(card)!=get.suit(cardx)\n\t\t\t\t\t\t\t})>0?-1.5:0;\n\t\t\t\t\t\t\treturn -1.4;\n\t\t\t\t\t\t},},tag: {damage: \"1\",},},selectTarget: \"1\",}","info":"出牌阶段，对一名有手牌的其他角色使用。你展示其一张手牌，若此牌与【出其不意】的花色不同，则你对其造成1点伤害。"},"wuxinghelingshan":{"name":"五行鹤翎扇","script":"{audio: \"true\",fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-3\",},ai: {basic: {equipValue: \"2\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"wuxinghelingshan_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你声明使用不为神属性的属性【杀】时，你可将此【杀】的属性改为不为神属性的其他属性。"},"wutiesuolian":{"name":"乌铁锁链","script":"{audio: \"true\",fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-2\",},ai: {basic: {equipValue: \"2\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"wutiesuolian_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，当你使用【杀】指定目标后，若其：已横置，你观看其手牌。未横置，其横置。"},"heiguangkai":{"name":"黑光铠","script":"{audio: \"true\",fullskin: \"true\",type: \"equip\",subtype: \"equip2\",ai: {basic: {equipValue: \"2\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"heiguangkai_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，当你成为【杀】或普通锦囊牌的目标后，若此牌的目标数大于1，则你令此牌对你无效。"},"tongque":{"name":"铜雀","script":"{audio: \"true\",fullskin: \"true\",type: \"equip\",subtype: \"equip5\",ai: {basic: {equipValue: \"6.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"tongque_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你使用带有【应变】效果的牌可以无视条件直接生效。"},"tianjitu":{"name":"天机图","script":"{audio: \"true\",fullskin: \"true\",type: \"equip\",subtype: \"equip5\",loseDelay: \"false\",onEquip: function (){\n\t\t\t\t\tif(player.countCards('he',function(cardx){\n\t\t\t\t\t\treturn cardx!=card;\n\t\t\t\t\t})>0){\n\t\t\t\t\t\tplayer.logSkill('tianjitu');\n\t\t\t\t\t\tplayer.chooseToDiscard(true,function(card){\n\t\t\t\t\t\t\treturn card!=_status.event.card;\n\t\t\t\t\t\t},'he').set('card',card);\n\t\t\t\t\t}\n\t\t\t\t},onLose: function (){\n\t\t\t\t\tvar next=game.createEvent('tianjitu_lose');\n\t\t\t\t\tevent.next.remove(next);\n\t\t\t\t\tvar evt=event.getParent();\n\t\t\t\t\tif(evt.getlx===false) evt=evt.getParent();\n\t\t\t\t\tevt.after.push(next);\n\t\t\t\t\tnext.player=player;\n\t\t\t\t\tnext.setContent(function(){\n\t\t\t\t\t\tif(player.countCards('h')<5){\n\t\t\t\t\t\t\tplayer.logSkill('tianjitu');\n\t\t\t\t\t\t\tplayer.drawTo(5);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},ai: {value: function (card,player){\n\t\t\t\t\t\tif(player.countCards('h')>3||get.position(card)!='e') return 0.5;\n\t\t\t\t\t\treturn (player.countCards('h')-5)/3;\n\t\t\t\t\t},equipValue: function (card,player){\n\t\t\t\t\t\tif(player.countCards('h')>3||get.position(card)!='e') return 0.5;\n\t\t\t\t\t\treturn (player.countCards('h')-5)/3;\n\t\t\t\t\t},basic: {equipValue: \"0.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，当此牌进入你的装备区时，你弃置一张不为此【天机图】的牌。当此牌离开你的装备区后，你将手牌摸至五张。"},"taigongyinfu":{"name":"太公阴符","script":"{audio: \"true\",fullskin: \"true\",type: \"equip\",subtype: \"equip5\",ai: {basic: {equipValue: \"3\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"taigongyinfu_skill\",\"taigongyinfu_link\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"出牌阶段开始时，你可以横置一名角色。出牌阶段结束时，你可以重铸一张手牌。"}}},"zhenfa":{"name":"阵法","card":{"changshezhen":{"name":"长蛇阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (card,player){\n\t\t\t\t\tif(player.inline()) return true;\n\t\t\t\t\tif(player.identity=='unknown'||player.identity=='ye') return false;\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current!=player&&current.isFriendOf(player);\n\t\t\t\t\t});\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\tif(player.inline()){\n\t\t\t\t\t\tvar targets=game.filterPlayer(function(current){\n\t\t\t\t\t\t\treturn player.inline(current);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tplayer.line(targets);\n\t\t\t\t\t\tgame.asyncDraw(targets);\n\t\t\t\t\t}\n\t\t\t\t\telse if(player.getNext()){\n\t\t\t\t\t\tvar list=game.filterPlayer(function(current){\n\t\t\t\t\t\t\treturn current!=player&&current.isFriendOf(player);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(list.length){\n\t\t\t\t\t\t\tlist.sort(function(a,b){\n\t\t\t\t\t\t\t\treturn get.distance(player,a,'absolute')-get.distance(player,b,'absolute');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tplayer.line(list[0]);\n\t\t\t\t\t\t\tgame.swapSeat(list[0],player.getNext(),true,true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"6.5\",result: {player: \"1\",},tag: {draw: \"1\",},},}","info":"若你处于队列中，与你同一队列的所有角色摸一张牌，否则将与你逆时针距离最近的同势力角色移至你下家"},"tianfuzhen":{"name":"天覆阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (){\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current.isMajor();\n\t\t\t\t\t});\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.isMajor()&&target.countCards('he')>0;\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\ttarget.chooseToDiscard('he',true).delay=false;\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"-1\",},tag: {discard: \"1\",},},}","info":"所有大势力角色弃置一张牌"},"dizaizhen":{"name":"地载阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (){\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current.isNotMajor();\n\t\t\t\t\t});\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.isNotMajor();\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\ttarget.draw(false);\n\t\t\t\t\ttarget.$draw();\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"1\",},tag: {draw: \"1\",},},}","info":"所有小势力角色摸一张牌"},"qixingzhen":{"name":"七星阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (card,player){\n\t\t\t\t\treturn player.siege()||player.sieged();\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tevent.targets=game.filterPlayer(function(current){\n\t\t\t\t\t\treturn current.siege(player);\n\t\t\t\t\t});\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(event.targets.length){\n\t\t\t\t\t\tvar current=event.targets.shift();\n\t\t\t\t\t\tplayer.line(current,'green');\n\t\t\t\t\t\tplayer.discardPlayerCard(current,true);\n\t\t\t\t\t\tevent.redo();\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tvar card={name:'sha',isCard:true};\n\t\t\t\t\tvar list=game.filterPlayer(function(current){\n\t\t\t\t\t\treturn current.siege(player)&&player.canUse(card,current);\n\t\t\t\t\t});\n\t\t\t\t\tif(list.length){\n\t\t\t\t\t\tplayer.useCard(card,list,false);\n\t\t\t\t\t}\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"1\",},},}","info":"弃置所有围攻你的角色各一张牌，然后视为对所有你围攻的角色使用一张不计入出杀次数的杀"},"niaoxiangzhen":{"name":"鸟翔阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\tif(player.identity==target.identity) return false;\n\t\t\t\t\tif(target.identity=='unknown'||target.identity=='ye') return false;\n\t\t\t\t\treturn target.identity==target.next.identity||target.identity==target.previous.identity\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tvar next=target.chooseToRespond({name:'shan'});\n\t\t\t\t\tnext.ai=function(card){\n\t\t\t\t\t\tif(get.damageEffect(target,player,target)>=0) return 0;\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t};\n\t\t\t\t\tnext.autochoose=lib.filter.autoRespondShan;\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\ttarget.damage();\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"9\",useful: \"1\",},result: {target: \"-1.5\",},tag: {respond: \"1\",respondShan: \"1\",damage: \"1\",},},mode: [\"guozhan\"],}","info":"令所有非你阵营的队列的角色今次打出一张闪，或者受到一点伤害"}}},"standard":{"name":"标准","card":{"sha":{"name":"杀","script":"{audio: \"true\",fullskin: \"true\",nature: [\"thunder\",\"fire\",\"kami\",\"ice\"],type: \"basic\",enable: \"true\",usable: \"1\",updateUsable: \"phaseUse\",range: {attack: \"1\",},selectTarget: \"1\",yingbian_prompt: function (card){\n\t\t\t\t\tif(card.nature=='fire'){\n\t\t\t\t\t\treturn '此牌的伤害值基数+1';\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\treturn '当你使用此牌选择目标后，你可为此牌增加一个目标';\n\t\t\t\t\t}\n\t\t\t\t},yingbian: function (event){\n\t\t\t\t\tif(event.card.nature=='fire'){\n\t\t\t\t\t\tif(typeof event.baseDamage!='number') event.baseDamage=1;\n\t\t\t\t\t\tevent.baseDamage++;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.yingbian_addTarget=true;\n\t\t\t\t\t}\n\t\t\t\t},filterTarget: function (card,player,target){return player!=target},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tif(typeof event.shanRequired!='number'||!event.shanRequired||event.shanRequired<0){\n\t\t\t\t\t\tevent.shanRequired=1;\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof event.baseDamage!='number') event.baseDamage=1;\n\t\t\t\t\tif(typeof event.extraDamage!='number') event.extraDamage=0;\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(event.directHit||event.directHit2||(!_status.connectMode&&lib.config.skip_shan&&!target.hasShan())){\n\t\t\t\t\t\tevent._result={bool:false};\n\t\t\t\t\t}\n\t\t\t\t\telse if(event.skipShan){\n\t\t\t\t\t\tevent._result={bool:true,result:'shaned'};\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar next=target.chooseToUse('请使用一张闪响应杀');\n\t\t\t\t\t\tnext.set('type','respondShan');\n\t\t\t\t\t\tnext.set('filterCard',function(card,player){\n\t\t\t\t\t\t\tif(get.name(card)!='shan') return false;\n\t\t\t\t\t\t\treturn lib.filter.cardEnabled(card,player,'forceEnable');\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(event.shanRequired>1){\n\t\t\t\t\t\t\tnext.set('prompt2','（共需使用'+event.shanRequired+'张闪）');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnext.set('ai1',function(card){\n\t\t\t\t\t\t\tvar target=_status.event.player;\n\t\t\t\t\t\t\tvar evt=_status.event.getParent();\n\t\t\t\t\t\t\tvar bool=true;\n\t\t\t\t\t\t\tif(_status.event.shanRequired>1&&!get.is.object(card)&&target.countCards('h','shan')<_status.event.shanRequired){\n\t\t\t\t\t\t\t\tbool=false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(target.hasSkillTag('useShan')){\n\t\t\t\t\t\t\t\tbool=true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(target.hasSkillTag('noShan')){\n\t\t\t\t\t\t\t\tbool=false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(get.damageEffect(target,evt.player,target,evt.card.nature)>=0) bool=false;\n\t\t\t\t\t\t\tif(bool){\n\t\t\t\t\t\t\t\treturn get.order(card);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}).set('shanRequired',event.shanRequired);\n\t\t\t\t\t\tnext.set('respondTo',[player,card]);\n\t\t\t\t\t\t//next.autochoose=lib.filter.autoRespondShan;\n\t\t\t\t\t}\n\t\t\t\t\t\"step 2\"\n\t\t\t\t\tif(!result||!result.bool||!result.result||result.result!='shaned'){\n\t\t\t\t\t\tevent.trigger('shaHit');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.shanRequired--;\n\t\t\t\t\t\tif(event.shanRequired>0){\n\t\t\t\t\t\t\tevent.goto(1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tevent.trigger('shaMiss');\n\t\t\t\t\t\t\tevent.responded=result;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\"step 3\"\n\t\t\t\t\tif((!result||!result.bool||!result.result||result.result!='shaned')&&!event.unhurt){\n\t\t\t\t\t\ttarget.damage(get.nature(event.card),event.baseDamage+event.extraDamage);\n\t\t\t\t\t\tevent.result={bool:true}\n\t\t\t\t\t\tevent.trigger('shaDamage');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.result={bool:false}\n\t\t\t\t\t\tevent.trigger('shaUnhirt');\n\t\t\t\t\t}\n\t\t\t\t},ai: {canLink: function (player,target,card){\n\t\t\t\t\t\tif(!target.isLinked()&&!player.hasSkill('wutiesuolian_skill')) return false;\n\t\t\t\t\t\tif(target.mayHaveShan()&&!player.hasSkillTag('directHit_ai',true,{\n\t\t\t\t\t\t\ttarget:target,\n\t\t\t\t\t\t\tcard:card,\n\t\t\t\t\t\t},true)) return false;\n\t\t\t\t\t\tif(player.hasSkill('jueqing')||target.hasSkill('gangzhi')||target.hasSkill('gangzhi')) return false;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t},basic: {useful: [5,1],value: [5,1],},order: function (item,player){\n\t\t\t\t\t\tif(player.hasSkillTag('presha',true,null,true)) return 10;\n\t\t\t\t\t\tif(lib.linked.contains(get.nature(item))){\n\t\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\t\treturn current!=player&&current.isLinked()&&player.canUse(item,current,null,true)&&get.effect(current,item,player,player)>0&&lib.card.sha.ai.canLink(player,current,item);\n\t\t\t\t\t\t\t})&&game.countPlayer(function(current){\n\t\t\t\t\t\t\t\treturn current.isLinked()&&get.damageEffect(current,player,player,get.nature(item))>0;\n\t\t\t\t\t\t\t})>1) return 3.1;\n\t\t\t\t\t\t\treturn 3;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 3.05;\n\t\t\t\t\t},result: {target: function (player,target,card,isLink){\n\t\t\t\t\t\t\tvar eff=function(){\n\t\t\t\t\t\t\t\tif(!isLink&&player.hasSkill('jiu')){\n\t\t\t\t\t\t\t\t\tif(!target.hasSkillTag('filterDamage',null,{\n\t\t\t\t\t\t\t\t\t\tplayer:player,\n\t\t\t\t\t\t\t\t\t\tcard:card,\n\t\t\t\t\t\t\t\t\t\tjiu:true,\n\t\t\t\t\t\t\t\t\t})){\n\t\t\t\t\t\t\t\t\t\tif(get.attitude(player,target)>0){\n\t\t\t\t\t\t\t\t\t\t\treturn -7;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\t\treturn -4;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn -0.5;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t\t}();\n\t\t\t\t\t\t\tif(!isLink&&target.mayHaveShan()&&!player.hasSkillTag('directHit_ai',true,{\n\t\t\t\t\t\t\t\ttarget:target,\n\t\t\t\t\t\t\t\tcard:card,\n\t\t\t\t\t\t\t},true)) return eff/1.2;\n\t\t\t\t\t\t\treturn eff;\n\t\t\t\t\t\t},},tag: {respond: \"1\",respondShan: \"1\",damage: function (card){\n\t\t\t\t\t\t\tif(card.nature=='poison') return;\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},natureDamage: function (card){\n\t\t\t\t\t\t\tif(card.nature) return 1;\n\t\t\t\t\t\t},fireDamage: function (card,nature){\n\t\t\t\t\t\t\tif(card.nature=='fire') return 1;\n\t\t\t\t\t\t},thunderDamage: function (card,nature){\n\t\t\t\t\t\t\tif(card.nature=='thunder') return 1;\n\t\t\t\t\t\t},poisonDamage: function (card,nature){\n\t\t\t\t\t\t\tif(card.nature=='poison') return 1;\n\t\t\t\t\t\t},},},}","info":"出牌阶段，对攻击范围内的一名角色使用，令其使用一张【闪】，否则受到一点伤害。"},"shan":{"name":"闪","script":"{audio: \"true\",fullskin: \"true\",type: \"basic\",cardcolor: \"red\",notarget: \"true\",nodelay: \"true\",yingbian_prompt: \"当你声明使用此牌后，你摸一张牌\",yingbian: function (event){\n\t\t\t\t\tevent.player.draw();\n\t\t\t\t},content: function (){\n\t\t\t\t\tevent.result='shaned';\n\t\t\t\t\tevent.getParent().delayx=false;\n\t\t\t\t\tgame.delay(0.5);\n\t\t\t\t},ai: {order: \"3\",basic: {useful: [7,2],value: [7,2],},result: {player: \"1\",},},}","info":"抵消一张【杀】"},"tao":{"name":"桃","script":"{fullskin: \"true\",type: \"basic\",cardcolor: \"red\",toself: \"true\",enable: function (card,player){\n\t\t\t\t\treturn player.hp<player.maxHp;\n\t\t\t\t},savable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player&&target.hp<target.maxHp;\n\t\t\t\t},modTarget: function (card,player,target){\n\t\t\t\t\treturn target.hp<target.maxHp;\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.recover(event.baseDamage||1);\n\t\t\t\t},ai: {basic: {order: function (card,player){\n\t\t\t\t\t\t\tif(player.hasSkillTag('pretao')) return 5;\n\t\t\t\t\t\t\treturn 2;\n\t\t\t\t\t\t},useful: [8,6.5,5,4],value: [8,6.5,5,4],},result: {target: \"2\",target_use: function (player,target){\n\t\t\t\t\t\t\t// if(player==target&&player.hp<=0) return 2;\n\t\t\t\t\t\t\tif(player.hasSkillTag('nokeep',true,null,true)) return 2;\n\t\t\t\t\t\t\tvar nd=player.needsToDiscard();\n\t\t\t\t\t\t\tvar keep=false;\n\t\t\t\t\t\t\tif(nd<=0){\n\t\t\t\t\t\t\t\tkeep=true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(nd==1&&target.hp>=2&&target.countCards('h','tao')<=1){\n\t\t\t\t\t\t\t\tkeep=true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar mode=get.mode();\n\t\t\t\t\t\t\tif(target.hp>=2&&keep&&target.hasFriend()){\n\t\t\t\t\t\t\t\tif(target.hp>2||nd==0) return 0;\n\t\t\t\t\t\t\t\tif(target.hp==2){\n\t\t\t\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\t\t\t\tif(target!=current&&get.attitude(target,current)>=3){\n\t\t\t\t\t\t\t\t\t\t\tif(current.hp<=1) return true;\n\t\t\t\t\t\t\t\t\t\t\tif((mode=='identity'||mode=='versus'||mode=='chess')&&current.identity=='zhu'&&current.hp<=2) return true;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})){\n\t\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(target.hp<0&&target!=player&&target.identity!='zhu') return 0;\n\t\t\t\t\t\t\tvar att=get.attitude(player,target);\n\t\t\t\t\t\t\tif(att<3&&att>=0&&player!=target) return 0;\n\t\t\t\t\t\t\tvar tri=_status.event.getTrigger();\n\t\t\t\t\t\t\tif(mode=='identity'&&player.identity=='fan'&&target.identity=='fan'){\n\t\t\t\t\t\t\t\tif(tri&&tri.name=='dying'&&tri.source&&tri.source.identity=='fan'&&tri.source!=target){\n\t\t\t\t\t\t\t\t\tvar num=game.countPlayer(function(current){\n\t\t\t\t\t\t\t\t\t\tif(current.identity=='fan'){\n\t\t\t\t\t\t\t\t\t\t\treturn current.countCards('h','tao');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif(num>1&&player==target) return 2;\n\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(mode=='identity'&&player.identity=='zhu'&&target.identity=='nei'){\n\t\t\t\t\t\t\t\tif(tri&&tri.name=='dying'&&tri.source&&tri.source.identity=='zhong'){\n\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(mode=='stone'&&target.isMin()&&\n\t\t\t\t\t\t\tplayer!=target&&tri&&tri.name=='dying'&&player.side==target.side&&\n\t\t\t\t\t\t\ttri.source!=target.getEnemy()){\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 2;\n\t\t\t\t\t\t},},tag: {recover: \"1\",save: \"1\",},},}","info":"出牌阶段，对自己使用，回复一点体力。"},"bagua":{"name":"八卦阵","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip2\",ai: {basic: {equipValue: \"7.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"bagua_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你需要使用或打出一张【闪】时，你可以进行一次判定，若判定结果为红色，视为你使用或打出了一张【闪】。"},"jueying":{"name":"绝影","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip3\",distance: {globalTo: \"1\",},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",ai: {basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"7\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},}","info":"锁定技，其他角色计算与你的距离+1。"},"dilu":{"name":"的卢","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip3\",distance: {globalTo: \"1\",},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",ai: {basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"7\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},}","info":"锁定技，其他角色计算与你的距离+1。"},"zhuahuang":{"name":"爪黄飞电","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip3\",distance: {globalTo: \"1\",},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",ai: {basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"7\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},}","info":"锁定技，其他角色计算与你的距离+1。"},"chitu":{"name":"赤兔","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip4\",distance: {globalFrom: \"-1\",},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",ai: {basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"4\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},}","info":"锁定技，你计算与其他角色的距离-1。"},"dawan":{"name":"大宛","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip4\",distance: {globalFrom: \"-1\",},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",ai: {basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"4\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},}","info":"锁定技，你计算与其他角色的距离-1。"},"zixin":{"name":"紫骍","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip4\",distance: {globalFrom: \"-1\",},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",ai: {basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"4\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},}","info":"锁定技，你计算与其他角色的距离-1。"},"zhuge":{"name":"诸葛连弩","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",ai: {order: function (){\n\t\t\t\t\t\treturn get.order({name:'sha'})-0.1;\n\t\t\t\t\t},equipValue: function (card,player){\n\t\t\t\t\t\tif(player._zhuge_temp) return 1;\n\t\t\t\t\t\tplayer._zhuge_temp=true;\n\t\t\t\t\t\tvar result=function(){\n\t\t\t\t\t\t\tif(!game.hasPlayer(function(current){\n\t\t\t\t\t\t\t\treturn get.distance(player,current)<=1&&player.canUse('sha',current)&&get.effect(current,{name:'sha'},player,player)>0;\n\t\t\t\t\t\t\t})){\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(player.hasSha()&&_status.currentPhase==player){\n\t\t\t\t\t\t\t\tif(player.getEquip('zhuge')&&player.countUsed('sha')||player.getCardUsable('sha')==0){\n\t\t\t\t\t\t\t\t\treturn 10;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar num=player.countCards('h','sha');\n\t\t\t\t\t\t\tif(num>1) return 6+num;\n\t\t\t\t\t\t\treturn 3+num;\n\t\t\t\t\t\t}();\n\t\t\t\t\t\tdelete player._zhuge_temp;\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t},basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},tag: {valueswap: \"1\",},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"zhuge_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，你于出牌阶段内使用【杀】无次数限制。"},"cixiong":{"name":"雌雄双股剑","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-1\",},ai: {basic: {equipValue: \"2\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"cixiong_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你使用【杀】指定一名异性的目标角色后，你可以令其选择一项：1.弃置一张手牌；2.令你摸一张牌。"},"qinggang":{"name":"青釭剑","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-1\",},ai: {basic: {equipValue: \"2\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"qinggang_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，当你使用【杀】指定一名目标角色后，你令其防具技能无效直到此【杀】被抵消或造成伤害。"},"qinglong":{"name":"青龙偃月刀","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-2\",},ai: {equipValue: function (card,player){\n\t\t\t\t\t\treturn Math.min(2.5+player.countCards('h','sha'),4);\n\t\t\t\t\t},basic: {equipValue: \"3.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"qinglong_skill\",\"qinglong_guozhan\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你使用的【杀】被目标角色使用的【闪】抵消时，你可以对其使用一张【杀】（无距离限制）。"},"zhangba":{"name":"丈八蛇矛","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-2\",},ai: {equipValue: function (card,player){\n\t\t\t\t\t\tvar num=2.5+player.countCards('h')/3;\n\t\t\t\t\t\treturn Math.min(num,4);\n\t\t\t\t\t},basic: {equipValue: \"3.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"zhangba_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你可以将两张手牌当【杀】使用或打出。"},"guanshi":{"name":"贯石斧","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-2\",},ai: {equipValue: function (card,player){\n\t\t\t\t\t\tvar num=2.5+(player.countCards('h')+player.countCards('e'))/2.5;\n\t\t\t\t\t\treturn Math.min(num,5);\n\t\t\t\t\t},basic: {equipValue: \"4.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"guanshi_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你使用的【杀】被目标角色使用的【闪】抵消时，你可以弃置两张牌，令此【杀】依然对其造成伤害。"},"fangtian":{"name":"方天画戟","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-3\",},ai: {basic: {equipValue: \"2.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"fangtian_skill\",\"fangtian_guozhan\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你使用的【杀】若是你最后的手牌，你可以额外选择至多两个目标。"},"qilin":{"name":"麒麟弓","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-4\",},ai: {basic: {equipValue: \"3\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"qilin_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你使用【杀】对目标角色造成伤害时，你可以弃置其装备区里的一张坐骑牌。"},"wugu":{"name":"五谷丰登","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: \"true\",cardcolor: \"red\",selectTarget: \"-1\",filterTarget: \"true\",contentBefore: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tif(!targets.length){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif(get.is.versus()){\n\t\t\t\t\t\tplayer.chooseControl('顺时针','逆时针',function(event,player){\n\t\t\t\t\t\t\tif(player.next.side==player.side) return '逆时针';\n\t\t\t\t\t\t\treturn '顺时针';\n\t\t\t\t\t\t}).set('prompt','选择'+get.translation(card)+'的结算方向');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.goto(2);\n\t\t\t\t\t}\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(result&&result.control=='顺时针'){\n\t\t\t\t\t\tvar evt=event.getParent();\n\t\t\t\t\t\tevt.fixedSeat=true;\n\t\t\t\t\t\tevt.targets.sortBySeat();\n\t\t\t\t\t\tevt.targets.reverse();\n\t\t\t\t\t\tif(evt.targets[evt.targets.length-1]==player){\n\t\t\t\t\t\t\tevt.targets.unshift(evt.targets.pop());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\"step 2\"\n\t\t\t\t\tui.clear();\n\t\t\t\t\tvar num;\n\t\t\t\t\tif(event.targets){\n\t\t\t\t\t\tnum=event.targets.length;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tnum=game.countPlayer();\n\t\t\t\t\t}\n\t\t\t\t\tvar cards=get.cards(num);\n\t\t\t\t\tgame.cardsGotoOrdering(cards).relatedEvent=event.getParent();\n\t\t\t\t\tvar dialog=ui.create.dialog('五谷丰登',cards,true);\n\t\t\t\t\t_status.dieClose.push(dialog);\n\t\t\t\t\tdialog.videoId=lib.status.videoId++;\n\t\t\t\t\tgame.addVideo('cardDialog',null,['五谷丰登',get.cardsInfo(cards),dialog.videoId]);\n\t\t\t\t\tevent.getParent().preResult=dialog.videoId;\n\t\t\t\t\tgame.broadcast(function(cards,id){\n\t\t\t\t\t\tvar dialog=ui.create.dialog('五谷丰登',cards,true);\n\t\t\t\t\t\t_status.dieClose.push(dialog);\n\t\t\t\t\t\tdialog.videoId=id;\n\t\t\t\t\t},cards,dialog.videoId);\n\t\t\t\t\tgame.log(event.card,'亮出了',cards);\n\t\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tfor(var i=0;i<ui.dialogs.length;i++){\n\t\t\t\t\t\tif(ui.dialogs[i].videoId==event.preResult){\n\t\t\t\t\t\t\tevent.dialog=ui.dialogs[i];break;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!event.dialog){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif(event.dialog.buttons.length>1){\n\t\t\t\t\t\tvar next=target.chooseButton(true,function(button){\n\t\t\t\t\t\t\treturn get.value(button.link,_status.event.player);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnext.set('dialog',event.preResult);\n\t\t\t\t\t\tnext.set('closeDialog',false);\n\t\t\t\t\t\tnext.set('dialogdisplay',true);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.directButton=event.dialog.buttons[0];\n\t\t\t\t\t}\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tvar dialog=event.dialog;\n\t\t\t\t\tvar card;\n\t\t\t\t\tif(event.directButton){\n\t\t\t\t\t\tcard=event.directButton.link;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcard=result.links[0];\n\t\t\t\t\t}\n\n\t\t\t\t\tvar button;\n\t\t\t\t\tfor(var i=0;i<dialog.buttons.length;i++){\n\t\t\t\t\t\tif(dialog.buttons[i].link==card){\n\t\t\t\t\t\t\tbutton=dialog.buttons[i];\n\t\t\t\t\t\t\tbutton.querySelector('.info').innerHTML=function(target){\n\t\t\t\t\t\t\t\tif(target._tempTranslate) return target._tempTranslate;\n\t\t\t\t\t\t\t\tvar name=target.name;\n\t\t\t\t\t\t\t\tif(lib.translate[name+'_ab']) return lib.translate[name+'_ab'];\n\t\t\t\t\t\t\t\treturn get.translation(name);\n\t\t\t\t\t\t\t}(target);\n\t\t\t\t\t\t\tdialog.buttons.remove(button);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar capt=get.translation(target)+'选择了'+get.translation(button.link);\n\t\t\t\t\tif(card){\n\t\t\t\t\t\ttarget.gain(card,'visible');\n\t\t\t\t\t\ttarget.$gain2(card);\n\t\t\t\t\t\tgame.broadcast(function(card,id,name,capt){\n\t\t\t\t\t\t\tvar dialog=get.idDialog(id);\n\t\t\t\t\t\t\tif(dialog){\n\t\t\t\t\t\t\t\tdialog.content.firstChild.innerHTML=capt;\n\t\t\t\t\t\t\t\tfor(var i=0;i<dialog.buttons.length;i++){\n\t\t\t\t\t\t\t\t\tif(dialog.buttons[i].link==card){\n\t\t\t\t\t\t\t\t\t\tdialog.buttons[i].querySelector('.info').innerHTML=name;\n\t\t\t\t\t\t\t\t\t\tdialog.buttons.splice(i--,1);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},card,dialog.videoId,function(target){\n\t\t\t\t\t\t\tif(target._tempTranslate) return target._tempTranslate;\n\t\t\t\t\t\t\tvar name=target.name;\n\t\t\t\t\t\t\tif(lib.translate[name+'_ab']) return lib.translate[name+'_ab'];\n\t\t\t\t\t\t\treturn get.translation(name);\n\t\t\t\t\t\t}(target),capt);\n\t\t\t\t\t}\n\t\t\t\t\tdialog.content.firstChild.innerHTML=capt;\n\t\t\t\t\tgame.addVideo('dialogCapt',null,[dialog.videoId,dialog.content.firstChild.innerHTML]);\n\t\t\t\t\tgame.log(target,'选择了',button.link);\n\t\t\t\t\tgame.delay();\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\tfor(var i=0;i<ui.dialogs.length;i++){\n\t\t\t\t\t\tif(ui.dialogs[i].videoId==event.preResult){\n\t\t\t\t\t\t\tvar dialog=ui.dialogs[i];\n\t\t\t\t\t\t\tdialog.close();\n\t\t\t\t\t\t\t_status.dieClose.remove(dialog);\n\t\t\t\t\t\t\tif(dialog.buttons.length){\n\t\t\t\t\t\t\t\tevent.remained=[];\n\t\t\t\t\t\t\t\tfor(var i=0;i<dialog.buttons.length;i++){\n\t\t\t\t\t\t\t\t\tevent.remained.push(dialog.buttons[i].link);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tevent.trigger('wuguRemained');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tgame.broadcast(function(id){\n\t\t\t\t\t\tvar dialog=get.idDialog(id);\n\t\t\t\t\t\tif(dialog){\n\t\t\t\t\t\t\tdialog.close();\n\t\t\t\t\t\t\t_status.dieClose.remove(dialog);\n\t\t\t\t\t\t}\n\t\t\t\t\t},event.preResult);\n\t\t\t\t\tgame.addVideo('cardDialog',null,event.preResult);\n\t\t\t\t},ai: {wuxie: function (){\n\t\t\t\t\t\tif(Math.random()<0.5) return 0;\n\t\t\t\t\t},basic: {order: \"3\",useful: \"1\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(get.is.versus()){\n\t\t\t\t\t\t\t\tif(target==player) return 1.5;\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(player.hasUnknown(2)){\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 2-2*get.distance(player,target,'absolute')/game.countPlayer();\n\t\t\t\t\t\t},},tag: {draw: \"1\",multitarget: \"1\",},},}","info":"出牌阶段，对所有角色使用。（选择目标后）你从牌堆顶亮出等同于目标数量的牌，每名目标角色获得这些牌中（剩余的）的任意一张。"},"taoyuan":{"name":"桃园结义","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: \"true\",selectTarget: \"-1\",cardcolor: \"red\",reverseOrder: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\t//return target.hp<target.maxHp;\n\t\t\t\t\treturn true;\n\t\t\t\t},ignoreTarget: function (card,player,target){\n\t\t\t\t\treturn target.isHealthy();\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.recover();\n\t\t\t\t},ai: {basic: {order: function (){\n\t\t\t\t\t\t\treturn 11;\n\t\t\t\t\t\t},useful: [3,1],value: \"0\",},result: {target: function (player,target){\n\t\t\t\t\t\t\treturn (target.hp<target.maxHp)?2:0;\n\t\t\t\t\t\t},},tag: {recover: \"0.5\",multitarget: \"1\",},},}","info":"出牌阶段，对所有角色使用。每名目标角色回复1点体力。"},"nanman":{"name":"南蛮入侵","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: \"true\",selectTarget: \"-1\",yingbian_prompt: \"当你使用此牌选择目标后，你可为此牌减少一个目标\",yingbian: function (event){\n\t\t\t\t\tevent.yingbian_removeTarget=true;\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player;\n\t\t\t\t},reverseOrder: \"true\",content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tif(typeof event.baseDamage!='number') event.baseDamage=1;\n\t\t\t\t\tif(event.directHit) event._result={bool:false};\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar next=target.chooseToRespond({name:'sha'});\n\t\t\t\t\t\tnext.set('ai',function(card){\n\t\t\t\t\t\t\tvar evt=_status.event.getParent();\n\t\t\t\t\t\t\tif(get.damageEffect(evt.target,evt.player,evt.target)>=0) return 0;\n\t\t\t\t\t\t\tif(evt.player.hasSkillTag('notricksource')) return 0;\n\t\t\t\t\t\t\tif(evt.target.hasSkillTag('notrick')) return 0;\n\t\t\t\t\t\t\treturn 11-get.value(card);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnext.autochoose=lib.filter.autoRespondSha;\n\t\t\t\t\t}\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\ttarget.damage(event.baseDamage,event.customSource||player);\n\t\t\t\t\t}\n\t\t\t\t},ai: {wuxie: function (target,card,player,viewer){\n\t\t\t\t\t\tif(get.attitude(viewer,target)>0&&target.countCards('h','sha')){\n\t\t\t\t\t\t\tif(!target.countCards('h')||target.hp==1||Math.random()<0.7) return 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t},basic: {order: \"9\",useful: [5,1],value: \"5\",},result: {target_use: function (player,target){\n\t\t\t\t\t\t\tif(player.hasUnknown(2)&&get.mode()!='guozhan') return 0;\n\t\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\t\tif(get.mode()=='identity'){\n\t\t\t\t\t\t\t\tif(target.isZhu&&nh<=2&&target.hp<=1) return -100;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(nh==0) return -2;\n\t\t\t\t\t\t\tif(nh==1) return -1.7\n\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t},target: function (player,target){\n\t\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\t\tif(get.mode()=='identity'){\n\t\t\t\t\t\t\t\tif(target.isZhu&&nh<=2&&target.hp<=1) return -100;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(nh==0) return -2;\n\t\t\t\t\t\t\tif(nh==1) return -1.7\n\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t},},tag: {respond: \"1\",respondSha: \"1\",damage: \"1\",multitarget: \"1\",multineg: \"1\",},},}","info":"出牌阶段，对所有其他角色使用。每名目标角色需打出一张【杀】，否则受到1点伤害。"},"wanjian":{"name":"万箭齐发","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: \"true\",selectTarget: \"-1\",reverseOrder: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player;\n\t\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tif(typeof event.baseDamage!='number') event.baseDamage=1;\n\t\t\t\t\tif(event.directHit) event._result={bool:false};\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar next=target.chooseToRespond({name:'shan'});\n\t\t\t\t\t\tnext.set('ai',function(card){\n\t\t\t\t\t\t\tvar evt=_status.event.getParent();\n\t\t\t\t\t\t\tif(get.damageEffect(evt.target,evt.player,evt.target)>=0) return 0;\n\t\t\t\t\t\t\tif(evt.player.hasSkillTag('notricksource')) return 0;\n\t\t\t\t\t\t\tif(evt.target.hasSkillTag('notrick')) return 0;\n\t\t\t\t\t\t\tif(evt.target.hasSkillTag('noShan')){\n\t\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 11-get.value(card);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnext.autochoose=lib.filter.autoRespondShan;\n\t\t\t\t\t}\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\ttarget.damage(event.baseDamage);\n\t\t\t\t\t}\n\t\t\t\t},ai: {wuxie: function (target,card,player,viewer){\n\t\t\t\t\t\tif(get.attitude(viewer,target)>0&&target.countCards('h','shan')){\n\t\t\t\t\t\t\tif(!target.countCards('h')||target.hp==1||Math.random()<0.7) return 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t},basic: {order: \"9\",useful: \"1\",value: \"5\",},result: {target_use: function (player,target){\n\t\t\t\t\t\t\tif(player.hasUnknown(2)&&get.mode()!='guozhan') return 0;\n\t\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\t\tif(get.mode()=='identity'){\n\t\t\t\t\t\t\t\tif(target.isZhu&&nh<=2&&target.hp<=1) return -100;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(nh==0) return -2;\n\t\t\t\t\t\t\tif(nh==1) return -1.7\n\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t},target: function (player,target){\n\t\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\t\tif(get.mode()=='identity'){\n\t\t\t\t\t\t\t\tif(target.isZhu&&nh<=2&&target.hp<=1) return -100;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(nh==0) return -2;\n\t\t\t\t\t\t\tif(nh==1) return -1.7\n\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t},},tag: {respond: \"1\",respondShan: \"1\",damage: \"1\",multitarget: \"1\",multineg: \"1\",},},}","info":"出牌阶段，对所有其他角色使用。每名目标角色需打出一张【闪】，否则受到1点伤害。"},"wuzhong":{"name":"无中生有","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: \"true\",selectTarget: \"-1\",cardcolor: \"red\",toself: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},modTarget: \"true\",content: function (){\n\t\t\t\t\tif(get.is.versus()){\n\t\t\t\t\t\tif(game.friend.contains(target)){\n\t\t\t\t\t\t\tif(game.friend.length<game.enemy.length){\n\t\t\t\t\t\t\t\ttarget.draw(3);return;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(game.friend.length>game.enemy.length){\n\t\t\t\t\t\t\t\ttarget.draw(3);return;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttarget.draw(2);\n\t\t\t\t},ai: {basic: {order: \"7.2\",useful: \"4.5\",value: \"9.2\",},result: {target: \"2\",},tag: {draw: \"2\",},},}","info":"出牌阶段，对你使用。你摸两张牌。"},"juedou":{"name":"决斗","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: \"true\",yingbian_prompt: \"你令此牌不可被响应\",yingbian: function (event){\n\t\t\t\t\tevent.directHit.addArray(game.players);\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player;\n\t\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tif(event.turn==undefined) event.turn=target;\n\t\t\t\t\tif(typeof event.baseDamage!='number') event.baseDamage=1;\n\t\t\t\t\tif(typeof event.extraDamage!='number'){\n\t\t\t\t\t\tevent.extraDamage=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(!event.shaReq) event.shaReq={};\n\t\t\t\t\tif(typeof event.shaReq[player.playerid]!='number') event.shaReq[player.playerid]=1;\n\t\t\t\t\tif(typeof event.shaReq[target.playerid]!='number') event.shaReq[target.playerid]=1;\n\t\t\t\t\tevent.playerCards=[];\n\t\t\t\t\tevent.targetCards=[];\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tevent.trigger('juedou');\n\t\t\t\t\tevent.shaRequired=event.shaReq[event.turn.playerid];\n\t\t\t\t\t\"step 2\"\n\t\t\t\t\tif(event.directHit){\n\t\t\t\t\t\tevent._result={bool:false};\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar next=event.turn.chooseToRespond({name:'sha'});\n\t\t\t\t\t\tif(event.shaRequired>1){\n\t\t\t\t\t\t\tnext.set('prompt2','共需打出'+event.shaRequired+'张杀')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnext.set('ai',function(card){\n\t\t\t\t\t\t\tvar event=_status.event;\n\t\t\t\t\t\t\tvar player=event.splayer;\n\t\t\t\t\t\t\tvar target=event.starget;\n\t\t\t\t\t\t\tif(player.hasSkillTag('notricksource')) return 0;\n\t\t\t\t\t\t\tif(target.hasSkillTag('notrick')) return 0;\n\t\t\t\t\t\t\tif(event.shaRequired>1&&player.countCards('h','sha')<event.shaRequired) return 0;\n\t\t\t\t\t\t\tif(event.player==target){\n\t\t\t\t\t\t\t\tif(player.hasSkill('naman')) return -1;\n\t\t\t\t\t\t\t\tif(get.attitude(target,player)<0||event.player.hp<=1){\n\t\t\t\t\t\t\t\t\treturn get.unuseful2(card)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tif(target.hasSkill('naman')) return -1;\n\t\t\t\t\t\t\t\tif(get.attitude(player,target)<0||event.player.hp<=1){\n\t\t\t\t\t\t\t\t\treturn get.unuseful2(card)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnext.set('splayer',player);\n\t\t\t\t\t\tnext.set('starget',target);\n\t\t\t\t\t\tnext.set('shaRequired',event.shaRequired);\n\t\t\t\t\t\tnext.autochoose=lib.filter.autoRespondSha;\n\t\t\t\t\t\tif(event.turn==target){\n\t\t\t\t\t\t\tnext.source=player;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tnext.source=target;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\"step 3\"\n\t\t\t\t\tif(event.target.isDead()||event.player.isDead()){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\t\tevent.shaRequired--;\n\t\t\t\t\t\t\tif(event.turn==target){\n\t\t\t\t\t\t\t\tif(result.cards) event.targetCards.addArray(result.cards);\n\t\t\t\t\t\t\t\tif(event.shaRequired>0) event.goto(2);\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\tevent.turn=player;\n\t\t\t\t\t\t\t\t\tevent.goto(1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tif(result.cards) event.playerCards.addArray(result.cards);\n\t\t\t\t\t\t\t\tif(event.shaRequired>0) event.goto(2);\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\tevent.turn=target;\n\t\t\t\t\t\t\t\t\tevent.goto(1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(event.turn==target){\n\t\t\t\t\t\t\t\ttarget.damage(event.baseDamage+event.extraDamage);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tplayer.damage(target,event.baseDamage+event.extraDamage);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},ai: {wuxie: function (target,card,player,viewer){\n\t\t\t\t\t\tif(player==game.me&&get.attitude(viewer,player)>0){\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t},basic: {order: \"5\",useful: \"1\",value: \"5.5\",},result: {target: \"-1.5\",player: function (player,target,card){\n\t\t\t\t\t\t\tif(player.hasSkillTag('directHit_ai',true,{\n\t\t\t\t\t\t\t\ttarget:target,\n\t\t\t\t\t\t\t\tcard:card,\n\t\t\t\t\t\t\t},true)){\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(get.damageEffect(target,player,target)>0&&get.attitude(player,target)>0&&get.attitude(target,player)>0){\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar hs1=target.getCards('h','sha');\n\t\t\t\t\t\t\tvar hs2=player.getCards('h','sha');\n\t\t\t\t\t\t\tif(hs1.length>hs2.length+1){\n\t\t\t\t\t\t\t\treturn -2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar hsx=target.getCards('h');\n\t\t\t\t\t\t\tif(hsx.length>2&&hs2.length==0&&hsx[0].number<6){\n\t\t\t\t\t\t\t\treturn -2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(hsx.length>3&&hs2.length==0){\n\t\t\t\t\t\t\t\treturn -2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(hs1.length>hs2.length&&(!hs2.length||hs1[0].number>hs2[0].number)){\n\t\t\t\t\t\t\t\treturn -2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn -0.5;\n\t\t\t\t\t\t},},tag: {respond: \"2\",respondSha: \"2\",damage: \"1\",},},selectTarget: \"1\",}","info":"出牌阶段，对一名其他角色使用。由其开始，其与你轮流打出一张【杀】，直到其中一方未打出【杀】为止。未打出【杀】的一方受到另一方对其造成的1点伤害。"},"shunshou":{"name":"顺手牵羊","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: \"true\",range: {global: \"1\",},selectTarget: \"1\",postAi: function (targets){\n\t\t\t\t\treturn targets.length==1&&targets[0].countCards('j');\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\tif(player==target) return false;\n\t\t\t\t\treturn target.countGainableCards(player,get.is.single()?'he':'hej')>0;\n\t\t\t\t},content: function (){\n\t\t\t\t\tvar position=get.is.single()?'he':'hej';\n\t\t\t\t\tif(target.countGainableCards(player,position)){\n\t\t\t\t\t\tplayer.gainPlayerCard(position,target,true);\n\t\t\t\t\t}\n\t\t\t\t},ai: {wuxie: function (target,card,player,viewer){\n\t\t\t\t\t\tif(get.attitude(viewer,player)>0&&get.attitude(viewer,target)>0){\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t},basic: {order: \"7.5\",useful: \"4\",value: \"9\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(get.attitude(player,target)<=0) return (target.countCards('he',function(card){\n\t\t\t\t\t\t\t\treturn get.value(card,target)>0&&card!=target.getEquip('jinhe');\n\t\t\t\t\t\t\t})>0)?-1.5:1.5;\n\t\t\t\t\t\t\tvar js=target.getCards('j');\n\t\t\t\t\t\t\tif(js.length){\n\t\t\t\t\t\t\t\tvar jj=js[0].viewAs?{name:js[0].viewAs}:js[0];\n\t\t\t\t\t\t\t\t//if(jj.name=='shunshou') return 3;\n\t\t\t\t\t\t\t\tif(js.length==1&&get.effect(target,jj,target,player)>=0){\n\t\t\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn 3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t},player: function (player,target){\n\t\t\t\t\t\t\tif(get.attitude(player,target)<0&&!target.countCards('he',function(card){\n\t\t\t\t\t\t\t\treturn get.value(card,target)>0&&card!=target.getEquip('jinhe');\n\t\t\t\t\t\t\t})){\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(get.attitude(player,target)>1){\n\t\t\t\t\t\t\t\tvar js=target.getCards('j');\n\t\t\t\t\t\t\t\tif(js.length){\n\t\t\t\t\t\t\t\t\tvar jj=js[0].viewAs?{name:js[0].viewAs}:js[0];\n\t\t\t\t\t\t\t\t\t//if(jj.name=='shunshou') return 1;\n\t\t\t\t\t\t\t\t\tif(js.length==1&&get.effect(target,jj,target,player)>=0){\n\t\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},tag: {loseCard: \"1\",gain: \"1\",},},}","info":"出牌阶段，对距离为1且区域里有牌的一名其他角色使用。你获得其区域里的一张牌。"},"guohe":{"name":"过河拆桥","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: \"true\",selectTarget: \"1\",postAi: function (targets){\n\t\t\t\t\treturn targets.length==1&&targets[0].countCards('j');\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\tif(player==target) return false;\n\t\t\t\t\treturn target.countDiscardableCards(player,get.is.single()?'he':'hej');\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tif(!get.is.single()&&target.countDiscardableCards(player,'hej')){\n\t\t\t\t\t\tplayer.discardPlayerCard('hej',target,true);\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar bool1=target.countDiscardableCards(player,'h');\n\t\t\t\t\t\tvar bool2=target.countDiscardableCards(player,'e');\n\t\t\t\t\t\tif(bool1&&bool2){\n\t\t\t\t\t\t\tplayer.chooseControl('手牌区','装备区').set('ai',function(){\n\t\t\t\t\t\t\t\treturn Math.random()<0.5?1:0;\n\t\t\t\t\t\t\t}).set('prompt','弃置'+(get.translation(target))+'装备区的一张牌，或观看其手牌并弃置其中的一张牌。');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse event._result={control:bool1?'手牌区':'装备区'};\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tvar pos=result.control=='手牌区'?'h':'e';\n\t\t\t\t\tplayer.discardPlayerCard(target,pos,true,'visible');\n\t\t\t\t},ai: {basic: {order: \"9\",useful: \"1\",value: \"5\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tvar att=get.attitude(player,target);\n\t\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\t\tif(att>0){\n\t\t\t\t\t\t\t\tvar js=target.getCards('j');\n\t\t\t\t\t\t\t\tif(js.length){\n\t\t\t\t\t\t\t\t\tvar jj=js[0].viewAs?{name:js[0].viewAs}:js[0];\n\t\t\t\t\t\t\t\t\tif(jj.name=='guohe'||js.length>1||get.effect(target,jj,target,player)<0){\n\t\t\t\t\t\t\t\t\t\treturn 3;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(target.getEquip('baiyin')&&target.isDamaged()&&\n\t\t\t\t\t\t\t\t\tget.recoverEffect(target,player,player)>0){\n\t\t\t\t\t\t\t\t\tif(target.hp==1&&!target.hujia) return 1.6;\n\t\t\t\t\t\t\t\t\tif(target.hp==2) return 0.01;\n\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar es=target.getCards('e');\n\t\t\t\t\t\t\tvar noe=(es.length==0||target.hasSkillTag('noe'));\n\t\t\t\t\t\t\tvar noe2=(es.filter(function(esx){\n\t\t\t\t\t\t\t\treturn get.value(esx,target)>0;\n\t\t\t\t\t\t\t}).length==0);\n\t\t\t\t\t\t\tvar noh=(nh==0||target.hasSkillTag('noh'));\n\t\t\t\t\t\t\tif(noh&&(noe||noe2)) return 0;\n\t\t\t\t\t\t\tif(att<=0&&!target.countCards('he')) return 1.5;\n\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t},},tag: {loseCard: \"1\",discard: \"1\",},},}","info":"出牌阶段，对区域里有牌的一名其他角色使用。你弃置其区域里的一张牌。"},"jiedao":{"name":"借刀杀人","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: \"true\",selectTarget: \"2\",singleCard: \"true\",multitarget: \"true\",targetprompt: [\"被借刀\",\"出杀目标\"],complexTarget: \"true\",multicheck: function (){\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\tif(current.getEquip(1)){\n\t\t\t\t\t\t\treturn game.hasPlayer(function(current2){\n\t\t\t\t\t\t\t\treturn lib.filter.filterTarget({name:'sha'},current,current2);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\tif(ui.selected.targets.length==0){\n\t\t\t\t\t\treturn (player!=target&&target.getCards('e',{subtype:'equip1'}).length);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\treturn lib.filter.filterTarget({name:'sha'},ui.selected.targets[0],target);\n\t\t\t\t\t}\n\t\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tif(event.directHit||(!_status.connectMode&&lib.config.skip_shan&&!target.hasSha())){\n\t\t\t\t\t\tevent.directfalse=true;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.chooseToUse('对'+get.translation(event.addedTarget)+'使用一张杀，或令'+get.translation(player)+'获得你的武器牌',function(card,player){\n\t\t\t\t\t\t\tif(get.name(card)!='sha') return false;\n\t\t\t\t\t\t\treturn lib.filter.filterCard.apply(this,arguments);\n\t\t\t\t\t\t}).set('targetRequired',true).set('complexSelect',true).set('filterTarget',function(card,player,target){\n\t\t\t\t\t\tif(target!=_status.event.sourcex&&!ui.selected.targets.contains(_status.event.sourcex)) return false;\n\t\t\t\t\t\treturn lib.filter.filterTarget.apply(this,arguments);\n\t\t\t\t\t}).set('sourcex',event.addedTarget).set('addCount',false).set('respondTo',[player,card]);\n\t\t\t\t\t}\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(event.directfalse||result.bool==false){\n\t\t\t\t\t\tvar cards=target.getCards('e',{subtype:'equip1'});\n\t\t\t\t\t\tif(cards.length) player.gain(cards,target,'give');\n\t\t\t\t\t}\n\t\t\t\t},ai: {wuxie: function (target,card,player,viewer){\n\t\t\t\t\t\tif(player==game.me&&get.attitude(viewer,player)>0){\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t},basic: {order: \"8\",value: \"2\",useful: \"1\",},result: {target: \"-1.5\",player: function (player){\n\t\t\t\t\t\t\tif(player.getCards('he',{subtype:'equip1'}).length) return 0;\n\t\t\t\t\t\t\treturn 1.5;\n\t\t\t\t\t\t},},tag: {gain: \"1\",use: \"1\",useSha: \"1\",loseCard: \"1\",},},}","info":"出牌阶段，对装备区里有武器牌且有使用【杀】的目标的一名其他角色使用。令其对你指定的一名角色使用一张【杀】，否则将其装备区里的武器牌交给你。"},"wuxie":{"name":"无懈可击","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",ai: {basic: {useful: [6,4],value: [6,4],},result: {player: \"1\",},expose: \"0.2\",},notarget: \"true\",yingbian_prompt: function (card){\n\t\t\t\t\tvar suit=card.suit;\n\t\t\t\t\tif(suit=='club'||suit=='spade') return '当你声明使用此牌时，你摸一张牌';\n\t\t\t\t\telse return '当此牌生效后，你获得此牌响应的目标牌';\n\t\t\t\t},yingbian: function (event){\n\t\t\t\t\tif(event.card.cards&&event.card.cards.length==1){\n\t\t\t\t\t\tvar suit=event.card.cards[0].suit;\n\t\t\t\t\t\tif(suit=='heart'||suit=='diamond') return;\n\t\t\t\t\t}\n\t\t\t\t\tevent.player.draw();\n\t\t\t\t},contentBefore: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tif(get.mode()=='guozhan'&&get.cardtag(card,'guo')){\n\t\t\t\t\t\tvar trigger=event.getParent(2);\n\t\t\t\t\t\tif(trigger.triggername!='phaseJudge'&&!trigger.statecard&&trigger.target.identity!='ye'&&trigger.target.identity!='unknown'){\n\t\t\t\t\t\t\tplayer.chooseControl('对单体使用','对势力使用').set('prompt','请选择'+get.translation(card)+'的使用方式').set('ai',function(){\n\t\t\t\t\t\t\t\treturn '对势力使用'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse event.finish();\n\t\t\t\t\t}\n\t\t\t\t\telse event.finish();\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.control=='对势力使用'){\n\t\t\t\t\t\tplayer.chat('对势力使用');\n\t\t\t\t\t\tevent.getParent(2).guowuxie=true;\n\t\t\t\t\t}\n\t\t\t\t},content: function (){\n\t\t\t\t\tvar evt=event.getParent();\n\t\t\t\t\tevent.result={\n\t\t\t\t\t\twuxied:true,\n\t\t\t\t\t\tdirectHit:evt.directHit||[],\n\t\t\t\t\t\tnowuxie:evt.nowuxie,\n\t\t\t\t\t};\n\t\t\t\t\tif(player.isOnline()){\n\t\t\t\t\t\tplayer.send(function(player){\n\t\t\t\t\t\t\tif(ui.tempnowuxie&&!player.hasWuxie()){\n\t\t\t\t\t\t\t\tui.tempnowuxie.close();\n\t\t\t\t\t\t\t\tdelete ui.tempnowuxie;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},player);\n\t\t\t\t\t}\n\t\t\t\t\telse if(player==game.me){\n\t\t\t\t\t\tif(ui.tempnowuxie&&!player.hasWuxie()){\n\t\t\t\t\t\t\tui.tempnowuxie.close();\n\t\t\t\t\t\t\tdelete ui.tempnowuxie;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(event.card.yingbian){\n\t\t\t\t\t\tif(!event.card.cards||event.card.cards.length!=1) return;\n\t\t\t\t\t\tvar suit=event.card.cards[0].suit;\n\t\t\t\t\t\tif(suit!='heart'&&suit!='diamond') return;\n\t\t\t\t\t\tvar cardx=event.getParent().respondTo;\n\t\t\t\t\t\tif(cardx&&cardx[1]&&cardx[1].cards&&cardx[1].cards.filterInD().length) player.gain(cardx[1].cards.filterInD('od'),'gain2','log');\n\t\t\t\t\t}\n\t\t\t\t},}","info":"一张锦囊牌生效前，对此牌使用。抵消此牌对一名角色产生的效果，或抵消另一张【无懈可击】产生的效果。"},"lebu":{"name":"乐不思蜀","script":"{audio: \"true\",fullskin: \"true\",type: \"delay\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn (lib.filter.judge(card,player,target)&&player!=target);\n\t\t\t\t},judge: function (card){\n\t\t\t\t\tif(get.suit(card)=='heart') return 0;\n\t\t\t\t\treturn -3;\n\t\t\t\t},effect: function (){\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\tplayer.skip('phaseUse');\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"1\",useful: \"1\",value: \"8\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tvar num=target.hp-target.countCards('h')-2;\n\t\t\t\t\t\t\tif(num>-1) return -0.01;\n\t\t\t\t\t\t\tif(target.hp<3) num--;\n\t\t\t\t\t\t\tif(target.isTurnedOver()) num/=2;\n\t\t\t\t\t\t\tvar dist=get.distance(player,target,'absolute');\n\t\t\t\t\t\t\tif(dist<1) dist=1;\n\t\t\t\t\t\t\treturn num/Math.sqrt(dist);\n\t\t\t\t\t\t},},tag: {skip: \"phaseUse\",},},selectTarget: \"1\",enable: \"true\",content: function (){\n\t\t\t\t\tif(lib.filter.judge(card,player,target)&&cards.length&&get.position(cards[0],true)=='o') target.addJudge(card,cards);\n\t\t\t\t},allowMultiple: \"false\",}","info":"出牌阶段，对一名其他角色使用。若判定结果不为红桃，跳过其出牌阶段。"},"shandian":{"name":"闪电","script":"{audio: \"true\",fullskin: \"true\",type: \"delay\",cardnature: \"thunder\",modTarget: function (card,player,target){\n\t\t\t\t\treturn lib.filter.judge(card,player,target);\n\t\t\t\t},enable: function (card,player){\n\t\t\t\t\treturn player.canAddJudge(card);\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn (lib.filter.judge(card,player,target)&&player==target);\n\t\t\t\t},selectTarget: [-1,-1],judge: function (card){\n\t\t\t\t\tif(get.suit(card)=='spade'&&get.number(card)>1&&get.number(card)<10) return -6;\n\t\t\t\t\treturn 0;\n\t\t\t\t},effect: function (){\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\tplayer.damage(3,'thunder','nosource');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tplayer.addJudgeNext(card);\n\t\t\t\t\t}\n\t\t\t\t},cancel: function (){\n\t\t\t\t\tplayer.addJudgeNext(card);\n\t\t\t\t},ai: {basic: {order: \"1\",useful: \"0\",value: \"0\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tvar num=game.countPlayer(function(current){\n\t\t\t\t\t\t\t\tvar skills=current.getSkills();\n\t\t\t\t\t\t\t\tfor(var j=0;j<current.skills.length;j++){\n\t\t\t\t\t\t\t\t\tvar rejudge=get.tag(current.skills[j],'rejudge',current);\n\t\t\t\t\t\t\t\t\tif(rejudge!=undefined){\n\t\t\t\t\t\t\t\t\t\tif(get.attitude(target,current)>0&&\n\t\t\t\t\t\t\t\t\t\tget.attitude(current,target)>0){\n\t\t\t\t\t\t\t\t\t\t\treturn rejudge;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\t\treturn -rejudge;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif(num>0) return num;\n\t\t\t\t\t\t\tif(num==0){\n\t\t\t\t\t\t\t\tvar mode=get.mode();\n\t\t\t\t\t\t\t\tif(mode=='identity'){\n\t\t\t\t\t\t\t\t\tif(target.identity=='nei') return 1;\n\t\t\t\t\t\t\t\t\tvar situ=get.situation();\n\t\t\t\t\t\t\t\t\tif(target.identity=='fan'){\n\t\t\t\t\t\t\t\t\t\tif(situ>1) return 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tif(situ<-1) return 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if(mode=='guozhan'){\n\t\t\t\t\t\t\t\t\tif(target.identity=='ye') return 1;\n\t\t\t\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\t\t\t\treturn current.identity=='unknown';\n\t\t\t\t\t\t\t\t\t})){\n\t\t\t\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif(get.population(target.identity)==1){\n\t\t\t\t\t\t\t\t\t\tif(target.maxHp>2&&target.hp<2) return 1;\n\t\t\t\t\t\t\t\t\t\tif(game.countPlayer()<3) return -1;\n\t\t\t\t\t\t\t\t\t\tif(target.hp<=2&&target.countCards('he')<=3) return 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t},},tag: {},},content: function (){\n\t\t\t\t\tif(lib.filter.judge(card,player,target)&&cards.length&&get.position(cards[0],true)=='o') target.addJudge(card,cards);\n\t\t\t\t},allowMultiple: \"false\",}","info":"出牌阶段，对自己使用。若判定结果为黑桃2~9，则目标角色受到3点雷电伤害。若判定不为黑桃2~9，将之移动到下家的判定区里。"},"hanbing":{"name":"寒冰剑","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-1\",},skills: [\"hanbing_skill\"],ai: {basic: {equipValue: \"2\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你使用杀造成伤害时，你可以防止此伤害，改为依次弃置目标角色的两张牌。"},"renwang":{"name":"仁王盾","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip2\",skills: [\"renwang_skill\"],ai: {basic: {equipValue: \"7.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，黑色的杀对你无效"}}},"yunchou":{"name":"运筹帷幄","card":{"diaobingqianjiang":{"name":"调兵遣将","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn player==target||target.countCards('h');\n\t\t\t\t},contentBefore: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tgame.delay();\n\t\t\t\t\tplayer.draw();\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(get.is.versus()){\n\t\t\t\t\t\tplayer.chooseControl('顺时针','逆时针',function(event,player){\n\t\t\t\t\t\t\tif(player.next.side==player.side) return '逆时针';\n\t\t\t\t\t\t\treturn '顺时针';\n\t\t\t\t\t\t}).set('prompt','选择'+get.translation(card)+'的结算方向');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.goto(3);\n\t\t\t\t\t}\n\t\t\t\t\t\"step 2\"\n\t\t\t\t\tif(result&&result.control=='顺时针'){\n\t\t\t\t\t\tvar evt=event.getParent();\n\t\t\t\t\t\tevt.fixedSeat=true;\n\t\t\t\t\t\tevt.targets.sortBySeat();\n\t\t\t\t\t\tevt.targets.reverse();\n\t\t\t\t\t\tif(evt.targets[evt.targets.length-1]==player){\n\t\t\t\t\t\t\tevt.targets.unshift(evt.targets.pop());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\"step 3\"\n\t\t\t\t\tui.clear();\n\t\t\t\t\tvar cards=get.cards(Math.ceil(game.countPlayer()/2));\n\t\t\t\t\tvar dialog=ui.create.dialog('调兵遣将',cards,true);\n\t\t\t\t\t_status.dieClose.push(dialog);\n\t\t\t\t\tdialog.videoId=lib.status.videoId++;\n\t\t\t\t\tgame.addVideo('cardDialog',null,['调兵遣将',get.cardsInfo(cards),dialog.videoId]);\n\t\t\t\t\tevent.getParent().preResult=dialog.videoId;\n\t\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tfor(var i=0;i<ui.dialogs.length;i++){\n\t\t\t\t\t\tif(ui.dialogs[i].videoId==event.preResult){\n\t\t\t\t\t\t\tevent.dialog=ui.dialogs[i];break;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!event.dialog||!target.countCards('h')){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar minValue=20;\n\t\t\t\t\tvar hs=target.getCards('h');\n\t\t\t\t\tfor(var i=0;i<hs.length;i++){\n\t\t\t\t\t\tminValue=Math.min(minValue,get.value(hs[i],target));\n\t\t\t\t\t}\n\t\t\t\t\tif(target.isUnderControl(true)){\n\t\t\t\t\t\tevent.dialog.setCaption('选择一张牌并用一张手牌替换之');\n\t\t\t\t\t}\n\t\t\t\t\tvar next=target.chooseButton(function(button){\n\t\t\t\t\t\treturn get.value(button.link,_status.event.player)-minValue;\n\t\t\t\t\t});\n\t\t\t\t\tnext.set('dialog',event.preResult);\n\t\t\t\t\tnext.set('closeDialog',false);\n\t\t\t\t\tnext.set('dialogdisplay',true);\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tevent.dialog.setCaption('调兵遣将');\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tevent.button=result.buttons[0];\n\t\t\t\t\t\ttarget.chooseCard('用一张牌牌替换'+get.translation(result.links),true).ai=function(card){\n\t\t\t\t\t\t\treturn -get.value(card);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.popup('不换');\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\t\"step 2\"\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\ttarget.lose(result.cards,ui.special);\n\t\t\t\t\t\ttarget.$throw(result.cards);\n\n\t\t\t\t\t\tgame.log(target,'用',result.cards,'替换了',event.button.link);\n\t\t\t\t\t\ttarget.gain(event.button.link);\n\t\t\t\t\t\ttarget.$gain2(event.button.link);\n\t\t\t\t\t\tevent.dialog.buttons.remove(event.button);\n\t\t\t\t\t\tevent.dialog.buttons.push(ui.create.button(result.cards[0],'card',event.button.parentNode));\n\t\t\t\t\t\tevent.button.remove();\n\t\t\t\t\t}\n\t\t\t\t\t\"step 3\"\n\t\t\t\t\tgame.delay(2);\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tevent.dialog=get.idDialog(event.preResult);\n\t\t\t\t\tif(!event.dialog){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar nextSeat=_status.currentPhase.next;\n\t\t\t\t\tvar att=get.attitude(player,nextSeat);\n\t\t\t\t\tif(player.isUnderControl(true)&&!_status.auto){\n\t\t\t\t\t\tevent.dialog.setCaption('将任意张牌以任意顺序置于牌堆顶（先选择的在上）');\n\t\t\t\t\t}\n\t\t\t\t\tvar next=player.chooseButton([1,event.dialog.buttons.length],event.dialog);\n\t\t\t\t\tnext.ai=function(button){\n\t\t\t\t\t\tif(att>0){\n\t\t\t\t\t\t\treturn get.value(button.link,nextSeat)-5;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 5-get.value(button.link,nextSeat);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnext.set('closeDialog',false);\n\t\t\t\t\tnext.set('dialogdisplay',true);\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result&&result.bool&&result.links&&result.links.length){\n\t\t\t\t\t\tfor(var i=0;i<result.buttons.length;i++){\n\t\t\t\t\t\t\tevent.dialog.buttons.remove(result.buttons[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar cards=result.links.slice(0);\n\t\t\t\t\t\twhile(cards.length){\n\t\t\t\t\t\t\tui.cardPile.insertBefore(cards.pop(),ui.cardPile.firstChild);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgame.log(player,'将'+get.cnNumber(result.links.length)+'张牌置于牌堆顶');\n\t\t\t\t\t}\n\t\t\t\t\tfor(var i=0;i<event.dialog.buttons.length;i++){\n\t\t\t\t\t\tevent.dialog.buttons[i].link.discard();\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tvar dialog=event.dialog;\n\t\t\t\t\tdialog.close();\n\t\t\t\t\t_status.dieClose.remove(dialog);\n\t\t\t\t\tgame.addVideo('cardDialog',null,event.preResult);\n\t\t\t\t},ai: {wuxie: function (){\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},basic: {order: \"2\",useful: [3,1],value: [5,1],},result: {player: \"1\",target: function (player,target){\n\t\t\t\t\t\t\tif(target.countCards('h')==0) return 0;\n\t\t\t\t\t\t\treturn (Math.sqrt(target.countCards('h'))-get.distance(player,target,'absolute')/game.countPlayer()/3)/2;\n\t\t\t\t\t\t},},tag: {loseCard: \"1\",multitarget: \"1\",},},}","info":"出牌阶段，对你及其他有手牌的角色使用。你摸一张牌，然后亮出牌堆顶的X张牌（X为存活角色数的一半，向上取整），目标可以用一张手牌替换其中的一张牌。结算后，你可以将剩余的牌中的任意张以任意顺序置于牌堆顶"},"caochuanjiejian":{"name":"草船借箭","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.countCards('h')>0&&target!=player;\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tif(target.countCards('h','sha')){\n\t\t\t\t\t\tvar name=get.translation(player.name);\n\t\t\t\t\t\ttarget.chooseControl().set('prompt',get.translation('caochuanjiejian')).set('choiceList',[\n\t\t\t\t\t\t\t'将手牌中的所有杀交给'+name+'，并视为对'+name+'使用一张杀','展示手牌并令'+name+'弃置任意一张'\n\t\t\t\t\t\t],function(){\n\t\t\t\t\t\t\tif(get.effect(player,{name:'sha'},target,target)<0) return 1;\n\t\t\t\t\t\t\tif(target.countCards('h','sha')>=3) return 1;\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.directfalse=true;\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(event.directfalse||result.control=='选项二'){\n\t\t\t\t\t\tif(target.countCards('h')){\n\t\t\t\t\t\t\tif(!player.isUnderControl(true)){\n\t\t\t\t\t\t\t\ttarget.showHandcards();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tgame.log(target,'展示了',target.getCards('h'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tplayer.discardPlayerCard(target,'h',true,'visible');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar hs=target.getCards('h','sha');\n\t\t\t\t\t\tplayer.gain(hs,target);\n\t\t\t\t\t\ttarget.$give(hs,player);\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\ttarget.useCard({name:'sha'},player);\n\t\t\t\t},ai: {order: \"4\",value: [5,1],result: {target: function (player,target){\n\t\t\t\t\t\t\tif(player.hasShan()) return -1;\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段对一名有手牌的其他角色使用，目标选择一项：将手牌中的所有杀（至少1张）交给你，并视为对你使用一张杀；或展示手牌并令你弃置任意张"},"geanguanhuo":{"name":"隔岸观火","script":"{fullskin: \"true\",type: \"trick\",filterTarget: function (card,player,target){\n\t\t\t\t\tif(target==player) return false;\n\t\t\t\t\tif(!ui.selected.targets.length) return target.countCards('h')>0&&game.hasPlayer(function(current){\n\t\t\t\t\t\treturn target.canCompare(current);\n\t\t\t\t\t});\n\t\t\t\t\treturn ui.selected.targets[0].canCompare(target);\n\t\t\t\t},enable: function (){\n\t\t\t\t\treturn game.countPlayer()>2;\n\t\t\t\t},chongzhu: function (){\n\t\t\t\t\treturn game.countPlayer()<=2;\n\t\t\t\t},multicheck: function (card,player){\n\t\t\t\t\treturn game.countPlayer(function(current){\n\t\t\t\t\t\treturn current!=player&&current.countCards('h');\n\t\t\t\t\t})>1;\n\t\t\t\t},multitarget: \"true\",multiline: \"true\",singleCard: \"true\",complexSelect: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\ttarget.chooseToCompare(event.addedTarget);\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(!result.tie){\n\t\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\t\tif(event.addedTarget.countCards('he')){\n\t\t\t\t\t\t\t\ttarget.line(event.addedTarget);\n\t\t\t\t\t\t\t\ttarget.gainPlayerCard(event.addedTarget,true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(target.countCards('he')){\n\t\t\t\t\t\t\t\tevent.addedTarget.line(target);\n\t\t\t\t\t\t\t\tevent.addedTarget.gainPlayerCard(target,true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\ttarget.discardPlayerCard(player);\n\t\t\t\t\ttarget.line(player);\n\t\t\t\t},selectTarget: \"2\",ai: {order: \"5\",value: [7,1],useful: [4,1],result: {target: \"-1\",},},}","info":"出牌阶段对一名其他角色使用，令目标与一名你指定的另一名角色拼点，赢的角色获得对方的一张牌；若点数相同，目标可弃置你一张牌（存活角色不超过2时可重铸）"},"shezhanqunru":{"name":"舌战群儒","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",toself: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},selectTarget: \"-1\",modTarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar list=game.filterPlayer(function(current){\n\t\t\t\t\t\treturn current!=target&&target.canCompare(current);\n\t\t\t\t\t});\n\t\t\t\t\tif(!list.length){\n\t\t\t\t\t\ttarget.draw(3);\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tlist.sortBySeat(target);\n\t\t\t\t\t\tevent.list=list;\n\t\t\t\t\t\tevent.torespond=[];\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(event.list.length){\n\t\t\t\t\t\tevent.current=event.list.shift();\n\t\t\t\t\t\tevent.current.chooseBool('是否响应'+get.translation(target)+'的舌战群儒？',function(event,player){\n\t\t\t\t\t\t\tif(get.attitude(player,_status.event.source)>=0) return false;\n\t\t\t\t\t\t\tvar hs=player.getCards('h');\n\t\t\t\t\t\t\tvar dutag=player.hasSkillTag('nodu');\n\t\t\t\t\t\t\tfor(var i=0;i<hs.length;i++){\n\t\t\t\t\t\t\t\tvar value=get.value(hs[i],player);\n\t\t\t\t\t\t\t\tif(hs[i].name=='du'&&dutag) continue;\n\t\t\t\t\t\t\t\tif(value<0) return true;\n\t\t\t\t\t\t\t\tif(!_status.event.hasTarget){\n\t\t\t\t\t\t\t\t\tif(hs[i].number>=8&&value<=7) return true;\n\t\t\t\t\t\t\t\t\tif(value<=3) return true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if(_status.event.hasTarget%2==1){\n\t\t\t\t\t\t\t\t\tif(hs[i].number>=11&&value<=6) return true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}).set('source',target).set('hasTarget',event.torespond.length);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.goto(3);\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tevent.torespond.push(event.current);\n\t\t\t\t\t\tevent.current.line(target,'green');\n\t\t\t\t\t\tevent.current.popup('响应');\n\t\t\t\t\t\tgame.log(event.current,'响应了舌战群儒');\n\t\t\t\t\t\tgame.delayx(0.5);\n\t\t\t\t\t}\n\t\t\t\t\tevent.goto(1);\n\t\t\t\t\t'step 3'\n\t\t\t\t\tif(event.torespond.length==0){\n\t\t\t\t\t\tevent.num=1;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.num=0;\n\t\t\t\t\t\ttarget.chooseToCompare(event.torespond).callback=lib.card.shezhanqunru.callback;\n\t\t\t\t\t}\n\t\t\t\t\t'step 4'\n\t\t\t\t\tif(event.num>0){\n\t\t\t\t\t\ttarget.draw(3);\n\t\t\t\t\t}\n\t\t\t\t},callback: function (){\n\t\t\t\t\tif(event.card1.number>event.card2.number){\n\t\t\t\t\t\tevent.parent.parent.num++;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.parent.parent.num--;\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"8.5\",value: [6,1],useful: [3,1],tag: {draw: \"1\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tvar hs=target.getCards('h');\n\t\t\t\t\t\t\tfor(var i=0;i<hs.length;i++){\n\t\t\t\t\t\t\t\tvar value=get.value(hs[i]);\n\t\t\t\t\t\t\t\tif(hs[i].number>=7&&value<=6) return 1;\n\t\t\t\t\t\t\t\tif(value<=3) return 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},},}","info":"出牌阶段，对你使用。你请求所有有手牌的其他角色响应，然后同时与响应的角色拼点。若有角色响应且结果中你赢的次数更多，或若没有角色响应，你摸三张牌"},"youdishenru":{"name":"诱敌深入","script":"{fullskin: \"true\",type: \"trick\",notarget: \"true\",wuxieable: \"true\",global: \"g_youdishenru\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar info=event.getParent(2).youdiinfo||event.getParent(3).youdiinfo;\n\t\t\t\t\tif(!info){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tinfo.evt.cancel();\n\t\t\t\t\tevent.source=info.source;\n\t\t\t\t\tevent.source.storage.youdishenru=player;\n\t\t\t\t\tevent.source.addSkill('youdishenru');\n\t\t\t\t\t'step 1'\n\t\t\t\t\tvar next=event.source.chooseToUse({name:'sha'},player,-1,'对'+get.translation(player)+'使用一张杀，或受到一点伤害').set('addCount',false);\n\t\t\t\t\tnext.ai2=function(){\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t};\n\t\t\t\t\t'step 2'\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tif(event.source.storage.youdishenru){\n\t\t\t\t\t\t\tevent.goto(1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tevent.source.removeSkill('youdishenru');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.source.damage(player);\n\t\t\t\t\t\tevent.source.removeSkill('youdishenru');\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: [5,1],useful: [5,1],order: \"1\",wuxie: function (target,card,player,current,state){\n\t\t\t\t\t\treturn -state*get.attitude(player,current);\n\t\t\t\t\t},result: {player: function (player){\n\t\t\t\t\t\t\tif(_status.event.parent.youdiinfo&&\n\t\t\t\t\t\t\t\tget.attitude(player,_status.event.parent.youdiinfo.source)<=0){\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},},}","info":"当以你为目标的【杀】生效前，对此【杀】使用。抵消此【杀】，然后此【杀】的使用者需对你使用【杀】（在此【杀】结算结束之后，若此【杀】未对你造成伤害，其重复此流程），否则受到你造成的1点伤害"},"wangmeizhike":{"name":"望梅止渴","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn (target.isMinHp()&&target.isDamaged())||target.isMinHandcard();\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tif(target.isMinHp()&&target.isDamaged()){\n\t\t\t\t\t\ttarget.recover();\n\t\t\t\t\t\tevent.rec=true;\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(target.isMinHandcard()){\n\t\t\t\t\t\ttarget.draw(event.rec?1:2);\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"2.5\",value: \"7\",result: {target: function (player,target){\n\t\t\t\t\t\t\tvar num=0;\n\t\t\t\t\t\t\tif(target.isMinHp()&&get.recoverEffect(target)>0){\n\t\t\t\t\t\t\t\tif(target.hp==1){\n\t\t\t\t\t\t\t\t\tnum+=3;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\tnum+=2;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(target.isMinHandcard()){\n\t\t\t\t\t\t\t\tnum+=2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn num;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段对一名角色使用，若没有角色体力比目标少，目标回复一点体力；若没有角色手牌比目标少，目标摸两张牌（若因此牌回复了体力则改为摸一张）"},"suolianjia":{"name":"锁链甲","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip2\",skills: [\"suolianjia\"],onEquip: function (){\n\t\t\t\t\tif(player.isLinked()==false) player.link();\n\t\t\t\t},onLose: function (){\n\t\t\t\t\tif(player.isLinked()) player.link();\n\t\t\t\t},ai: {basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，你防止即将受到的属性伤害，当装备时进入连环状态，当卸下时解除连环状态"},"chenhuodajie":{"name":"趁火打劫","script":"{fullskin: \"true\",type: \"trick\",filterTarget: \"true\",global: \"g_chenhuodajie\",content: function (){\n\t\t\t\t\tif(target.countCards('he')){\n\t\t\t\t\t\tplayer.gainPlayerCard('he',target,true);\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"1\",useful: \"6\",value: \"6\",result: {target: \"-1\",},tag: {loseCard: \"1\",},},selectTarget: \"1\",}","info":"任意一名其他角色受到伤害时对其使用，获得其一张牌"},"fudichouxin":{"name":"釜底抽薪","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn player.canCompare(target);\n\t\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tplayer.chooseToCompare(target).set('preserve','win').clear=false;\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tplayer.gain([result.player,result.target]);\n\t\t\t\t\t\tresult.player.clone.moveDelete(player);\n\t\t\t\t\t\tresult.target.clone.moveDelete(player);\n\t\t\t\t\t\tgame.addVideo('gain2',player,get.cardsInfo([result.player,result.target]));\n\t\t\t\t\t}\n\t\t\t\t\telse if(!result.cancelled){\n\t\t\t\t\t\tresult.player.clone.delete();\n\t\t\t\t\t\tresult.target.clone.delete();\n\t\t\t\t\t\tgame.addVideo('deletenode',player,get.cardsInfo([result.player,result.target]));\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"4\",value: [4,1],result: {target: function (player){\n\t\t\t\t\t\t\tif(player.countCards('h')<=1) return 0;\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t},player: function (player){\n\t\t\t\t\t\t\tif(player.countCards('h')<=1) return 0;\n\t\t\t\t\t\t\treturn 0.5;\n\t\t\t\t\t\t},},tag: {loseCard: \"1\",},},selectTarget: \"1\",}","info":"与一名角色进行拼点，若成功则获得双方拼点牌"},"shuiyanqijun":{"name":"水攻","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.countCards('e');\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\tif(target.countCards('e')) target.chooseToDiscard('e',true);\n\t\t\t\t},reverseOrder: \"true\",ai: {order: \"9\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.countCards('e')) return -1;\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},tag: {multitarget: \"1\",multineg: \"1\",},},}","info":"令所有有装备的角色各弃置一张装备牌"},"toulianghuanzhu":{"name":"偷梁换柱","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.countCards('h')>0;\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tif(!target.countCards('h')){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar hs=player.getCards('h');\n\t\t\t\t\tif(hs.length){\n\t\t\t\t\t\tvar minval=get.value(hs[0]);\n\t\t\t\t\t\tvar colors=[get.color(hs[0])];\n\t\t\t\t\t\tfor(var i=1;i<hs.length;i++){\n\t\t\t\t\t\t\tvar val=get.value(hs[i],player,'raw');\n\t\t\t\t\t\t\tif(val<minval){\n\t\t\t\t\t\t\t\tminval=val;\n\t\t\t\t\t\t\t\tcolors=[get.color(hs[i])];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(val==minval){\n\t\t\t\t\t\t\t\tcolors.add(get.color(hs[i]));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tplayer.chooseCardButton('偷梁换柱',target.getCards('h')).ai=function(button){\n\t\t\t\t\t\t\tvar val=get.value(button.link,player,'raw')-minval;\n\t\t\t\t\t\t\tif(val>=0){\n\t\t\t\t\t\t\t\tif(colors.contains(get.color(button.link))){\n\t\t\t\t\t\t\t\t\tval+=3;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn val;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tplayer.viewHandcards(target);\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tevent.card=result.links[[0]];\n\t\t\t\t\t\tplayer.chooseCard('h',true,'用一张手牌替换'+get.translation(event.card)).ai=function(card){\n\t\t\t\t\t\t\treturn -get.value(card);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tplayer.gain(event.card,target);\n\t\t\t\t\t\ttarget.gain(result.cards,player);\n\t\t\t\t\t\tplayer.$giveAuto(result.cards,target);\n\t\t\t\t\t\ttarget.$giveAuto(event.card,player);\n\t\t\t\t\t\tgame.log(player,'与',target,'交换了一张手牌');\n\t\t\t\t\t\tif(get.color(event.card)==get.color(result.cards[0])){\n\t\t\t\t\t\t\tplayer.draw();\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttarget.addTempSkill('toulianghuanzhu_ai1');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.addTempSkill('toulianghuanzhu_ai2');\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"8\",tag: {loseCard: \"1\",norepeat: \"1\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(player.countCards('h')<=1) return 0;\n\t\t\t\t\t\t\tif(target.hasSkill('toulianghuanzhu_ai2')) return 0;\n\t\t\t\t\t\t\tif(target.hasSkill('toulianghuanzhu_ai1')) return 0.5;\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t},},useful: [4,1],value: [6,1],},selectTarget: \"1\",}","info":"出牌阶段对一名其他角色使用，你观看其手牌，然后可以用一张手牌替牌其中的一张；若两张牌颜色相同，你摸一张牌"},"huoshan":{"name":"火山","script":"{fullskin: \"true\",type: \"delay\",cardcolor: \"red\",cardnature: \"fire\",modTarget: function (card,player,target){\n\t\t\t\t\treturn lib.filter.judge(card,player,target);\n\t\t\t\t},enable: function (card,player){\n\t\t\t\t\treturn player.canAddJudge(card);\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn (lib.filter.judge(card,player,target)&&player==target);\n\t\t\t\t},selectTarget: [-1,-1],judge: function (card){\n\t\t\t\t\tif(get.suit(card)=='heart'&&get.number(card)>1&&get.number(card)<10) return -6;\n\t\t\t\t\treturn 0;\n\t\t\t\t},effect: function (){\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\tplayer.damage(2,'fire','nosource');\n\t\t\t\t\t\tvar players=game.filterPlayer(function(current){\n\t\t\t\t\t\t\treturn get.distance(player,current)<=1&&player!=current;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tplayers.sort(lib.sort.seat);\n\t\t\t\t\t\tfor(var i=0;i<players.length;i++){\n\t\t\t\t\t\t\tplayers[i].damage(1,'fire','nosource');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tplayer.addJudgeNext(card);\n\t\t\t\t\t}\n\t\t\t\t},cancel: function (){\n\t\t\t\t\tplayer.addJudgeNext(card);\n\t\t\t\t},ai: {basic: {useful: \"0\",value: \"0\",},order: \"1\",result: {target: function (player,target){\n\t\t\t\t\t\t\treturn lib.card.shandian.ai.result.target(player,target);\n\t\t\t\t\t\t},},tag: {},},content: function (){\n\t\t\t\t\tif(lib.filter.judge(card,player,target)&&cards.length&&get.position(cards[0],true)=='o') target.addJudge(card,cards);\n\t\t\t\t},allowMultiple: \"false\",}","info":"出牌阶段，对自己使用。若判定结果为红桃2~9，则目标角色受到2点火焰伤害，距离目标1以内的其他角色受到1点火焰伤害。若判定不为红桃2~9，将之移动到下家的判定区里。"},"hongshui":{"name":"洪水","script":"{type: \"delay\",enable: function (card,player){\n\t\t\t\t\treturn player.canAddJudge(card);\n\t\t\t\t},modTarget: function (card,player,target){\n\t\t\t\t\treturn lib.filter.judge(card,player,target);\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn (lib.filter.judge(card,player,target)&&player==target);\n\t\t\t\t},selectTarget: [-1,-1],judge: function (card){\n\t\t\t\t\tif(get.suit(card)=='club'&&get.number(card)>1&&get.number(card)<10) return -3;\n\t\t\t\t\treturn 0;\n\t\t\t\t},fullskin: \"true\",effect: function (){\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\tif(player.countCards('he')==0) player.loseHp();\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tplayer.discard(player.getCards('he').randomGets(3));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar players=get.players();\n\t\t\t\t\t\tfor(var i=0;i<players.length;i++){\n\t\t\t\t\t\t\tvar dist=get.distance(player,players[i]);\n\t\t\t\t\t\t\tif(dist<=2&&player!=players[i]){\n\t\t\t\t\t\t\t\tvar cs=players[i].getCards('he');\n\t\t\t\t\t\t\t\tif(cs.length==0) players[i].loseHp();\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\tplayers[i].discard(cs.randomGets(3-Math.max(1,dist)));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tplayer.addJudgeNext(card);\n\t\t\t\t\t}\n\t\t\t\t},cancel: function (){\n\t\t\t\t\tplayer.addJudgeNext(card);\n\t\t\t\t},ai: {basic: {useful: \"0\",value: \"0\",},order: \"1\",result: {target: function (player,target){\n\t\t\t\t\t\t\treturn lib.card.shandian.ai.result.target(player,target);\n\t\t\t\t\t\t},},},content: function (){\n\t\t\t\t\tif(lib.filter.judge(card,player,target)&&cards.length&&get.position(cards[0],true)=='o') target.addJudge(card,cards);\n\t\t\t\t},allowMultiple: \"false\",}","info":"出牌阶段，对自己使用。若判定结果为梅花2~9，该角色随机弃置3张牌，距离该角色为X的角色随机弃置3-X张牌，若没有牌则失去一点体力"}}},"guozhan":{"name":"国战","card":{"liulongcanjia":{"name":"六龙骖驾","script":"{audio: \"true\",mode: [\"guozhan\"],fullskin: \"true\",type: \"equip\",subtype: \"equip6\",nomod: \"true\",nopower: \"true\",unique: \"true\",distance: {globalFrom: \"-1\",globalTo: \"1\",},onEquip: function (){\n\t\t\t\t\tvar cards=player.getCards('e',{subtype:['equip3','equip4']});\n\t\t\t\t\tif(cards.length) player.discard(cards);\n\t\t\t\t},skills: [\"liulongcanjia\"],ai: {equipValue: function (card,player){\n\t\t\t\t\t\tif(player.countCards('e',{subtype:['equip3','equip4']})>1) return 1;\n\t\t\t\t\t\tif(player.hasSkill('gzzongyu')) return 9;\n\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\treturn current.hasSkill('gzzongyu')&&get.attitude(player,current)<=0;\n\t\t\t\t\t\t}))\treturn 1;\n\t\t\t\t\t\treturn 7.2;\n\t\t\t\t\t},basic: {equipValue: \"7.2\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，你计算与其他角色的距离-1，其他角色计算与你的距离+1。</br>锁定技，当此牌进入你的装备区时，你弃置你装备区内其他坐骑牌；当此牌在你的装备区内，你不能使用其他坐骑牌（你的装备区便不能置入其他坐骑牌）。"},"minguangkai":{"name":"明光铠","script":"{audio: \"true\",mode: [\"guozhan\"],fullskin: \"true\",type: \"equip\",subtype: \"equip2\",skills: [\"minguangkai_cancel\",\"minguangkai_link\"],ai: {basic: {equipValue: \"6\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，当你成为【火烧连营】、【火攻】或火【杀】的目标时，取消之；若你是小势力角色，你不会被横置。"},"dinglanyemingzhu":{"name":"定澜夜明珠","script":"{audio: \"true\",mode: [\"guozhan\"],fullskin: \"true\",type: \"equip\",subtype: \"equip5\",nomod: \"true\",nopower: \"true\",unique: \"true\",global: \"g_dinglanyemingzhu_ai\",skills: [\"dinglanyemingzhu_skill\"],ai: {equipValue: function (card,player){\n\t\t\t\t\t\tif(player.hasSkill('jubao')) return 8;\n\t\t\t\t\t\tif(player.hasSkill('gzzhiheng')) return 6;\n\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\treturn current.hasSkill('jubao')&&get.attitude(player,current)<=0;\n\t\t\t\t\t\t})){\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 7;\n\t\t\t\t\t},basic: {equipValue: \"6.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，你视为拥有技能“制衡”，若你已经有“制衡”，则改为取消弃置牌数的限制。"},"feilongduofeng":{"name":"飞龙夺凤","script":"{audio: \"true\",mode: [\"guozhan\"],fullskin: \"true\",type: \"equip\",subtype: \"equip1\",nomod: \"true\",nopower: \"true\",unique: \"true\",global: \"g_feilongduofeng_ai\",distance: {attackFrom: \"-1\",},skills: [\"feilongduofeng\",\"feilongduofeng3\"],ai: {equipValue: function (card,player){\n\t\t\t\t\t\tif(player.hasSkill('zhangwu')) return 9;\n\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\treturn current.hasSkill('zhangwu')&&get.attitude(player,current)<=0;\n\t\t\t\t\t\t})){\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 8;\n\t\t\t\t\t},basic: {equipValue: \"7\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你使用【杀】指定一名角色为目标后，你可令该角色弃置一张牌。当你使用【杀】令其他角色进入濒死状态时，你可以获得其一张手牌。"},"taipingyaoshu":{"name":"太平要术","script":"{audio: \"true\",mode: [\"guozhan\"],fullskin: \"true\",type: \"equip\",subtype: \"equip2\",nomod: \"true\",nopower: \"true\",unique: \"true\",global: [\"g_taipingyaoshu_ai\"],skills: [\"taipingyaoshu\"],ai: {equipValue: function (card,player){\n\t\t\t\t\t\tif(player.hasSkill('wendao')) return 9;\n\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\treturn current.hasSkill('wendao')&&get.attitude(player,current)<=0;\n\t\t\t\t\t\t})){\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 6;\n\t\t\t\t\t},basic: {equipValue: \"6\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},filterLose: function (card,player){\n\t\t\t\t\tif(player.hasSkillTag('unequip2')) return false;\n\t\t\t\t\treturn true;\n\t\t\t\t},loseDelay: \"false\",onLose: function (){\n\t\t\t\t\tvar next=game.createEvent('taipingyaoshu');\n\t\t\t\t\tevent.next.remove(next);\n\t\t\t\t\tvar evt=event.getParent();\n\t\t\t\t\tif(evt.getlx===false) evt=evt.getParent();\n\t\t\t\t\tevt.after.push(next);\n\t\t\t\t\tnext.player=player;\n\t\t\t\t\tnext.setContent(lib.card.taipingyaoshu.onLosex);\n\t\t\t\t},onLosex: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tplayer.logSkill('taipingyaoshu');\n\t\t\t\t\tplayer.draw(2);\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(player.hp>1) player.loseHp();\n\t\t\t\t},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，防止你受到的所有属性伤害；全场每有一名与你势力相同的角色存活，你的手牌上限便+1；当你失去装备区里的【太平要术】时，你摸两张牌，然后若你的体力值大于1，你失去1点体力。"},"yuxi":{"name":"玉玺","script":"{audio: \"true\",mode: [\"guozhan\"],fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"yuxi_skill\"],ai: {equipValue: \"9\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，若你有明置的武将牌，你的势力视为唯一的大势力；锁定技，摸牌阶段，若你有明置的武将牌，你多摸一张牌；锁定技，出牌阶段开始时，若你有明置的武将牌，你视为使用【知己知彼】"},"xietianzi":{"name":"挟令","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: function (card,player,event){\n\t\t\t\t\tif(get.mode()=='guozhan'&&!player.isMajor()) return false;\n\t\t\t\t\tif(player.hasSkill('xietianzi')) return false;\n\t\t\t\t\tif(_status.currentPhase!=player) return false;\n\t\t\t\t\tvar evt=event||_status.event;\n\t\t\t\t\tif(evt.name!='chooseToUse') evt=evt.getParent('chooseToUse');\n\t\t\t\t\treturn evt.type=='phase';\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn player==target;\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\tvar evt=_status.event.getParent('phaseUse');\n\t\t\t\t\tif(evt&&evt.name=='phaseUse'){\n\t\t\t\t\t\tevt.skipped=true;\n\t\t\t\t\t}\n\t\t\t\t\ttarget.addTempSkill('xietianzi');\n\t\t\t\t},ai: {order: \"0.5\",value: \"4\",useful: \"2\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.countCards('h')>=2) return 1;\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},},}","info":"出牌阶段，对自己使用。你结束出牌阶段，若如此做，弃牌阶段结束时，你可以弃置一张手牌，获得一个额外的回合"},"shuiyanqijunx":{"name":"水淹七军","script":"{audio: \"shuiyanqijun\",fullskin: \"true\",type: \"trick\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player&&(get.mode()!='guozhan'||_status.mode=='yingbian'||_status.mode=='free'||target.countCards('e')>0);\n\t\t\t\t},enable: \"true\",yingbian_prompt: \"此牌的效果改为依次执行所有选项\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tif(event.card.yingbian){\n\t\t\t\t\t\ttarget.discard(target.getCards('e',function(card){\n\t\t\t\t\t\t\treturn lib.filter.cardDiscardable(card,target,'shuiyanqijunx');\n\t\t\t\t\t\t}));\n\t\t\t\t\t\ttarget.damage('thunder');\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\telse if(!target.countCards('e',function(card){\n\t\t\t\t\t\treturn lib.filter.cardDiscardable(card,target,'shuiyanqijunx');\n\t\t\t\t\t})){\n\t\t\t\t\t\tvar next=target.damage();\n\t\t\t\t\t\tif(!get.is.single()) next.nature='thunder';\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\telse target.chooseControl('discard_card','take_damage',function(event,player){\n\t\t\t\t\t\tif(get.damageEffect(player,event.player,player,'thunder')>=0){\n\t\t\t\t\t\t\treturn 'take_damage';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(player.hp>=3&&player.countCards('e')>=2){\n\t\t\t\t\t\t\treturn 'take_damage';\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 'discard_card';\n\t\t\t\t\t});\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.control=='discard_card'){\n\t\t\t\t\t\ttarget.discard(target.getCards('e',function(card){\n\t\t\t\t\t\t\treturn lib.filter.cardDiscardable(card,target,'shuiyanqijunx');\n\t\t\t\t\t\t}));\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar next=target.damage();\n\t\t\t\t\t\tif(!get.is.single()) next.nature='thunder'\n\t\t\t\t\t}\n\t\t\t\t\tevent.finish();\n\t\t\t\t},ai: {order: \"6\",value: \"4\",useful: \"2\",tag: {damage: \"1\",thunderDamage: \"1\",natureDamage: \"1\",loseCard: \"1\",},yingbian: function (card,player,targets,viewer){\n\t\t\t\t\t\tif(get.attitude(viewer,player)<=0) return 0;\n\t\t\t\t\t\tif(targets.filter(function(current){\n\t\t\t\t\t\t\treturn get.damageEffect(current,player,player,'thunder')>0&&current.countCards('e',function(card){\n\t\t\t\t\t\t\t\treturn get.value(card,current)<=0;\n\t\t\t\t\t\t\t})<2&&current.countCards('e',function(card){\n\t\t\t\t\t\t\t\treturn get.value(card,current)>0;\n\t\t\t\t\t\t\t})>0;\n\t\t\t\t\t\t}).length) return 6;\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},result: {target: function (player,target){\n\t\t\t\t\t\t\treturn -1-target.countCards('e');\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段，对一名其他角色使用。目标角色选择一项：1、弃置装备区里的所有牌（至少一张）；2、受到你造成的1点雷电伤害"},"lulitongxin":{"name":"勠力同心","script":"{fullskin: \"true\",audio: \"true\",type: \"trick\",enable: function (card,player){\n\t\t\t\t\tif(get.mode()=='versus') return true;\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current.isMajor();\n\t\t\t\t\t});\n\t\t\t\t},mode: [\"guozhan\",\"versus\"],filterTarget: \"true\",chongzhu: \"true\",changeTarget: function (player,targets){\n\t\t\t\t\tvar target=targets[0];\n\t\t\t\t\tgame.filterPlayer(function(current){\n\t\t\t\t\t\tif(get.mode()=='versus') return current.isFriendOf(target);\n\t\t\t\t\t\treturn current.isMajor()==target.isMajor()&&current!=target&&!current.hasSkill('diaohulishan');\n\t\t\t\t\t},targets);\n\t\t\t\t},content: function (){\n\t\t\t\t\tif(get.mode()=='versus'){\n\t\t\t\t\t\tif(target.isEnemyOf(player)) target.link(true);\n\t\t\t\t\t\telse if(target.isLinked()) target.draw();\n\t\t\t\t\t}\n\t\t\t\t\telse if(target.isLinked()){\n\t\t\t\t\t\ttarget.draw();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.link();\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"7.5\",value: \"4\",useful: \"2\",wuxie: function (){\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(get.mode()=='versus'){\n\t\t\t\t\t\t\t\tif(target.isFriendOf(player)) return target.isLinked()?1:0;\n\t\t\t\t\t\t\t\treturn target.isLinked()?0:-1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn target.isLinked()?1:-1;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段，对所有敌方角色或所有己方角色使用。若目标角色：为敌方角色且不处于“连环状态”，其横置；为己方角色且处于“连环状态”，其摸一张牌。"},"lianjunshengyan":{"name":"联军盛宴","script":"{fullskin: \"true\",audio: \"true\",type: \"trick\",enable: function (card,player){\n\t\t\t\t\tif(get.mode()=='guozhan') return !player.isUnseen();\n\t\t\t\t\treturn true;\n\t\t\t\t},mode: [\"guozhan\",\"boss\"],filterTarget: function (card,player,target){\n\t\t\t\t\tif(get.mode()=='guozhan') return target!=player&&target.identity!='unknown'&&(target.identity!=player.identity||target.identity=='ye');\n\t\t\t\t\treturn true;\n\t\t\t\t},selectTarget: function (){\n\t\t\t\t\treturn get.mode()=='guozhan'?1:-1;\n\t\t\t\t},changeTarget: function (player,targets){\n\t\t\t\t\tif(get.mode()=='guozhan'){\n\t\t\t\t\t\tvar target=targets[0];\n\t\t\t\t\t\ttargets.push(player);\n\t\t\t\t\t\tif(target.identity!='ye'){\n\t\t\t\t\t\tgame.filterPlayer(function(current){\n\t\t\t\t\t\t\treturn target!=current&&target.identity==current.identity&&!current.hasSkill('diaohulishan');\n\t\t\t\t\t\t\t},targets);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},contentBefore: function (){\n\t\t\t\t\tif(get.mode()=='guozhan'){\n\t\t\t\t\t\tvar evt=event.getParent();\n\t\t\t\t\t\tif(evt&&evt.targets&&evt.targets.contains(player)){\n\t\t\t\t\t\t\tevt.fixedSeat=true;\n\t\t\t\t\t\t\tevt.targets.sortBySeat();\n\t\t\t\t\t\t\tevt.targets.remove(player);\n\t\t\t\t\t\t\tevt.targets.push(player);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tif(get.mode()!='guozhan'){\n\t\t\t\t\t\tif(player==target) target.draw(game.players.length);\n\t\t\t\t\t\telse target.chooseDrawRecover(true);\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(target==player){\n\t\t\t\t\t\t\tvar num=targets.length-1;\n\t\t\t\t\t\t\tevent.num=num;\n\t\t\t\t\t\t\tvar damaged=target.maxHp-target.hp;\n\t\t\t\t\t\t\tif(damaged==0){\n\t\t\t\t\t\t\t\ttarget.draw(num);\n\t\t\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tvar list=[];\n\t\t\t\t\t\t\t\tfor(var i=Math.min(num,damaged);i>=0;i--){\n\t\t\t\t\t\t\t\t\tlist.push('摸'+(num-i)+'回'+i);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttarget.chooseControl(list).set('prompt','请分配自己的摸牌数和回复量').ai=function(){\n\t\t\t\t\t\t\t\t\tif(player.hasSkill('diaohulishan')) return 0;\n\t\t\t\t\t\t\t\t\tif(_status._aozhan) return list.length-1;\n\t\t\t\t\t\t\t\t\treturn list.randomGet();\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\ttarget.draw();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(target!=player) target.link(false);\n\t\t\t\t\telse if(typeof result.control=='string'){\n\t\t\t\t\t\tvar index=result.control.indexOf('回');\n\t\t\t\t\t\tvar draw=parseInt(result.control.slice(1,index));\n\t\t\t\t\t\tvar recover=parseInt(result.control.slice(index+1));\n\t\t\t\t\t\tif(draw) target.draw(draw);\n\t\t\t\t\t\tif(recover) target.recover(recover);\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"3\",value: \"4\",useful: \"2\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(player==target) return 2;\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},},}","info":"出牌阶段，对你和你选择的除你的势力外的一个势力的所有角色。若目标角色：为你，你选择摸Y张牌并回复X-Y点体力（X为该势力的角色数，Y∈[0,X]）；不为你，其摸一张牌，然后重置。"},"chiling":{"name":"敕令","script":"{fullskin: \"true\",audio: \"true\",type: \"trick\",enable: function (){\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current.isUnseen();\n\t\t\t\t\t});\n\t\t\t\t},mode: [\"guozhan\"],global: [\"g_chiling1\",\"g_chiling2\",\"g_chiling3\"],filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.isUnseen();\n\t\t\t\t},selectTarget: \"-1\",chooseai: function (event,player){\n\t\t\t\t\tif(_status.event.controls.contains('选项三')){\n\t\t\t\t\t\treturn Math.random()<0.5?'选项一':'选项三';\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(_status.event.getParent().nomingzhi){\n\t\t\t\t\t\t\tif(_status.event.controls.contains('选项二')) return '选项二';\n\t\t\t\t\t\t\treturn '选项一';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(player.hasSkillTag('maixie_hp')||player.hp<=2) return '选项一';\n\t\t\t\t\t\treturn Math.random()<0.5?'选项一':'选项二';\n\t\t\t\t\t}\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar choiceList=['明置一张武将牌，然后摸一张牌','失去1点体力'];\n\t\t\t\t\tevent.nomingzhi=target.hasSkillTag('nomingzhi',false,null,true);\n\t\t\t\t\tif(event.nomingzhi){\n\t\t\t\t\t\tchoiceList.shift();\n\t\t\t\t\t}\n\t\t\t\t\tif(target.countCards('he',{type:'equip'})){\n\t\t\t\t\t\tchoiceList.push('弃置一张装备牌');\n\t\t\t\t\t}\n\t\t\t\t\ttarget.chooseControl(lib.card.chiling.chooseai).set('prompt','敕令').set('choiceList',choiceList);\n\t\t\t\t\t'step 1'\n\t\t\t\t\tvar index=result.index;\n\t\t\t\t\tif(event.nomingzhi){\n\t\t\t\t\t\tindex++;\n\t\t\t\t\t}\n\t\t\t\t\tif(index==0){\n\t\t\t\t\t\ttarget.chooseControl('主将','副将',function(){\n\t\t\t\t\t\t\treturn Math.floor(Math.random()*2);\n\t\t\t\t\t\t}).set('prompt','选择要明置的武将牌');\n\t\t\t\t\t}\n\t\t\t\t\telse if(index==1){\n\t\t\t\t\t\ttarget.loseHp();\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.chooseToDiscard('he',{type:'equip'},true);\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tif(result.index==0){\n\t\t\t\t\t\ttarget.showCharacter(0);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.showCharacter(1);\n\t\t\t\t\t}\n\t\t\t\t\ttarget.draw();\n\t\t\t\t},ai: {order: \"6\",result: {target: \"-1\",},tag: {multitarget: \"1\",multineg: \"1\",},},}","info":"出牌阶段，对所有没有势力的角色使用。目标角色选择一项：1、明置一张武将牌，然后摸一张牌；2、弃置一张装备牌；3、失去1点体力。当【敕令】因判定或弃置而置入弃牌堆时，系统将之移出游戏，然后系统于当前回合结束后视为对所有没有势力的角色使用【敕令】"},"diaohulishan":{"name":"调虎离山","script":"{fullskin: \"true\",audio: \"true\",type: \"trick\",enable: \"true\",global: \"g_diaohulishan\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player;\n\t\t\t\t},selectTarget: [1,2],content: function (){\n\t\t\t\t\ttarget.addTempSkill('diaohulishan');\n\t\t\t\t},ai: {order: \"10\",value: \"4\",useful: [2,1],wuxie: function (){\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},result: {player: function (player,target){\n\t\t\t\t\t\t\tvar att=get.attitude(player,target);\n\t\t\t\t\t\t\tif(target.hp==1&&att<0) return 0;\n\t\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\t\treturn get.attitude(player,current)<att;\n\t\t\t\t\t\t\t})){\n\t\t\t\t\t\t\t\tvar num=1;\n\t\t\t\t\t\t\t\tif(target==player.next||target==player.previous){\n\t\t\t\t\t\t\t\t\tnum+=0.5;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn num;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},},}","info":"出牌阶段，对至多两名其他角色使用。目标角色于此回合结束之前不计入距离的计算且不能使用牌且不是牌的合法目标且不能失去或回复体力或受到伤害。"},"huxinjing":{"name":"护心镜","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip2\",skills: [\"huxinjing\"],ai: {basic: {equipValue: \"6\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你受到伤害时，若伤害值大于或等于你的体力值，则你可以将【护心镜】置入弃牌堆，然后防止此伤害。"},"huoshaolianying":{"name":"火烧连营","script":"{fullskin: \"true\",audio: \"true\",type: \"trick\",filterTarget: function (card,player,target){\n\t\t\t\t\tif(get.mode()=='guozhan'){\n\t\t\t\t\t\tvar next=player.getNext();\n\t\t\t\t\t\tif(!next) return false;\n\t\t\t\t\t\treturn target==next||target.inline(next);\n\t\t\t\t\t}\n\t\t\t\t\tif(player==target) return false;\n\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current.isLinked()&&current!=player;\n\t\t\t\t\t})){\n\t\t\t\t\t\tif(!target.isLinked()) return false;\n\t\t\t\t\t\tvar distance=get.distance(player,target,'absolute');\n\t\t\t\t\t\treturn !game.hasPlayer(function(current){\n\t\t\t\t\t\t\tif(target!=current&&current!=player&&current.isLinked()){\n\t\t\t\t\t\t\t\tvar dist=get.distance(player,current,'absolute');\n\t\t\t\t\t\t\t\tif(dist<distance){\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(dist==distance&&parseInt(current.dataset.position)<parseInt(target.dataset.position)){\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar dist=get.distance(player,target);\n\t\t\t\t\t\treturn !game.hasPlayer(function(current){\n\t\t\t\t\t\t\treturn current!=player&&get.distance(player,current)<dist\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},enable: \"true\",selectTarget: \"-1\",modTarget: \"true\",content: function (){\n\t\t\t\t\ttarget.damage('fire');\n\t\t\t\t},ai: {order: \"5\",value: \"6\",tag: {damage: \"1\",natureDamage: \"1\",fireDamage: \"1\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasSkillTag('nofire')||target.hasSkillTag('nodamage')) return 0;\n\t\t\t\t\t\t\tif(target.hasSkill('xuying')&&target.countCards('h')==0) return 0;\n\t\t\t\t\t\t\tif(!target.isLinked()){\n\t\t\t\t\t\t\t\treturn get.damageEffect(target,player,target,'fire');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn game.countPlayer(function(current){\n\t\t\t\t\t\t\t\tif(current.isLinked()){\n\t\t\t\t\t\t\t\t\treturn get.sgn(get.damageEffect(current,player,target,'fire'));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},},},}","info":"对离你最近的一名横置角色使用（若无横置角色则改为对距离你最近的所有角色使用），对目标造成一点火焰伤害"},"yuanjiao":{"name":"远交近攻","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: function (card,player){\n\t\t\t\t\tif(get.mode()=='guozhan'&&player.isUnseen()) return false;\n\t\t\t\t\treturn true;\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\tif(get.mode()!='guozhan') return player!=target;\n\t\t\t\t\tif(target.identity=='unknown'||player.identity=='unknown') return false;\n\t\t\t\t\tif(player==target) return false;\n\t\t\t\t\tif(player.identity=='ye') return true;\n\t\t\t\t\treturn player.identity!=target.identity;\n\t\t\t\t},content: function (){\n\t\t\t\t\tgame.asyncDraw([target,player],[1,get.mode()=='guozhan'?3:1]);\n\t\t\t\t},ai: {basic: {useful: \"4\",value: \"8\",order: \"9\",},result: {target: \"1\",player: \"3\",},},selectTarget: \"1\",}","info":"对一名其他角色使用，你与其各摸一张牌"},"zhibi":{"name":"知己知彼","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: \"true\",chongzhu: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\tif(player==target) return false;\n\t\t\t\t\treturn (target.countCards('h')||target.isUnseen(2));\n\t\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tif(!player.storage.zhibi){\n\t\t\t\t\t\tplayer.storage.zhibi=[];\n\t\t\t\t\t}\n\t\t\t\t\tplayer.storage.zhibi.add(target);\n\t\t\t\t\tvar controls=[];\n\t\t\t\t\tif(target.countCards('h')) controls.push('手牌');\n\t\t\t\t\tif(target.isUnseen(0)) controls.push('主将');\n\t\t\t\t\tif(target.isUnseen(1)) controls.push('副将');\n\t\t\t\t\tif(controls.length>1){\n\t\t\t\t\t\tplayer.chooseControl(controls).set('ai',function(){return 1});\n\t\t\t\t\t}\n\t\t\t\t\tif(controls.length==0) event.finish();\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tvar content;\n\t\t\t\t\tvar str=get.translation(target)+'的';\n\t\t\t\t\tif(result.control){\n\t\t\t\t\t\tif(result.control=='手牌'){\n\t\t\t\t\t\t\tcontent=[str+'手牌',target.getCards('h')];\n\t\t\t\t\t\t\tgame.log(player,'观看了',target,'的手牌');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(result.control=='主将'){\n\t\t\t\t\t\t\tcontent=[str+'主将',[[target.name1],'character']];\n\t\t\t\t\t\t\tgame.log(player,'观看了',target,'的主将');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tcontent=[str+'副将',[[target.name2],'character']];\n\t\t\t\t\t\t\tgame.log(player,'观看了',target,'的副将');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if(target.countCards('h')){\n\t\t\t\t\t\tcontent=[str+'手牌',target.getCards('h')];\n\t\t\t\t\t\tgame.log(player,'观看了',target,'的手牌');\n\t\t\t\t\t}\n\t\t\t\t\telse if(target.isUnseen(0)){\n\t\t\t\t\t\tcontent=[str+'主将',[[target.name1],'character']];\n\t\t\t\t\t\tgame.log(player,'观看了',target,'的主将');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcontent=[str+'副将',[[target.name2],'character']];\n\t\t\t\t\t\tgame.log(player,'观看了',target,'的副将');\n\t\t\t\t\t}\n\t\t\t\t\tplayer.chooseControl('ok').set('dialog',content);\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"9.5\",wuxie: function (){\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},result: {player: function (player,target){\n\t\t\t\t\t\t\tif(player.countCards('h')<=player.hp) return 0;\n\t\t\t\t\t\t\tif(player.storage.zhibi&&player.storage.zhibi.contains(target)) return 0;\n\t\t\t\t\t\t\treturn target.isUnseen()?1:0;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段对一名其他角色使用，观看其手牌或武将牌"},"yiyi":{"name":"以逸待劳","script":"{audio: \"true\",fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\tif(get.mode()=='guozhan'){\n\t\t\t\t\t\tif(player.identity=='unknown'||player.identity=='ye') return player==target;\n\t\t\t\t\t\treturn player.identity==target.identity;\n\t\t\t\t\t}\n\t\t\t\t\telse if(get.is.versus()){\n\t\t\t\t\t\treturn player.side==target.side;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t},selectTarget: function (){\n\t\t\t\t\tif(get.mode()=='guozhan') return -1;\n\t\t\t\t\treturn [1,3];\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.draw(2);\n\t\t\t\t\ttarget.chooseToDiscard(2,'he',true).ai=get.disvalue;\n\t\t\t\t},ai: {wuxie: function (){\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},basic: {useful: \"3\",value: \"3\",order: \"5\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tvar hs=target.getCards('h');\n\t\t\t\t\t\t\tif(hs.length<=1){\n\t\t\t\t\t\t\t\tif(target==player&&(hs.length==0||hs[0].name=='yiyi')){\n\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn 0.3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn Math.sqrt(target.countCards('he'));\n\t\t\t\t\t\t},},tag: {loseCard: \"1\",discard: \"1\",norepeat: \"1\",},},}","info":"对与任意三名角色使用，摸两张牌然后弃置两张牌"},"wuliu":{"name":"吴六剑","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",global: \"g_wuliu_skill\",distance: {attackFrom: \"-1\",},ai: {equipValue: function (card,player){\n\t\t\t\t\t\tif(player.identity=='unknown'||player.identity=='ye') return 2.5;\n\t\t\t\t\t\treturn 2+game.countPlayer(function(current){\n\t\t\t\t\t\t\treturn current.identity==player.identity;\n\t\t\t\t\t\t})/2;\n\t\t\t\t\t},basic: {equipValue: \"3\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"wuliu_skill\"],mode: [\"guozhan\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"其他与装备者势力相同的角色攻击范围+1"},"sanjian":{"name":"三尖两刃刀","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-2\",},ai: {basic: {equipValue: \"4\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"sanjian_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你使用杀造成伤害后，可以弃置1张手牌对一名距离受伤害角色1以内的其他角色造成1点伤害"},"jingfanma":{"name":"惊帆","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip4\",distance: {globalFrom: \"-1\",},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",ai: {basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"4\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},}","info":"你的进攻距离+1"},"longfenghemingjian":{"name":"鸾凤和鸣剑","script":"{mode: [\"guozhan\"],type: \"equip\",fullskin: \"true\",subtype: \"equip1\",distance: {attackFrom: \"-2\",},skills: [\"longfenghemingjian\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: \"5\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充②/longfenghemingjian.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你使用的【雷杀】或【火杀】指定目标后，可令对方选择弃置一张牌或令你摸一张牌"},"chiyanzhenhunqin":{"name":"赤焰镇魂琴","script":"{mode: [\"guozhan\"],type: \"equip\",fullskin: \"true\",subtype: \"equip1\",distance: {attackFrom: \"-3\",},skills: [\"chiyanzhenhunqin\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: \"4\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充②/chiyanzhenhunqin.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，你造成的伤害均视为具有火属性"},"guilongzhanyuedao":{"name":"鬼龙斩月刀","script":"{mode: [\"guozhan\"],type: \"equip\",fullskin: \"true\",subtype: \"equip1\",distance: {attackFrom: \"-2\",},skills: [\"guilongzhanyuedao\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: \"4.5\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充②/guilongzhanyuedao.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，你使用的红色【杀】不能被【闪】响应"},"guofengyupao":{"name":"国风玉袍","script":"{mode: [\"guozhan\"],type: \"equip\",fullskin: \"true\",subtype: \"equip2\",nomod: \"true\",nopower: \"true\",unique: \"true\",skills: [\"guofengyupao\"],ai: {equipValue: \"9\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充②/guofengyupao.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，你不能成为其他角色使用普通锦囊牌的目标"},"xuwangzhimian":{"name":"虚妄之冕","script":"{mode: [\"guozhan\"],type: \"equip\",fullskin: \"true\",subtype: \"equip5\",skills: [\"xuwangzhimian\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: \"6\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充②/xuwangzhimian.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，摸牌阶段，你额外摸两张牌；你的手牌上限-1"},"hongmianbaihuapao":{"name":"红棉百花袍","script":"{mode: [\"guozhan\"],type: \"equip\",subtype: \"equip2\",ai: {basic: {equipValue: \"7\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"hongmianbaihuapao_skill\"],fullskin: \"true\",image: \"ext:国战补充②/hongmianbaihuapao.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，防止你受到的属性伤害。"},"linglongshimandai":{"name":"玲珑狮蛮带","script":"{mode: [\"guozhan\"],type: \"equip\",subtype: \"equip2\",ai: {basic: {equipValue: \"6.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"linglongshimandai_skill\"],fullskin: \"true\",image: \"ext:国战补充②/linglongshimandai.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当其他角色使用牌指定你为唯一目标后，你可以进行一次判定，若判定结果为红桃，则此牌对你无效。"},"yihuajiemu":{"name":"移花接木","script":"{mode: [\"guozhan\"],type: \"trick\",fullskin: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player&&target.countCards('he');\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tif(target.hasSha()){\n\t\t\t\t\t\ttarget.chooseToUse({name:'sha'},'使用一张杀，或交给'+get.translation(player)+'两张牌');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.directfalse=true;\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tvar nh=target.countCards('he');\n\t\t\t\t\tif((event.directfalse||!result.bool)&&nh){\n\t\t\t\t\t\tif(nh<=2){\n\t\t\t\t\t\t\tevent.directcards=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\ttarget.chooseCard('he',2,true,'将两张牌交给'+get.translation(player));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tif(event.directcards){\n\t\t\t\t\t\ttarget.give(target.getCards('he'),player);\n\t\t\t\t\t}\n\t\t\t\t\telse if(result.bool&&result.cards&&result.cards.length){\n\t\t\t\t\t\ttarget.give(result.cards,player);\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"7\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasSha()&&_status.event.getRand()<0.5) return 1;\n\t\t\t\t\t\t\treturn -2;\n\t\t\t\t\t\t},},},image: \"ext:国战补充②/yihuajiemu.png\",selectTarget: \"1\",}","info":"出牌阶段对一名有牌的其他角色使用，令其使用一张【杀】，或交给你两张牌"},"changshezhenx":{"name":"长蛇阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (card,player){\n\t\t\t\t\tif(player.inline()) return true;\n\t\t\t\t\tif(player.identity=='unknown'||player.identity=='ye') return false;\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current!=player&&current.isFriendOf(player);\n\t\t\t\t\t});\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\tif(player.inline()){\n\t\t\t\t\t\tvar targets=game.filterPlayer(function(current){\n\t\t\t\t\t\t\treturn player.inline(current);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tplayer.line(targets);\n\t\t\t\t\t\tgame.asyncDraw(targets);\n\t\t\t\t\t}\n\t\t\t\t\telse if(player.getNext()){\n\t\t\t\t\t\tvar list=game.filterPlayer(function(current){\n\t\t\t\t\t\t\treturn current!=player&&current.isFriendOf(player);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(list.length){\n\t\t\t\t\t\t\tlist.sort(function(a,b){\n\t\t\t\t\t\t\t\treturn get.distance(player,a,'absolute')-get.distance(player,b,'absolute');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tplayer.line(list[0]);\n\t\t\t\t\t\t\tgame.swapSeat(list[0],player.getNext(),true,true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"6.5\",result: {player: \"1\",},tag: {draw: \"1\",},},}","info":"若你处于队列中，与你同一队列的所有角色摸一张牌，否则将与你逆时针距离最近的同势力角色移至你下家"},"pozhenjuex":{"name":"破阵决","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: \"true\",notarget: \"true\",content: function (){\n\t\t\t\t\tvar targets=game.filterPlayer();\n\t\t\t\t\tvar n=targets.length;\n\t\t\t\t\twhile(n--){\n\t\t\t\t\t\tgame.swapSeat(targets.randomGet(),targets.randomGet());\n\t\t\t\t\t}\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"8\",result: {player: \"1\",},},}","info":"将所有角色的顺序随机重排"},"tianfuzhenx":{"name":"天覆阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (){\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current.isMajor();\n\t\t\t\t\t});\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.isMajor()&&target.countCards('he')>0;\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\ttarget.chooseToDiscard('he',true).delay=false;\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"-1\",},tag: {discard: \"1\",},},}","info":"所有大势力角色弃置一张牌"},"qixingzhenx":{"name":"七星阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (card,player){\n\t\t\t\t\treturn player.siege()||player.sieged();\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tevent.targets=game.filterPlayer(function(current){\n\t\t\t\t\t\treturn current.siege(player);\n\t\t\t\t\t});\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(event.targets.length){\n\t\t\t\t\t\tvar current=event.targets.shift();\n\t\t\t\t\t\tplayer.line(current,'green');\n\t\t\t\t\t\tplayer.discardPlayerCard(current,true);\n\t\t\t\t\t\tevent.redo();\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tvar card={name:'sha',isCard:true};\n\t\t\t\t\tvar list=game.filterPlayer(function(current){\n\t\t\t\t\t\treturn current.siege(player)&&player.canUse(card,current);\n\t\t\t\t\t});\n\t\t\t\t\tif(list.length){\n\t\t\t\t\t\tplayer.useCard(card,list,false);\n\t\t\t\t\t}\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"1\",},},}","info":"弃置所有围攻你的角色各一张牌，然后视为对所有你围攻的角色使用一张不计入出杀次数的杀"},"dizaizhenx":{"name":"地载阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (){\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current.isNotMajor();\n\t\t\t\t\t});\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.isNotMajor();\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\ttarget.draw(false);\n\t\t\t\t\ttarget.$draw();\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"1\",},tag: {draw: \"1\",},},}","info":"所有小势力角色摸一张牌"},"fengyangzhenx":{"name":"风扬阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.sieged();\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\ttarget.addTempSkill('feiying',{player:'damageAfter'});\n\t\t\t\t\ttarget.popup('feiying');\n\t\t\t\t\tgame.log(target,'获得了技能','【飞影】');\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"2\",},},}","info":"令所有被围攻角色获得技能【飞影】，直到其首次受到伤害"},"yunchuizhenx":{"name":"云垂阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.siege();\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\ttarget.addTempSkill('wushuang',{source:'damageAfter'});\n\t\t\t\t\ttarget.popup('wushuang');\n\t\t\t\t\tgame.log(target,'获得了技能','【无双】');\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"2\",},},}","info":"令所有围攻角色获得技能【无双】，直到其首次造成伤害"},"fengshizhenx":{"name":"锋矢阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.sieged();\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\ttarget.addTempSkill('gztuwei',{player:'phaseEnd'});\n\t\t\t\t\ttarget.popup('gztuwei');\n\t\t\t\t\tgame.log(target,'获得了技能','【突围】');\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"2\",},},}","info":"令所有被围攻角色获得技能【突围】，直到其回合结束"},"shepanzhenx":{"name":"蛇蟠阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (card,player){\n\t\t\t\t\tif(player.identity=='unknown'||player.identity=='ye') return false;\n\t\t\t\t\tif(get.population(player.identity)<=1) return false;\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current!=player&&current.identity==player.identity&&!player.inline(current);\n\t\t\t\t\t});\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\tvar targets=game.filterPlayer(function(current){\n\t\t\t\t\t\treturn current.identity==player.identity;\n\t\t\t\t\t});\n\t\t\t\t\ttargets.sortBySeat();\n\t\t\t\t\tfor(var i=1;i<targets.length;i++){\n\t\t\t\t\t\tgame.swapSeat(targets[i],targets[i-1].next,false);\n\t\t\t\t\t}\n\t\t\t\t\tgame.log(get.translation(player.identity)+'势力角色摆成了蛇蟠阵')\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {player: \"1\",},},}","info":"令我方所有角色进入队列状态"},"longfeizhenx":{"name":"龙飞阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (card,player){\n\t\t\t\t\treturn player.next.siege(player);\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\tif(target.getCards('he').length==0) return false;\n\t\t\t\t\treturn target==player.next||target==player.previous;\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tplayer.choosePlayerCard(target,'he',true);\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\ttarget.discard(result.buttons[0].link);\n\t\t\t\t\t\"step 2\"\n\t\t\t\t\tif(target==targets[targets.length-1]){\n\t\t\t\t\t\tplayer.draw();\n\t\t\t\t\t}\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"10\",result: {target: \"-1\",player: \"1\",},},}","info":"弃置围攻你的角色各一张牌，然后摸一张牌"},"huyizhenx":{"name":"虎翼阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (card,player){\n\t\t\t\t\treturn player.siege(player.next)||player.siege(player.previous);\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn player.siege(target);\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tplayer.chooseCard('将一张非基本牌当作杀对'+get.translation(target)+'使用','he',function(card){\n\t\t\t\t\t\treturn get.type(card)!='basic';\n\t\t\t\t\t}).ai=function(card){\n\t\t\t\t\t\tif(get.effect(target,{name:'sha'},player,player)>0){\n\t\t\t\t\t\t\treturn 6-get.value(card);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t};\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tplayer.useCard({name:'sha'},result.cards,target,false);\n\t\t\t\t\t}\n\t\t\t\t\t\"step 2\"\n\t\t\t\t\tif(target==player.next) event.player2=player.next.next;\n\t\t\t\t\telse event.player2=player.previous.previous;\n\t\t\t\t\tevent.player2.chooseCard('将一张非基本牌当作杀对'+get.translation(target)+'使用','he',function(card){\n\t\t\t\t\t\treturn get.type(card)!='basic';\n\t\t\t\t\t}).ai=function(card){\n\t\t\t\t\t\tif(get.effect(target,{name:'sha'},event.player2,event.player2)>0){\n\t\t\t\t\t\t\treturn 6-get.value(card);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t};\n\t\t\t\t\t\"step 3\"\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tevent.player2.useCard({name:'sha'},result.cards,target,false);\n\t\t\t\t\t}\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"-2\",},},}","info":"你与另一围攻角色可以将一张非基本牌当作【杀】对被围攻角色使用（不计入使用次数）"},"niaoxiangzhenx":{"name":"鸟翔阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\tif(player.identity==target.identity) return false;\n\t\t\t\t\tif(target.identity=='unknown'||target.identity=='ye') return false;\n\t\t\t\t\treturn target.identity==target.next.identity||target.identity==target.previous.identity\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tvar next=target.chooseToRespond({name:'shan'});\n\t\t\t\t\tnext.ai=function(card){\n\t\t\t\t\t\tif(get.damageEffect(target,player,target)>=0) return 0;\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t};\n\t\t\t\t\tnext.autochoose=lib.filter.autoRespondShan;\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\ttarget.damage();\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"9\",useful: \"1\",},result: {target: \"-1.5\",},tag: {respond: \"1\",respondShan: \"1\",damage: \"1\",},},mode: [\"guozhan\"],}","info":"令所有非你阵营的队列的角色今次打出一张闪，或者受到一点伤害"},"nanmanzhanxiang":{"name":"南蛮象","script":"{mode: [\"guozhan\"],fullskin: \"true\",type: \"equip\",subtype: \"equip4\",distance: {globalFrom: \"-1\",},ai: {basic: {equipValue: \"4.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"nanmanzhanxiang_skill\"],image: \"ext:国战补充②/nanmanzhanxiang.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，你的进攻距离+1，【南蛮入侵】对你无效"},"zhonghuangzhenx":{"name":"中黄阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (){\n        return game.players.length>2;\n    },filterTarget: function (card,player,target){\n        return player.next==target||player.previous==target;\n    },content: function (){\n        game.swapSeat(player,target);\n    },ai: {basic: {order: \"7\",},result: {target: function (player,target){\n                if(player.next==target) return -1;\n                if(player.previous==target) return 1;\n            },},},mode: [\"guozhan\"],selectTarget: \"1\",}","info":"你可以与相邻角色交换位置"},"su":{"name":"酥","script":"{mode: [\"guozhan\"],fullskin: \"true\",type: \"basic\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\t    if(target.hp>=target.maxHp) return false;\n\t\t\t   \t\treturn true;\n\t\t\t     \t},selectTarget: \"1\",content: function (){\n\t        \ttarget.recover();\n\t        \t},ai: {basic: {order: \"3\",useful: \"3.5\",value: [8.5,6.8],},result: {target: function (player,target){\n\t        \tif(target.hp<5) return 5-target.hp;\n\t        \treturn 1;\n\t        \t   \t},},tag: {recover: \"1\",},},image: \"ext:国战补充②/su.png\",}","info":"出牌阶段，选择一名角色回复一点体力"},"xinchixueqingfeng":{"name":"赤血青锋","script":"{mode: [\"guozhan\"],type: \"equip\",fullskin: \"true\",subtype: \"equip1\",distance: {attackFrom: \"-1\",},skills: [\"xinchixueqingfeng\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: \"6.5\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充②/xinchixueqingfeng.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你使用黑【杀】无视防具；锁定技，你使用【杀】造成的伤害+1，然后令受到伤害的角色回复1点体力"},"xinsadouchengbing":{"name":"撒豆成兵","script":"{mode: [\"guozhan\"],fullskin: \"true\",type: \"trick\",enable: \"true\",selectTarget: \"-1\",cardcolor: \"red\",toself: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},modTarget: \"true\",content: function (){\n\t\t\t\t\tvar num=Math.min(5,target.maxHp);\n\t\t\t\t\tif(target.group=='ye'){\n\t\t\t\t\t\ttarget.draw(num);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\tif(nh<num){\n\t\t\t\t\t\t\ttarget.draw(num-nh);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"7.2\",useful: \"4.5\",value: \"9.2\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tvar num=Math.min(5,target.maxHp);\n\t\t\t\t\t\t\tif(target.group=='ye'){\n\t\t\t\t\t\t\t\treturn Math.sqrt(num);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\t\t\tif(target==player&&player.countCards('h','xinsadouchengbing')){\n\t\t\t\t\t\t\t\t\tnh--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(nh<num){\n\t\t\t\t\t\t\t\t\treturn Math.sqrt(num-nh);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},tag: {draw: \"2\",},},image: \"ext:国战补充②/xinsadouchengbing.png\",}","info":"出牌阶段对自己使用，若你为野心家，摸X张牌；否则将你手牌补至X；（X为你的体力上限且至多为5）"},"wushuangfangtianji":{"name":"无双方天戟","script":"{mode: [\"guozhan\"],type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-3\",},ai: {basic: {equipValue: \"4.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"wushuangfangtianji_skill\"],fullskin: \"true\",image: \"ext:国战补充②/wushuangfangtianji.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你使用【杀】对目标角色造成伤害后，可以摸一张牌或弃置目标角色一张牌。"}}},"hearth":{"name":"炉石传说","card":{"linghunzhihuo":{"name":"灵魂之火","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\ttarget.damage('fire');\n\t\t\t\t\t'step 1'\n\t\t\t\t\tvar hs=player.getCards('h');\n\t\t\t\t\tif(hs.length){\n\t\t\t\t\t\tplayer.discard(hs.randomGet());\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"1.8\",value: [6,1],useful: [4,1],},result: {player: function (player,target){\n\t\t\t\t\t\t\tif(player==target) return -1;\n\t\t\t\t\t\t\tif(player.countCards('h')>=player.hp) return -0.1;\n\t\t\t\t\t\t\tif(player.countCards('h')>1) return -0.5;\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},target: \"-1\",},tag: {damage: \"1\",fireDamage: \"1\",natureDamage: \"1\",},},selectTarget: \"1\",}","info":"对一名角色造成一点火焰伤害，然后随机弃置一张手牌"},"jihuocard":{"name":"激活","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",toself: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn player==target;\n\t\t\t\t},selectTarget: \"-1\",modTarget: \"true\",content: function (){\n\t\t\t\t\tif(_status.currentPhase==target){\n\t\t\t\t\t\ttarget.addTempSkill('jihuocard2');\n\t\t\t\t\t}\n\t\t\t\t\ttarget.draw();\n\t\t\t\t},ai: {order: \"10\",result: {target: \"1\",},},}","info":"摸一张牌，本回合手牌上限+2"},"zhaomingdan":{"name":"照明弹","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn player!=target&&target.countCards('hej')>0;\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tif(target.countCards('hej')){\n\t\t\t\t\t\tvar next=player.discardPlayerCard('hej',target,true);\n\t\t\t\t\t\tnext.visible=true;\n\t\t\t\t\t\tnext.delay=false;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.goto(2);\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tgame.delay(0.5);\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\ttarget.draw(false);\n\t\t\t\t\ttarget.$draw();\n\t\t\t\t\tgame.delay(0.5);\n\t\t\t\t\t'step 3'\n\t\t\t\t\tplayer.draw();\n\t\t\t\t},ai: {order: \"9.5\",value: \"6\",useful: \"3\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(get.attitude(player,target)>0){\n\t\t\t\t\t\t\t\tvar js=target.getCards('j');\n\t\t\t\t\t\t\t\tif(js.length){\n\t\t\t\t\t\t\t\t\tvar jj=js[0].viewAs?{name:js[0].viewAs}:js[0];\n\t\t\t\t\t\t\t\t\tif(jj.name=='zhaomingdan') return 3;\n\t\t\t\t\t\t\t\t\tif(js.length==1&&get.effect(target,jj,target,player)>=0){\n\t\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn 3;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar es=target.getCards('e');\n\t\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\t\tvar noe=(es.length==0||target.hasSkillTag('noe'));\n\t\t\t\t\t\t\tvar noe2=(es.length==1&&es[0].name=='baiyin'&&target.hp<target.maxHp);\n\t\t\t\t\t\t\tvar noh=(nh==0||target.hasSkillTag('noh'));\n\t\t\t\t\t\t\tif(noh&&noe) return 0;\n\t\t\t\t\t\t\tif(noh&&noe2) return 0.01;\n\t\t\t\t\t\t\tif(get.attitude(player,target)<=0) return (target.countCards('he'))?-1.5:1.5;\n\t\t\t\t\t\t\treturn 0.1;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"观看一名其他角色的手牌，并弃置其区域内的一张牌，然后其与你各摸一张牌"},"shijieshu":{"name":"视界术","script":"{fullskin: \"true\",enable: \"true\",type: \"trick\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.isMin();\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar cards=[];\n\t\t\t\t\tvar subtype=null;\n\t\t\t\t\tfor(var i=0;i<2;i++){\n\t\t\t\t\t\tvar card=get.cardPile(function(card){\n\t\t\t\t\t\t\tif(get.type(card)=='equip'){\n\t\t\t\t\t\t\t\tif(subtype){\n\t\t\t\t\t\t\t\t\tif(get.subtype(card)==subtype){\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\tsubtype=get.subtype(card);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(card){\n\t\t\t\t\t\t\tui.special.appendChild(card);\n\t\t\t\t\t\t\tcards.push(card);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tswitch(cards.length){\n\t\t\t\t\t\tcase 1:{\n\t\t\t\t\t\t\ttarget.$gain(cards[0]);\n\t\t\t\t\t\t\tgame.delay();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase 2:{\n\t\t\t\t\t\t\ttarget.$gain(cards[0]);\n\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\ttarget.$gain(cards[1]);\n\t\t\t\t\t\t\t},250);\n\t\t\t\t\t\t\tgame.delay();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tevent.cards=cards;\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(event.cards.length){\n\t\t\t\t\t\ttarget.equip(event.cards.shift());\n\t\t\t\t\t\tgame.delay(0.5);\n\t\t\t\t\t\tif(event.cards.length){\n\t\t\t\t\t\t\tevent.redo();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tgame.delay(0.5);\n\t\t\t\t\t'step 3'\n\t\t\t\t\tif(target.countCards('he')){\n\t\t\t\t\t\ttarget.chooseToDiscard('he',true);\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"9\",value: \"6\",useful: \"2\",result: {target: function (player,target){\n\t\t\t\t\t\t\treturn Math.max(0,2-target.countCards('e'));\n\t\t\t\t\t\t},},tag: {norepeat: \"1\",},},selectTarget: \"1\",}","info":"目标从牌堆或弃牌堆中随机装备两张类别不同的装备牌，然后弃置一张牌"},"shandianjian":{"name":"闪电箭","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",cardnature: \"thunder\",filterTarget: function (card,player,target){\n\t\t\t\t\tif(player!=game.me&&player.countCards('h')<2) return false;\n\t\t\t\t\treturn target.countCards('h')>0;\n\t\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tif(target.countCards('h')==0){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar rand=Math.random()<0.5;\n\t\t\t\t\ttarget.chooseCard(true).ai=function(card){\n\t\t\t\t\t\tif(rand) return Math.random();\n\t\t\t\t\t\treturn get.value(card);\n\t\t\t\t\t};\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tevent.dialog=ui.create.dialog(get.translation(target.name)+'展示的手牌',result.cards);\n\t\t\t\t\tevent.card2=result.cards[0];\n\t\t\t\t\tevent.videoId=lib.status.videoId++;\n\t\t\t\t\tgame.addVideo('cardDialog',null,[get.translation(target.name)+'展示的手牌',get.cardsInfo(result.cards),event.videoId]);\n\t\t\t\t\tgame.log(target,'展示了',event.card2);\n\t\t\t\t\tplayer.chooseToDiscard(function(card){\n\t\t\t\t\t\treturn get.suit(card)==get.suit(_status.event.parent.card2);\n\t\t\t\t\t},function(card){\n\t\t\t\t\t\tif(get.damageEffect(target,player,player,'thunder')>0){\n\t\t\t\t\t\t\treturn 6-get.value(card,_status.event.player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}).prompt=false;\n\t\t\t\t\tgame.delay(2);\n\t\t\t\t\t\"step 2\"\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\ttarget.damage('thunder');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.addTempSkill('huogong2');\n\t\t\t\t\t}\n\t\t\t\t\tgame.addVideo('cardDialog',null,event.videoId);\n\t\t\t\t\tevent.dialog.close();\n\t\t\t\t},ai: {basic: {order: \"4\",value: [3,1],useful: \"1\",},wuxie: function (target,card,player,current,state){\n\t\t\t\t\t\tif(get.attitude(current,player)>=0&&state>0) return false;\n\t\t\t\t\t},result: {player: function (player){\n\t\t\t\t\t\t\tvar nh=player.countCards('h');\n\t\t\t\t\t\t\tif(nh<=player.hp&&nh<=4&&_status.event.name=='chooseToUse'){\n\t\t\t\t\t\t\t\tif(typeof _status.event.filterCard=='function'&&\n\t\t\t\t\t\t\t\t\t_status.event.filterCard({name:'shandianjian'})){\n\t\t\t\t\t\t\t\t\treturn -10;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(_status.event.skill){\n\t\t\t\t\t\t\t\t\tvar viewAs=get.info(_status.event.skill).viewAs;\n\t\t\t\t\t\t\t\t\tif(viewAs=='shandianjian') return -10;\n\t\t\t\t\t\t\t\t\tif(viewAs&&viewAs.name=='shandianjian') return -10;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasSkill('huogong2')||target.countCards('h')==0) return 0;\n\t\t\t\t\t\t\tif(player.countCards('h')<=1) return 0;\n\t\t\t\t\t\t\tif(target==player){\n\t\t\t\t\t\t\t\tif(typeof _status.event.filterCard=='function'&&\n\t\t\t\t\t\t\t\t\t_status.event.filterCard({name:'shandianjian'})){\n\t\t\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(_status.event.skill){\n\t\t\t\t\t\t\t\t\tvar viewAs=get.info(_status.event.skill).viewAs;\n\t\t\t\t\t\t\t\t\tif(viewAs=='shandianjian') return -1.5;\n\t\t\t\t\t\t\t\t\tif(viewAs&&viewAs.name=='shandianjian') return -1.5;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t},},tag: {damage: \"1\",thunderDamage: \"1\",natureDamage: \"1\",norepeat: \"1\",},},selectTarget: \"1\",}","info":"目标角色展示一张手牌，然后若你能弃掉一张与所展示牌相同花色的手牌，则对该角色造成1点雷电伤害。"},"dunpaigedang":{"name":"盾牌格挡","script":"{fullskin: \"true\",enable: \"true\",type: \"trick\",toself: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn player==target;\n\t\t\t\t},selectTarget: \"-1\",modTarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\ttarget.changeHujia();\n\t\t\t\t\ttarget.draw();\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(target.countCards('he')){\n\t\t\t\t\t\ttarget.chooseToDiscard('he',true);\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"8.5\",value: \"7\",useful: \"3\",result: {target: \"1\",},},}","info":"获得一点护甲值，摸一张牌，然后弃置一张牌"},"chuansongmen":{"name":"传送门","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",discard: \"false\",toself: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},modTarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar gained=get.cards()[0];\n\t\t\t\t\ttarget.gain(gained,'gain2');\n\t\t\t\t\tif(event.getParent(3).name=='phaseUse'&&_status.currentPhase==target&&\n\t\t\t\t\tlib.filter.filterCard(gained,target,event.getParent(2))){\n\t\t\t\t\t\tvar next=target.chooseToUse();\n\t\t\t\t\t\tnext.filterCard=function(card){\n\t\t\t\t\t\t\treturn card==gained;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tnext.prompt='是否使用'+get.translation(gained)+'？';\n\t\t\t\t\t\tif(cards[0]){\n\t\t\t\t\t\t\tui.special.appendChild(cards[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\t// if(cards[0]){\n\t\t\t\t\t\t// \tcards[0].discard();\n\t\t\t\t\t\t// }\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.bool&&!target.hasSkill('chuansongmen3')){\n\t\t\t\t\t\tif(target.hasSkill('chuansongmen2')){\n\t\t\t\t\t\t\ttarget.addTempSkill('chuansongmen3');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\ttarget.addTempSkill('chuansongmen2');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcards[0].fix();\n\t\t\t\t\t\ttarget.gain(cards,'gain2');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcards[0].discard();\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"9.5\",value: \"7\",useful: \"3\",result: {target: \"1\",},tag: {norepeat: \"1\",},},}","info":"摸一张牌并展示，若发生在出牌阶段，你可以立即使用摸到的牌，若如此做，你将传送门收回手牌（每阶段最多收回2张传送门）"},"tanshezhiren":{"name":"弹射之刃","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},selectTarget: \"-1\",modTarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tevent.current=target;\n\t\t\t\t\tevent.num=game.countPlayer();\n\t\t\t\t\tif(event.num%2==0){\n\t\t\t\t\t\tevent.num--;\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(event.num){\n\t\t\t\t\t\tvar enemies=event.current.getEnemies();\n\t\t\t\t\t\tenemies.remove(player);\n\t\t\t\t\t\tfor(var i=0;i<enemies.length;i++){\n\t\t\t\t\t\t\tif(!enemies[i].countCards('h')){\n\t\t\t\t\t\t\t\tenemies.splice(i--,1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(enemies.length){\n\t\t\t\t\t\t\tvar enemy=enemies.randomGet();\n\t\t\t\t\t\t\tevent.current.line(enemy);\n\t\t\t\t\t\t\tenemy.discard(enemy.getCards('h').randomGet());\n\t\t\t\t\t\t\tevent.current=enemy;\n\t\t\t\t\t\t\tevent.num--;\n\t\t\t\t\t\t\tevent.redo();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"8.5\",wuxie: function (){\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},result: {player: \"1\",},tag: {multineg: \"1\",multitarget: \"1\",},},}","info":"出牌阶段对自己使用，依次按敌方-友方-敌方-的顺序随机弃置阵营内一名随机角色的一张牌（目标不包含你），共结算X次，X为存活角色数，若X为偶数，改为X-1"},"xingjiegoutong":{"name":"星界沟通","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",selectTarget: \"-1\",modTarget: \"true\",toself: \"true\",filterTarget: function (card,player,target){return player==target},content: function (){\n\t\t\t\t\ttarget.gainMaxHp();\n\t\t\t\t\ttarget.recover();\n\t\t\t\t\ttarget.discard(target.getCards('h'));\n\t\t\t\t},ai: {basic: {useful: [1,1],value: [1,1],},order: \"1\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.countCards('h','tao')) return 0;\n\t\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\t\tif(nh<=2) return 1;\n\t\t\t\t\t\t\tif(target.hp==1&&target.maxHp>2) return 1;\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},tag: {recover: \"1\",},},}","info":"增加一点体力上限并回复一点体力，弃置你的所有手牌"},"shenenshu":{"name":"神恩术","script":"{fullskin: \"true\",enable: \"true\",type: \"trick\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},modTarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar cards=target.getCards('h');\n\t\t\t\t\tif(cards.length){\n\t\t\t\t\t\ttarget.lose(cards)._triggered=null;\n\t\t\t\t\t}\n\t\t\t\t\tevent.num=1+cards.length;\n\t\t\t\t\t'step 1'\n\t\t\t\t\tvar cards=[];\n\t\t\t\t\tvar list=get.typeCard('basic');\n\t\t\t\t\tlist.remove('du');\n\t\t\t\t\tif(list.length){\n\t\t\t\t\t\tfor(var i=0;i<event.num;i++){\n\t\t\t\t\t\t\tcards.push(game.createCard(list.randomGet()));\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttarget.directgain(cards);\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"1\",result: {target: function (player,target){\n\t\t\t\t\t\t\tvar hs=target.getCards('h');\n\t\t\t\t\t\t\tfor(var i=0;i<hs.length;i++){\n\t\t\t\t\t\t\t\tif(get.type(hs[i])!='basic'&&get.useful(hs[i])>=6){\n\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},},}","info":"出牌阶段对自己使用，将所有手牌（含此张）替换为基本牌"},"zhiliaobo":{"name":"治疗波","script":"{fullskin: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.hp<target.maxHp;\n\t\t\t\t},type: \"trick\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\ttarget.judge(function(card){\n\t\t\t\t\t\treturn get.color(card)=='red'?1:0;\n\t\t\t\t\t});\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\ttarget.recover();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.changeHujia();\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"4\",value: [7,3],useful: [6,3],result: {target: function (player,target){\n\t\t\t\t\t\t\tvar eff=get.recoverEffect(target,player,target);\n\t\t\t\t\t\t\tif(eff<=0) return 0;\n\t\t\t\t\t\t\tvar num=target.maxHp-target.hp;\n\t\t\t\t\t\t\tif(num<1) return 0;\n\t\t\t\t\t\t\tif(num==1) return 1;\n\t\t\t\t\t\t\tif(target.hp==1) return 2.5;\n\t\t\t\t\t\t\treturn 2;\n\t\t\t\t\t\t},},tag: {recover: \"1\",},},selectTarget: \"1\",}","info":"出牌阶段对一名受伤角色使用，目标进行一次判定，若结果为红色，则回复一点体力，否则获得一点护甲"},"yuansuhuimie":{"name":"元素毁灭","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",selectTarget: \"-1\",filterTarget: \"true\",reverseOrder: \"true\",content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\ttarget.chooseToDiscard([1,2],'he').ai=function(card){\n\t\t\t\t\t\tif(get.damageEffect(target,player,target,'thunder')>=0){\n\t\t\t\t\t\t\tif(target.hasSkillTag('maixie')){\n\t\t\t\t\t\t\t\tif(ui.selected.cards.length) return 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(player.hasSkillTag('notricksource')) return 0;\n\t\t\t\t\t\tif(target.hasSkillTag('notrick')) return 0;\n\t\t\t\t\t\tif(card.name=='tao') return 0;\n\t\t\t\t\t\tif(target.hp==1&&card.name=='jiu') return 0;\n\t\t\t\t\t\tif(get.type(card)!='basic'){\n\t\t\t\t\t\t\treturn 10-get.value(card);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 8-get.value(card);\n\t\t\t\t\t};\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(!result.bool||result.cards.length<2){\n\t\t\t\t\t\tif(result.bool) target.damage(2-result.cards.length,'thunder');\n\t\t\t\t\t\telse target.damage(2,'thunder');\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"7\",useful: [5,1],},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasSkillTag('nothunder')) return 0;\n\t\t\t\t\t\t\tif(player.hasUnknown(2)) return 0;\n\t\t\t\t\t\t\tvar nh=target.countCards('he');\n\t\t\t\t\t\t\tif(target==player) nh--;\n\t\t\t\t\t\t\tif(nh==2) return -2.5;\n\t\t\t\t\t\t\tif(nh==1) return -3;\n\t\t\t\t\t\t\tif(nh==0) return -4;\n\t\t\t\t\t\t\treturn -2;\n\t\t\t\t\t\t},},tag: {damage: \"1\",natureDamage: \"1\",thunderDamage: \"1\",multitarget: \"1\",multineg: \"1\",discard: \"2\",loseCard: \"2\",},},}","info":"对所有角色使用，令目标弃置0~2张牌，并受到2-X点雷电伤害，X为其弃置的手牌数"}}},"huanlekapai":{"name":"欢乐卡牌","card":{"monkey":{"name":"猴子","script":"{audio: \"true\",fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"monkey\"],ai: {basic: {equipValue: \"8\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"猴子偷桃：当场上有其他角色使用【桃】时，你可以弃掉【猴子】，阻止【桃】的结算并将其收为手牌"},"mianju":{"name":"漩涡面具","script":"{audio: \"true\",fullskin: \"true\",type: \"equip\",subtype: \"equip2\",skills: [\"mianju\"],ai: {order: \"9.5\",basic: {equipValue: function (card,player){\n\t\t\t\t\t\t\tif(!player.isTurnedOver()) return 6;\n\t\t\t\t\t\t\tif(player.isTurnedOver()) return -10;\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"<font color=#f00>锁定技</font> 你的武将牌不能被翻面"},"shoulijian":{"name":"手里剑","script":"{audio: \"true\",type: \"basic\",enable: \"true\",fullskin: \"true\",outrange: {global: \"2\",},filterTarget: function (card,player,target){\n\t\t\t\treturn player!=target;\n\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\t\t\n\t\t\t\t\tif(!target.countCards('he',{type:'equip'})){\n\t\t\t\t\t\ttarget.damage();\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.chooseToDiscard('he',{type:'equip'},'弃置一张装备牌或受到一点伤害').ai=function(card){\n\t\t\t\t\t\t\tvar player=_status.event.player;\n\t\t\t\t\t\t\tvar source=_status.event.getParent().player;\n\t\t\t\t\t\t\tif(get.damageEffect(player,source,player)>0) return -1;\n\t\t\t\t\t\t\treturn 7-get.value(card);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(!result.bool){\n\t\t\t\t\t\ttarget.damage();\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"9\",value: \"6\",useful: \"2\",},result: {target: \"-2\",},tag: {discard: \"1\",damage: \"1\",},},selectTarget: \"1\",}","info":"出牌阶段，对一名距离1以外的角色使用，令其弃置一张装备牌或受到一点伤害"},"kuwu":{"name":"苦无","script":"{audio: \"true\",fullskin: \"true\",type: \"equip\",subtype: \"equip1\",skills: [\"kuwu\"],nomod: \"true\",nopower: \"true\",unique: \"true\",distance: {attackFrom: \"-1\",},ai: {equipValue: \"6\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"<font color=#f00>锁定技</font> 每当你使用【杀】造成一次伤害，受伤角色须弃置一张牌"},"xuelunyang":{"name":"写轮眼","script":"{audio: \"true\",fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"xuelunyang\"],ai: {basic: {equipValue: \"8\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"回合开始阶段，你可以选择一名角色，然后获得其一项技能，直到回合结束"},"jiuwei":{"name":"九尾","script":"{audio: \"true\",fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"jiuwei\"],ai: {basic: {equipValue: \"8\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"（收集查克拉）回合结束时，若你已受伤，你可回复一点体力，否则摸一张牌"}}},"mtg":{"name":"万智牌","card":{"mtg_lindixiliu":{"name":"林地溪流","script":"{type: \"land\",fullborder: \"wood\",enable: function (card,player){\n\t\t\t\t\treturn !player.hasSkill('land_used');\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tgame.changeLand('mtg_lindixiliu',player);\n\t\t\t\t\tvar card=get.cardPile2(function(card){\n\t\t\t\t\t\treturn get.suit(card)=='heart';\n\t\t\t\t\t});\n\t\t\t\t\tif(card){\n\t\t\t\t\t\tplayer.gain(card,'draw');\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tplayer.chooseToDiscard('he',[1,Infinity],{suit:'heart'},'林地溪流').set('ai',function(card){\n\t\t\t\t\t\treturn 8-get.value(card);\n\t\t\t\t\t}).set('prompt2','弃置任意张红桃牌，每弃置一张牌，将一张延时锦囊牌置入一名随机敌方角色的判定区');\n\t\t\t\t\t'step 2'\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tevent.num=result.cards.length;\n\t\t\t\t\t\tevent.targets=player.getEnemies();\n\t\t\t\t\t}\n\t\t\t\t\t'step 3'\n\t\t\t\t\tif(event.num&&event.targets&&event.targets.length){\n\t\t\t\t\t\tvar target=event.targets.randomGet();\n\t\t\t\t\t\tvar list=get.inpile('delay');\n\t\t\t\t\t\tfor(var i=0;i<list.length;i++){\n\t\t\t\t\t\t\tif(target.hasJudge(list[i])){\n\t\t\t\t\t\t\t\tlist.splice(i--,1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(list.length){\n\t\t\t\t\t\t\tplayer.line(target);\n\t\t\t\t\t\t\tvar card=game.createCard(list.randomGet());\n\t\t\t\t\t\t\ttarget.addJudge(card);\n\t\t\t\t\t\t\ttarget.$draw(card);\n\t\t\t\t\t\t\tgame.delay();\n\t\t\t\t\t\t\tevent.num--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tevent.targets.remove(target);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tevent.redo();\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"6\",useful: \"3\",order: \"7\",result: {player: \"1\",},},}","info":"从牌堆中摸一张红桃牌，然后弃置任意张红桃牌，每弃置一张牌，将一张延时锦囊牌置入一名随机敌方角色的判定区；。地图效果：准备阶段，你可以弃置一张红桃牌，然后弃置判定区内的一张牌"},"mtg_longlushanfeng":{"name":"龙颅山峰","script":"{type: \"land\",fullborder: \"wood\",enable: function (card,player){\n\t\t\t\t\treturn !player.hasSkill('land_used');\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tgame.changeLand('mtg_longlushanfeng',player);\n\t\t\t\t\tplayer.chooseControl('获得杀','获得闪').set('prompt','选择一项').set('ai',function(){\n\t\t\t\t\t\tvar player=_status.event.player;\n\t\t\t\t\t\tif(player.hasShan()) return 0;\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t});\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.control=='获得杀'){\n\t\t\t\t\t\tplayer.gain(game.createCard('sha'),'gain2');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tplayer.gain(game.createCard('shan'),'gain2');\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"5\",useful: \"3\",order: \"4\",result: {player: \"1\",},},}","info":"选项一：获得一张杀；选项二：获得一张闪。地图效果：你出杀的次数上限+1"},"mtg_cangbaohaiwan":{"name":"藏宝海湾","script":"{type: \"land\",fullborder: \"wood\",enable: function (card,player){\n\t\t\t\t\tif(!lib.cardPack.mode_derivation||!lib.cardPack.mode_derivation.length) return false;\n\t\t\t\t\treturn !player.hasSkill('land_used');\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tgame.changeLand('mtg_cangbaohaiwan',player);\n\t\t\t\t\tevent.map={};\n\t\t\t\t\tvar pack1=[];\n\t\t\t\t\tvar pack2=[];\n\t\t\t\t\tfor(var i=0;i<lib.cardPack.mode_derivation.length;i++){\n\t\t\t\t\t\tvar name=lib.cardPack.mode_derivation[i];\n\t\t\t\t\t\tvar info=lib.card[name];\n\t\t\t\t\t\tif(info.gainable==false||info.destroy) continue;\n\t\t\t\t\t\tif(info.derivationpack){\n\t\t\t\t\t\t\tvar trans=lib.translate[info.derivationpack+'_card_config']+'（卡牌包）';\n\t\t\t\t\t\t\tif(!event.map[trans]){\n\t\t\t\t\t\t\t\tevent.map[trans]=[];\n\t\t\t\t\t\t\t\tpack2.push(trans);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tevent.map[trans].push(name);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(typeof info.derivation=='string'){\n\t\t\t\t\t\t\tfor(var j in lib.characterPack){\n\t\t\t\t\t\t\t\tif(lib.characterPack[j][info.derivation]){\n\t\t\t\t\t\t\t\t\tvar trans=lib.translate[j+'_character_config']+'（武将包）';\n\t\t\t\t\t\t\t\t\tif(!event.map[trans]){\n\t\t\t\t\t\t\t\t\t\tevent.map[trans]=[];\n\t\t\t\t\t\t\t\t\t\tpack1.push(trans);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tevent.map[trans].push(name);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!pack1.length&&!pack2.length){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tplayer.chooseControl(pack1.concat(pack2),'dialogcontrol',function(){\n\t\t\t\t\t\treturn _status.event.controls.randomGet('轩辕剑（卡牌包）');\n\t\t\t\t\t}).set('prompt','选择一个扩展包获得其中一张衍生牌');\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.control&&event.map[result.control]){\n\t\t\t\t\t\tplayer.gain(game.createCard(event.map[result.control].randomGet()),'draw');\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"7\",useful: \"3\",order: \"9\",result: {player: \"1\",},},}","info":"选择一个护展包，随机获得来自该扩展包的一张衍生牌。地图效果：你在摸牌时有可能摸到衍生牌"},"mtg_linzhongjianta":{"name":"林中尖塔","script":"{type: \"land\",fullborder: \"wood\",enable: function (card,player){\n\t\t\t\t\treturn !player.hasSkill('land_used');\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tgame.changeLand('mtg_linzhongjianta',player);\n\t\t\t\t\tplayer.discoverCard(function(card){\n\t\t\t\t\t\treturn get.subtype(card)=='equip1';\n\t\t\t\t\t},'nogain','选择一个武器装备之');\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.choice){\n\t\t\t\t\t\tplayer.equip(game.createCard(result.choice),true);\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"5\",useful: \"3\",order: \"9\",result: {player: function (player){\n\t\t\t\t\t\t\tif(player.getEquip(1)) return 0;\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},},}","info":"发现一张武器牌并装备之。地图效果：若你装备区内有武器牌，你可以将一张基本牌当作杀使用"},"mtg_youlin":{"name":"幽林","script":"{type: \"land\",fullborder: \"wood\",enable: function (card,player){\n\t\t\t\t\treturn !player.hasSkill('land_used');\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\tgame.changeLand('mtg_youlin',player);\n\t\t\t\t\tvar list=get.inpile('trick');\n\t\t\t\t\twhile(list.length){\n\t\t\t\t\t\tvar name=list.randomRemove();\n\t\t\t\t\t\tif(lib.card[name].multitarget) continue;\n\t\t\t\t\t\tvar targets=game.filterPlayer();\n\t\t\t\t\t\twhile(targets.length){\n\t\t\t\t\t\t\tvar target=targets.randomRemove();\n\t\t\t\t\t\t\tif(player.canUse(name,target,false)&&get.effect(target,{name:name},player,player)>0){\n\t\t\t\t\t\t\t\tplayer.useCard({name:name},target);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"5\",useful: \"3\",order: \"4\",result: {player: \"1\",},},}","info":"随机使用一张普通锦囊牌，随机指定一个具有正收益的目标。地图效果：出牌阶段限一次，你可以弃置一张锦囊牌并发现一张牌"},"mtg_haidao":{"name":"海岛","script":"{type: \"land\",fullborder: \"wood\",enable: function (card,player){\n\t\t\t\t\treturn !player.hasSkill('land_used');\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tgame.changeLand('mtg_haidao',player);\n\t\t\t\t\tif(player.isHealthy()){\n\t\t\t\t\t\tplayer.changeHujia();\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tplayer._temp_mtg_haidao=true;\n\t\t\t\t\t\tplayer.chooseToDiscard('he','海岛').set('ai',function(card){\n\t\t\t\t\t\t\treturn 5-get.value(card);\n\t\t\t\t\t\t}).set('prompt2','弃置一张牌并回复一点体力，或取消并获得一点护甲');\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tplayer.recover();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tplayer.changeHujia();\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tdelete player._temp_mtg_haidao;\n\t\t\t\t},ai: {value: \"5\",useful: \"3\",order: \"4\",result: {player: \"1\",},},}","info":"选项一：获得一点护甲（无视地图效果）；选项二：弃置一张牌并回复一点体力。地图效果：\b锁定技，当你获得护甲时，若你已受伤，改为回复等量体力"},"mtg_yixialan":{"name":"依夏兰","script":"{type: \"land\",fullborder: \"wood\",enable: function (card,player){\n\t\t\t\t\treturn !player.hasSkill('land_used');\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tgame.changeLand('mtg_yixialan',player);\n\t\t\t\t\tplayer.chooseControl('基本牌','锦囊牌').set('prompt','选择一个类型获得该类型的一张牌').set('ai',function(){\n\t\t\t\t\t\tvar player=_status.event.player;\n\t\t\t\t\t\tif(!player.hasSha()||!player.hasShan()||player.hp==1) return 0;\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t});\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.control=='基本牌'){\n\t\t\t\t\t\tplayer.gain(game.createCard(get.inpile('basic').randomGet()),'gain2');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tplayer.gain(game.createCard(get.inpile('trick','trick').randomGet()),'gain2');\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"5\",useful: \"3\",order: \"4\",result: {player: \"1\",},},}","info":"选项一：随机获得一张基本牌；选项二：随机获得一张锦囊牌。地图效果：出牌阶段限一次，你可以将一张基本牌重铸为锦囊牌"},"mtg_shuimomuxue":{"name":"水没墓穴","script":"{type: \"land\",fullborder: \"wood\",enable: function (card,player){\n\t\t\t\t\treturn !player.hasSkill('land_used');\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tgame.changeLand('mtg_shuimomuxue',player);\n\t\t\t\t\tif(player.countDiscardableCards('he')){\n\t\t\t\t\t\tplayer.chooseToDiscard('是否弃置一张牌并摸两张牌？','he').set('ai',function(card){\n\t\t\t\t\t\t\treturn 8-get.value(card);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tplayer.draw(2);\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"5\",useful: \"3\",order: \"4\",result: {player: function (player){\n\t\t\t\t\t\t\tif(!player.countCards('h',function(card){\n\t\t\t\t\t\t\t\treturn card.name!='mtg_shuimomuxue'&&get.value(card)<8;\n\t\t\t\t\t\t\t})){\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},},}","info":"你可以弃置一张牌并摸两张牌。地图效果：锁定技，你的手牌上限-1；若弃牌阶段弃置了至少一张牌，则在此阶段结束时摸一张牌"},"mtg_feixu":{"name":"废墟","script":"{type: \"land\",fullborder: \"wood\",enable: function (card,player){\n\t\t\t\t\treturn !player.hasSkill('land_used');\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\tgame.changeLand('mtg_feixu',player);\n\t\t\t\t\tplayer.discoverCard(ui.discardPile.childNodes);\n\t\t\t\t},ai: {value: \"5\",useful: \"3\",order: \"4\",result: {player: \"1\",},},}","info":"从弃牌堆中发现一张牌。地图效果：准备阶段，随机将弃牌堆的一张牌置于牌堆顶"},"mtg_shamolvzhou":{"name":"沙漠绿洲","script":"{type: \"land\",fullborder: \"wood\",enable: function (card,player){\n\t\t\t\t\treturn !player.hasSkill('land_used');\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\tgame.changeLand('mtg_shamolvzhou',player);\n\t\t\t\t\tplayer.discoverCard(get.inpile('basic'));\n\t\t\t\t},ai: {value: \"5\",useful: \"3\",order: \"4\",result: {player: \"1\",},},}","info":"发现一张基本牌。地图效果：你的基本牌不计入手牌上限"},"mtg_duzhao":{"name":"毒沼","script":"{type: \"land\",fullborder: \"wood\",enable: function (card,player){\n\t\t\t\t\treturn !player.hasSkill('land_used');\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tgame.changeLand('mtg_duzhao',player);\n\t\t\t\t\tplayer.chooseTarget('选择一名角色令其获得一张毒',true).set('ai',function(target){\n\t\t\t\t\t\tif(target.hasSkillTag('nodu')) return 0;\n\t\t\t\t\t\treturn -get.attitude(_status.event.player,target)/Math.sqrt(target.hp+1);\n\t\t\t\t\t});\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tvar target=result.targets[0];\n\t\t\t\t\t\tplayer.line(target,'green');\n\t\t\t\t\t\ttarget.gain(game.createCard('du'),'gain2');\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"5\",useful: \"3\",order: \"4\",result: {player: function (player){\n\t\t\t\t\t\t\tif(game.countPlayer(function(current){\n\t\t\t\t\t\t\t\tif(current.hasSkillTag('nodu')) return false;\n\t\t\t\t\t\t\t\treturn get.attitude(player,current)<0;\n\t\t\t\t\t\t\t})>game.countPlayer(function(current){\n\t\t\t\t\t\t\t\tif(current.hasSkillTag('nodu')) return false;\n\t\t\t\t\t\t\t\treturn get.attitude(player,current)>0;\n\t\t\t\t\t\t\t})){\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},},}","info":"选择一名角色令其获得一张毒。地图效果：结束阶段，你获得一张毒"},"mtg_bingheyaosai":{"name":"冰河要塞","script":"{type: \"land\",fullborder: \"wood\",enable: function (card,player){\n\t\t\t\t\treturn !player.hasSkill('land_used');\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tgame.changeLand('mtg_bingheyaosai',player);\n\t\t\t\t\tplayer.draw(2);\n\t\t\t\t\t'step 1'\n\t\t\t\t\tplayer.chooseToDiscard('he',2,true);\n\t\t\t\t},ai: {value: \"5\",useful: \"3\",order: \"2\",result: {player: \"1\",},},}","info":"摸两张牌，然后弃置两张牌。地图效果：锁定技，每当你使用一张杀，若你有牌，则需弃置一张牌"}}},"gujian":{"name":"古剑奇谭","card":{"luyugeng":{"name":"鲈鱼羹","script":"{fullskin: \"true\",type: \"food\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('luyugeng');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.$gain2(cards);\n\t\t\t\t\ttarget.storage.luyugeng=card;\n\t\t\t\t\ttarget.storage.luyugeng_markcount=3;\n\t\t\t\t\ttarget.addSkill('luyugeng');\n\t\t\t\t},ai: {order: \"2\",value: \"4\",result: {target: \"1\",},},selectTarget: \"1\",}","info":"出牌阶段限一次，你可以弃置一张基本牌并发现一张牌，持续三回合"},"jinlianzhu":{"name":"金莲珠","script":"{type: \"trick\",fullskin: \"true\",filterTarget: \"true\",global: \"g_jinlianzhu\",content: function (){\n\t\t\t\t\tvar evt=event.getParent(3)._trigger;\n\t\t\t\t\tevt.cancel()\n\t\t\t\t\tif(evt.source){\n\t\t\t\t\t\tevt.source.draw();\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"1\",value: [5,1],useful: [6,1],result: {target: function (player,target){\n\t\t\t\t\t\t\tvar evt=_status.event.getTrigger();\n\t\t\t\t\t\t\tvar eff=get.damageEffect(target,evt.source,target,evt.nature);\n\t\t\t\t\t\t\tif(eff>0) return -1;\n\t\t\t\t\t\t\tif(eff<0) return 2;\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"对一名即将受到伤害的角色使用，防止此伤害，并令伤害来源摸一张牌"},"chunbing":{"name":"春饼","script":"{fullskin: \"true\",type: \"food\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('chunbing');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.$gain2(cards);\n\t\t\t\t\ttarget.storage.chunbing=card;\n\t\t\t\t\ttarget.storage.chunbing_markcount=5;\n\t\t\t\t\ttarget.addSkill('chunbing');\n\t\t\t\t},ai: {order: \"2\",value: \"4\",result: {target: function (player,target){\n\t\t\t\t\t\t\tvar num=target.needsToDiscard();\n\t\t\t\t\t\t\tif(num){\n\t\t\t\t\t\t\t\tif(target==player&&num>1){\n\t\t\t\t\t\t\t\t\treturn num;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn Math.sqrt(num);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"你的手牌上限+1，持续五回合"},"gudonggeng":{"name":"骨董羹","script":"{fullskin: \"true\",type: \"food\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('gudonggeng');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.$gain2(cards);\n\t\t\t\t\ttarget.storage.gudonggeng=card;\n\t\t\t\t\ttarget.storage.gudonggeng_markcount=3;\n\t\t\t\t\ttarget.addSkill('gudonggeng');\n\t\t\t\t},ai: {order: \"2\",value: \"4\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(player==target&&!player.hasShan()) return 2;\n\t\t\t\t\t\t\treturn 1/Math.max(1,target.hp);\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"当你下一次受到杀造成的伤害时，令伤害-1，持续三回合"},"liyutang":{"name":"鲤鱼汤","script":"{fullskin: \"true\",type: \"food\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('liyutang');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.$gain2(cards);\n\t\t\t\t\ttarget.storage.liyutang=card;\n\t\t\t\t\ttarget.storage.liyutang_markcount=2;\n\t\t\t\t\ttarget.addSkill('liyutang');\n\t\t\t\t},ai: {order: \"2\",value: \"4\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(player==target&&target.isMinHp()) return 2;\n\t\t\t\t\t\t\tif(target.isMinHp()) return 1.5;\n\t\t\t\t\t\t\treturn 1/Math.max(1,target.hp);\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"结束阶段，若你的体力值为全场最少或之一，你获得一点护甲，持续两回合"},"mizhilianou":{"name":"蜜汁藕","script":"{fullskin: \"true\",type: \"food\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('mizhilianou');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.$gain2(cards);\n\t\t\t\t\ttarget.storage.mizhilianou=card;\n\t\t\t\t\ttarget.storage.mizhilianou_markcount=4;\n\t\t\t\t\ttarget.addSkill('mizhilianou');\n\t\t\t\t},ai: {order: \"2\",value: \"4\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target==player){\n\t\t\t\t\t\t\t\tif(target.countCards('he',{suit:'heart'})){\n\t\t\t\t\t\t\t\t\tif(target.isDamaged()) return 1.5;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\treturn 0.2;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(target.isDamaged()){\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0.5;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"你可以将一张红桃牌当作桃使用，持续四回合"},"xiajiao":{"name":"虾饺","script":"{fullskin: \"true\",type: \"food\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('xiajiao');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.$gain2(cards);\n\t\t\t\t\ttarget.storage.xiajiao=card;\n\t\t\t\t\ttarget.storage.xiajiao_markcount=3;\n\t\t\t\t\ttarget.addSkill('xiajiao');\n\t\t\t\t\ttarget.addTempSkill('xiajiao3');\n\t\t\t\t},ai: {order: \"2\",value: \"5\",result: {target: \"1\",},},selectTarget: \"1\",}","info":"你在摸牌阶段额外摸一张牌，然后弃置一张牌，持续三回合"},"tanhuadong":{"name":"昙花冻","script":"{fullskin: \"true\",type: \"food\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('tanhuadong');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.$gain2(cards);\n\t\t\t\t\ttarget.storage.tanhuadong=card;\n\t\t\t\t\ttarget.storage.tanhuadong_markcount=3;\n\t\t\t\t\ttarget.addSkill('tanhuadong');\n\t\t\t\t},ai: {order: \"2\",value: \"5\",result: {target: \"1\",},},selectTarget: \"1\",}","info":"出牌阶段结束时，你摸一张牌，持续三回合"},"mapodoufu":{"name":"麻婆豆腐","script":"{fullskin: \"true\",type: \"food\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('mapodoufu');\n\t\t\t\t},content: function (){\n\t\t\t\t\tif(target==targets[0]&&cards.length) target.$gain2(cards);\n\t\t\t\t\ttarget.storage.mapodoufu=card;\n\t\t\t\t\ttarget.storage.mapodoufu_markcount=2;\n\t\t\t\t\ttarget.addSkill('mapodoufu');\n\t\t\t\t},ai: {order: \"1\",value: \"5\",result: {target: function (player,target){\n\t\t\t\t\t\t\treturn player==target?2:1;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"结束阶段，你弃置一名随机敌人的一张随机牌，持续两回合"},"qingtuan":{"name":"青团","script":"{fullskin: \"true\",type: \"food\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('qingtuan');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.$gain2(cards);\n\t\t\t\t\ttarget.storage.qingtuan=card;\n\t\t\t\t\ttarget.storage.qingtuan_markcount=2;\n\t\t\t\t\ttarget.addSkill('qingtuan');\n\t\t\t\t},ai: {order: \"4\",value: \"4\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target==player){\n\t\t\t\t\t\t\t\tif(target.hasSha()) return 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\t\t\tif(nh>=3) return 1;\n\t\t\t\t\t\t\t\tif(target.hasSha()) return 1;\n\t\t\t\t\t\t\t\tif(nh&&Math.random()<0.5) return 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn player.needsToDiscard()?0.2:0;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"你在回合内使用首张杀时摸一张牌，持续两回合"},"yougeng":{"name":"酉羹","script":"{fullskin: \"true\",type: \"food\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('yougeng');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.$gain2(cards);\n\t\t\t\t\ttarget.storage.yougeng=card;\n\t\t\t\t\ttarget.storage.yougeng_markcount=2;\n\t\t\t\t\ttarget.addSkill('yougeng');\n\t\t\t\t},ai: {order: \"2\",value: \"4\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.isHealthy()) return player.needsToDiscard()?0.1:0;\n\t\t\t\t\t\t\tif(target.isMinHp()) return 1.5;\n\t\t\t\t\t\t\treturn 1/Math.max(1,target.hp);\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"准备阶段，若你的体力值为全场最少或之一，你回复一点体力，持续两回合"},"molicha":{"name":"茉莉茶","script":"{fullskin: \"true\",type: \"food\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('molicha');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.$gain2(cards);\n\t\t\t\t\ttarget.storage.molicha=card;\n\t\t\t\t\ttarget.storage.molicha_markcount=4;\n\t\t\t\t\ttarget.addSkill('molicha');\n\t\t\t\t},ai: {order: \"2\",value: \"4\",result: {target: \"1\",},},selectTarget: \"1\",}","info":"你不能成为其他角色的黑色牌的目标，持续四回合"},"yuanbaorou":{"name":"元宝肉","script":"{fullskin: \"true\",type: \"food\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('yuanbaorou');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.$gain2(cards);\n\t\t\t\t\ttarget.storage.yuanbaorou=card;\n\t\t\t\t\ttarget.storage.yuanbaorou_markcount=4;\n\t\t\t\t\ttarget.addSkill('yuanbaorou');\n\t\t\t\t},ai: {order: \"2\",value: \"4\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target==player){\n\t\t\t\t\t\t\t\tif(target.hasSha()) return 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\t\t\tif(nh>=3) return 1;\n\t\t\t\t\t\t\t\tif(target.hasSha()) return 1;\n\t\t\t\t\t\t\t\tif(nh&&Math.random()<0.5) return 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn player.needsToDiscard()?0.2:0;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"你在出牌阶段可以额外使用一张杀，持续四回合"},"heilonglinpian":{"name":"黑龙鳞片","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",toself: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},selectTarget: \"-1\",modTarget: \"true\",content: function (){\n\t\t\t\t\ttarget.changeHujia();\n\t\t\t\t\ttarget.addTempSkill('heilonglinpian',{player:'phaseBegin'});\n\t\t\t\t},ai: {value: [6,1],useful: \"1\",order: \"2\",result: {target: \"1\",},},}","info":"出牌阶段对自己使用，获得一点护甲，直到下一回合开始，你的防御距离+1"},"mutoumianju":{"name":"木头面具","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip2\",skills: [\"mutoumianju_skill\"],ai: {equipValue: \"4\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"出牌阶段限一次，你可以将一张手牌当作杀使用"},"yuheng":{"name":"玉衡","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",nopower: \"true\",nomod: \"true\",unique: \"true\",skills: [\"yuheng_skill\"],ai: {equipValue: \"6\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"出牌阶段限一次，若敌方角色有黑桃手牌，你可以弃置一张黑桃手牌，然后获得一名随机敌方角色的一张随机黑桃手牌（此牌在本局游戏中第三次和第七次发动效果后，分别自动获得一次强化）"},"yuheng_plus":{"name":"玉衡","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",nopower: \"true\",unique: \"true\",nomod: \"true\",epic: \"true\",cardimage: \"yuheng\",skills: [\"yuheng_plus_skill\"],ai: {equipValue: \"7\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"由普通玉衡强化得到，将玉衡技能描述中的“弃置一张黑桃手牌”改为“弃置一张黑色手牌”"},"yuheng_pro":{"name":"玉衡","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",nopower: \"true\",unique: \"true\",nomod: \"true\",legend: \"true\",cardimage: \"yuheng\",skills: [\"yuheng_pro_skill\"],ai: {equipValue: \"8\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"由普通玉衡二次强化得到，将玉横技能描述中的“弃置一张黑桃手牌”改为“弃置一张黑色手牌”，并去掉使用次数限制"},"shatang":{"name":"沙棠","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: \"true\",cardcolor: \"red\",cardnature: \"fire\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\ttarget.damage('fire');\n\t\t\t\t\t'step 1'\n\t\t\t\t\ttarget.changeHujia();\n\t\t\t\t},ai: {value: [4,1],useful: \"2\",order: \"2\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasSkillTag('nofire')) return 1.5;\n\t\t\t\t\t\t\tif(target.hasSkillTag('maixie_hp')) return 0;\n\t\t\t\t\t\t\tif(target.hp==1) return -1;\n\t\t\t\t\t\t\treturn -1/Math.sqrt(target.hp+1);\n\t\t\t\t\t\t},},tag: {damage: \"1\",fireDamage: \"1\",natureDamage: \"1\",},},selectTarget: \"1\",}","info":"出牌阶段对一名角色使用，对目标造成一点火焰伤害，然后目标获得一点护甲"},"shujinsan":{"name":"舒筋散","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.countCards('he')>0;\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\ttarget.chooseToDiscard('he',[1,target.countCards('he')],'弃置任意张牌并摸等量的牌').ai=function(card){\n\t\t\t\t\t\treturn 6-get.value(card);\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\ttarget.draw(result.cards.length);\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"1.5\",value: [4,1],tag: {norepeat: \"1\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target==player){\n\t\t\t\t\t\t\t\tvar cards=player.getCards('he');\n\t\t\t\t\t\t\t\tvar num=-1;\n\t\t\t\t\t\t\t\tfor(var i=0;i<cards.length;i++){\n\t\t\t\t\t\t\t\t\tif(get.value(cards[i])<6) num++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(player.needsToDiscard()&&num<1){\n\t\t\t\t\t\t\t\t\tnum=1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn Math.max(0,num);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tif(!player.needsToDiscard()&&target.countCards('he')<=3){\n\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn target.countCards('he')/2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段对任意角色使用，目标可弃置任意张牌，并摸等量的牌"},"dinvxuanshuang":{"name":"帝女玄霜","script":"{fullskin: \"true\",type: \"basic\",savable: \"true\",selectTarget: \"-1\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\ttarget.recover();\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(target.isIn()){\n\t\t\t\t\t\ttarget.chooseToDiscard([1,Infinity],'he','弃置任意张牌并摸等量的牌');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\ttarget.draw(result.cards.length);\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"6\",useful: \"10\",value: [8,6.5,5,4],},result: {target: \"2\",},tag: {recover: \"1\",save: \"1\",},},}","info":"对一名濒死状态的角色使用，目标回复一点体力，然后可以弃置任意张牌并摸等量的牌"},"ziyangdan":{"name":"紫阳丹","script":"{fullskin: \"true\",type: \"basic\",enable: \"true\",filterTarget: \"true\",content: function (){\n\t\t\t\t\ttarget.changeHujia(3);\n\t\t\t\t\tif(target.hasSkill('ziyangdan')){\n\t\t\t\t\t\ttarget.storage.ziyangdan+=3;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.addSkill('ziyangdan');\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"1.6\",value: [7,1],useful: \"3\",tag: {norepeat: \"1\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hp>2){\n\t\t\t\t\t\t\t\tif(player.needsToDiscard()) return 1/target.hp;\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(target.hp>0){\n\t\t\t\t\t\t\t\treturn 2/target.hp;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段对一名角色使用，目标获得3点护甲，此后每个准备阶段失去1点护甲，直到首次失去所有护甲或累计以此法失去3点护甲"},"yunvyuanshen":{"name":"玉女元参","script":"{fullskin: \"true\",type: \"basic\",enable: \"true\",logv: \"false\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('yunvyuanshen_skill');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.storage.yunvyuanshen_skill=game.createCard('yunvyuanshen');\n\t\t\t\t\ttarget.addSkill('yunvyuanshen_skill');\n\t\t\t\t\tif(cards&&cards.length){\n\t\t\t\t\t\tcard=cards[0];\n\t\t\t\t\t}\n\t\t\t\t\tif(target==targets[0]&&card.clone&&(card.clone.parentNode==player.parentNode||card.clone.parentNode==ui.arena)){\n\t\t\t\t\t\tcard.clone.moveDelete(target);\n\t\t\t\t\t\tgame.addVideo('gain2',target,get.cardsInfo([card]));\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {value: \"7\",useful: \"4\",},order: \"2\",result: {target: function (player,target){\n\t\t\t\t\t\t\treturn 1/Math.sqrt(1+target.hp);\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段对一名角色使用，目标在下一次进入濒死状态时回复一点体力"},"bingpotong":{"name":"天女散花","script":"{fullskin: \"true\",type: \"jiguan\",enable: \"true\",wuxieable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.countCards('h')>0;\n\t\t\t\t},selectTarget: [1,3],content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tif(target.countCards('h')==0||player.countCards('h')==0){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tplayer.chooseCard('请展示一张手牌',true).set('ai',function(){\n\t\t\t\t\t\tvar num=0;\n\t\t\t\t\t\tvar rand=_status.event.rand;\n\t\t\t\t\t\tif(get.color(card)=='red'){\n\t\t\t\t\t\t\tif(rand) num-=6;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(!rand) num-=6;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar value=get.value(card);\n\t\t\t\t\t\tif(value>=8) return -100;\n\t\t\t\t\t\treturn num-value;\n\t\t\t\t\t}).set('rand', Math.random()<0.5).prompt2='若与'+get.translation(target)+'展示的牌相同，你弃置展示的牌，'+get.translation(target)+'失去一点体力';\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tevent.card1=result.cards[0];\n\t\t\t\t\ttarget.chooseCard('请展示一张手牌',true).set('ai',function(card){\n\t\t\t\t\t\tvar num=0;\n\t\t\t\t\t\tvar rand=_status.event.rand;\n\t\t\t\t\t\tif(get.color(card)=='red'){\n\t\t\t\t\t\t\tif(rand) num-=6;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(!rand) num-=6;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar value=get.value(card);\n\t\t\t\t\t\tif(value>=8) return -100;\n\t\t\t\t\t\treturn num-value;\n\t\t\t\t\t}).set('rand', Math.random()<0.5).prompt2='若与'+get.translation(player)+'展示的牌相同，'+get.translation(player)+'弃置展示的牌，你失去一点体力';\n\t\t\t\t\t\"step 2\"\n\t\t\t\t\tevent.card2=result.cards[0];\n\t\t\t\t\tui.arena.classList.add('thrownhighlight');\n\t\t\t\t\tgame.addVideo('thrownhighlight1');\n\t\t\t\t\tplayer.$compare(event.card1,target,event.card2);\n\t\t\t\t\tgame.delay(4);\n\t\t\t\t\t\"step 3\"\n\t\t\t\t\tgame.log(player,'展示了',event.card1);\n\t\t\t\t\tgame.log(target,'展示了',event.card2);\n\t\t\t\t\tif(get.color(event.card2)==get.color(event.card1)){\n\t\t\t\t\t\tplayer.discard(event.card1).animate=false;\n\t\t\t\t\t\ttarget.$gain2(event.card2);\n\t\t\t\t\t\tvar clone=event.card1.clone;\n\t\t\t\t\t\tif(clone){\n\t\t\t\t\t\t\tclone.style.transition='all 0.5s';\n\t\t\t\t\t\t\tclone.style.transform='scale(1.2)';\n\t\t\t\t\t\t\tclone.delete();\n\t\t\t\t\t\t\tgame.addVideo('deletenode',player,get.cardsInfo([clone]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttarget.loseHp();\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\tevent.parent.cancelled=true;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tplayer.$gain2(event.card1);\n\t\t\t\t\t\ttarget.$gain2(event.card2);\n\t\t\t\t\t\tgame.delay();\n\t\t\t\t\t}\n\t\t\t\t\tui.arena.classList.remove('thrownhighlight');\n\t\t\t\t\tgame.addVideo('thrownhighlight2');\n\t\t\t\t\t\"step 4\"\n\t\t\t\t\t// if(cards&&cards.length){\n\t\t\t\t\t//     player.gain(cards,'gain2');\n\t\t\t\t\t//     target.addTempSkill('bingpotong');\n\t\t\t\t\t// }\n\t\t\t\t},ai: {basic: {order: \"2\",value: [5,1],useful: \"1\",},result: {player: function (player,target){\n\t\t\t\t\t\t\tif(player.countCards('h')<=Math.min(5,Math.max(2,player.hp))&&_status.event.name=='chooseToUse'){\n\t\t\t\t\t\t\t\tif(typeof _status.event.filterCard=='function'&&\n\t\t\t\t\t\t\t\t\t_status.event.filterCard({name:'bingpotong'})){\n\t\t\t\t\t\t\t\t\treturn -10;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(_status.event.skill){\n\t\t\t\t\t\t\t\t\tvar viewAs=get.info(_status.event.skill).viewAs;\n\t\t\t\t\t\t\t\t\tif(viewAs=='bingpotong') return -10;\n\t\t\t\t\t\t\t\t\tif(viewAs&&viewAs.name=='bingpotong') return -10;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},target: function (player,target){\n\t\t\t\t\t\t\tif(player.countCards('h')<=1) return 0;\n\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t},},tag: {loseHp: \"1\",},},}","info":"出牌阶段对至多3名角色使用，你与每个目标依次同时展示一张手牌，若颜色相同，你弃置展示的手牌，目标失去一点体力并终止结算"},"feibiao":{"name":"飞镖","script":"{type: \"jiguan\",enable: \"true\",fullskin: \"true\",wuxieable: \"true\",outrange: {globalFrom: \"2\",},filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player;\n\t\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tif(!target.countCards('h',{color:'black'})){\n\t\t\t\t\t\ttarget.loseHp();\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.chooseToDiscard({color:'black'},'弃置一张黑色手牌或受流失一点体力').ai=function(card){\n\t\t\t\t\t\t\treturn 8-get.value(card);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(!result.bool){\n\t\t\t\t\t\ttarget.loseHp();\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"9\",value: \"3\",useful: \"1\",},result: {target: \"-2\",},tag: {discard: \"1\",loseHp: \"1\",},},selectTarget: \"1\",}","info":"出牌阶段，对一名距离1以外的角色使用，令其弃置一张黑色手牌或流失一点体力"},"longxugou":{"name":"龙须钩","script":"{type: \"jiguan\",enable: \"true\",fullskin: \"true\",wuxieable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player&&target.countGainableCards(player,'e');\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar es=target.getGainableCards(player,'e')\n\t\t\t\t\tif(es.length){\n\t\t\t\t\t\tplayer.choosePlayerCard('e',target,true).set('es',es).set('filterButton',function(button){\n\t\t\t\t\t\t\treturn _status.event.es.contains(button.link);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\ttarget.$give(result.links[0],player);\n\t\t\t\t\t\ttarget.lose(result.links[0],ui.special);\n\t\t\t\t\t\tevent.card=result.links[0];\n\t\t\t\t\t\tgame.delay();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tif(event.card&&get.position(event.card)=='s'){\n\t\t\t\t\t\tplayer.equip(event.card);\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"9\",value: \"6\",useful: \"4\",},result: {target: \"-1\",},tag: {loseCard: \"1\",gain: \"1\",},},selectTarget: \"1\",}","info":"出牌阶段对一名装备区内有牌的其他角色使用，获得其装备区内的一张牌并装备之"},"qiankunbiao":{"name":"乾坤镖","script":"{type: \"jiguan\",enable: \"true\",fullskin: \"true\",wuxieable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player&&target.countCards('he')>0;\n\t\t\t\t},changeTarget: function (player,targets){\n\t\t\t\t\tgame.filterPlayer(function(current){\n\t\t\t\t\t\treturn get.distance(targets[0],current,'pure')==1&&current.countCards('he');\n\t\t\t\t\t},targets);\n\t\t\t\t},content: function (){\n\t\t\t\t\tvar he=target.getCards('he');\n\t\t\t\t\tif(he.length){\n\t\t\t\t\t\ttarget.discard(he.randomGet()).delay=false;\n\t\t\t\t\t}\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\tgame.delay(0.5);\n\t\t\t\t},ai: {order: \"7\",tag: {loseCard: \"1\",discard: \"1\",},wuxie: function (){\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},result: {target: \"-1\",},},selectTarget: \"1\",}","info":"随机弃置一名其他角色和其相邻角色的一张牌"},"shenhuofeiya":{"name":"神火飞鸦","script":"{type: \"jiguan\",enable: \"true\",fullskin: \"true\",wuxieable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player;\n\t\t\t\t},changeTarget: function (player,targets){\n\t\t\t\t\tgame.filterPlayer(function(current){\n\t\t\t\t\t\treturn get.distance(targets[0],current,'pure')==1;\n\t\t\t\t\t},targets);\n\t\t\t\t},cardcolor: \"red\",cardnature: \"fire\",content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tvar next=target.chooseToRespond({name:'shan'});\n\t\t\t\t\tnext.ai=function(card){\n\t\t\t\t\t\tif(get.damageEffect(target,player,target,'fire')>=0) return 0;\n\t\t\t\t\t\tif(player.hasSkillTag('notricksource')) return 0;\n\t\t\t\t\t\tif(target.hasSkillTag('notrick')) return 0;\n\t\t\t\t\t\tif(target.hasSkillTag('noShan')){\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 11-get.value(card);\n\t\t\t\t\t};\n\t\t\t\t\tnext.autochoose=lib.filter.autoRespondShan;\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\ttarget.damage('fire');\n\t\t\t\t\t}\n\t\t\t\t},ai: {wuxie: function (target,card,player,viewer){\n\t\t\t\t\t\tif(get.attitude(viewer,target)>0&&target.countCards('h','shan')){\n\t\t\t\t\t\t\tif(!target.countCards('h')||target.hp==1||Math.random()<0.7) return 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(get.attitude(viewer,target)<=0){\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t},order: \"7\",tag: {respond: \"1\",respondShan: \"1\",damage: \"1\",natureDamage: \"1\",fireDamage: \"1\",multitarget: \"1\",multineg: \"1\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasSkillTag('nofire')) return 0;\n\t\t\t\t\t\t\tif(player.hasUnknown(2)) return 0;\n\t\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\t\tif(lib.config.mode=='identity'){\n\t\t\t\t\t\t\t\tif(target.isZhu&&nh<=2&&target.hp<=1) return -100;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(nh==0) return -2;\n\t\t\t\t\t\t\tif(nh==1) return -1.7\n\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段对一名其他角色和其相邻角色使用，目标需打出一张闪，否则受到一点火属性伤害"},"mianlijinzhen":{"name":"棉里针","script":"{type: \"jiguan\",enable: \"true\",fullskin: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.hp>=player.hp;\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\ttarget.draw();\n\t\t\t\t\t'step 1'\n\t\t\t\t\ttarget.loseHp();\n\t\t\t\t},ai: {order: \"2\",value: [5,1],useful: [4,1],result: {target: \"-1.5\",},tag: {},},selectTarget: \"1\",}","info":"出牌阶段对一名体力值不小于你的角色使用，目标摸一张牌然后失去一点体力"},"liutouge":{"name":"六骰格","script":"{type: \"jiguan\",enable: \"true\",fullskin: \"true\",filterTarget: \"true\",wuxieable: \"true\",content: function (){\n\t\t\t\t\tif(player.getEnemies().contains(target)){\n\t\t\t\t\t\ttarget.getDebuff();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.getBuff();\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"4\",value: \"5\",result: {player: function (player,target){\n\t\t\t\t\t\t\tif(get.attitude(player,target)==0) return 0;\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段对一名角色使用，若目标是敌人，对目标施加一个随机的负面效果；否则对目标施加一个随机的正面效果"},"liufengsan":{"name":"流风散","script":"{type: \"trick\",enable: \"true\",fullskin: \"true\",filterTarget: \"true\",content: function (){\n\t\t\t\t\tvar list=[];\n\t\t\t\t\tfor(var i=0;i<2;i++){\n\t\t\t\t\t\tlist.push(game.createCard('shan'));\n\t\t\t\t\t}\n\t\t\t\t\ttarget.gain(list,'gain2');\n\t\t\t\t},ai: {order: \"4.5\",value: [5,1],tag: {gain: \"1\",norepeat: \"1\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target==player){\n\t\t\t\t\t\t\t\tif(!target.hasShan()) return 2;\n\t\t\t\t\t\t\t\tvar num=target.needsToDiscard(2);\n\t\t\t\t\t\t\t\tif(num==0) return 1.5;\n\t\t\t\t\t\t\t\tif(num==1) return 1;\n\t\t\t\t\t\t\t\treturn 0.5;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tswitch(target.countCards('h')){\n\t\t\t\t\t\t\t\t\tcase 0:return 2;\n\t\t\t\t\t\t\t\t\tcase 1:return 1.5;\n\t\t\t\t\t\t\t\t\tcase 2:return 1;\n\t\t\t\t\t\t\t\t\tdefault:return 0.5;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段对一名角色使用，目标获得两张闪"},"shihuifen":{"name":"石灰粉","script":"{type: \"trick\",fullskin: \"true\",filterTarget: \"true\",global: \"g_shihuifen\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar next=_status.currentPhase.chooseToRespond({name:'shan'});\n\t\t\t\t\tnext.set('prompt2','否则本回合无法对其他角色使用卡牌');\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(!result.bool){\n\t\t\t\t\t\t_status.currentPhase.addTempSkill('shihuifen','phaseUseAfter');\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"1\",value: [5,1],useful: [5,1],tag: {respond: \"1\",respondShan: \"1\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.countCards('h')>=3||target.needsToDiscard()) return -1.5;\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"在一名其他角色的出牌阶段开始时对其使用，目标需打出一张闪，否则此阶段使用卡牌无法指定其他角色为目标"}}},"gwent":{"name":"昆特牌","card":{"gw_hudiewu":{"name":"蝴蝶舞","script":"{fullborder: \"gold\",type: \"spell\",subtype: \"spell_gold\",vanish: \"true\",enable: function (card,player){\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current!=player&&current.countCards('ej');\n\t\t\t\t\t});\n\t\t\t\t},notarget: \"true\",contentBefore: function (){\n\t\t\t\t\tplayer.$skill('蝴蝶舞','legend','metal');\n\t\t\t\t\tgame.delay(2);\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tevent.targets=game.filterPlayer(function(current){\n\t\t\t\t\t\treturn current.countCards('ej');\n\t\t\t\t\t}).sortBySeat();\n\t\t\t\t\tevent.targets.remove(player);\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(event.targets.length){\n\t\t\t\t\t\tvar target=event.targets.shift();\n\t\t\t\t\t\tvar ej=target.getCards('ej');\n\t\t\t\t\t\tplayer.line(target);\n\t\t\t\t\t\ttarget.removeEquipTrigger();\n\t\t\t\t\t\tfor(var i=0;i<ej.length;i++){\n\t\t\t\t\t\t\tgame.createCard(ej[i]).discard();\n\t\t\t\t\t\t\tej[i].init([ej[i].suit,ej[i].number,'gw_dieyi_'+(get.subtype(ej[i])||'judge')]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tevent.redo();\n\t\t\t\t\t}\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\tvar evt=_status.event.getParent('phaseUse');\n\t\t\t\t\tif(evt&&evt.name=='phaseUse'){\n\t\t\t\t\t\tevt.skipped=true;\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"6\",useful: [6,1],result: {player: function (player){\n\t\t\t\t\t\t\treturn game.countPlayer(function(current){\n\t\t\t\t\t\t\t\tif(current==player) return;\n\t\t\t\t\t\t\t\treturn -(current.countCards('e')-current.countCards('j')/3)*get.sgn(get.attitude(player,current));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},},order: \"0.7\",},}","info":"将其他角色在场上的所有牌替换为蝶翼（每当你失去一张蝶翼，你获得一枚“蝶翼”标记；在任意角色的结束阶段，你移去所有“蝶翼”标记，并随机弃置等量的牌），然后结束出牌阶段"},"gw_yigeniyin":{"name":"伊格尼印","script":"{fullborder: \"gold\",type: \"spell\",subtype: \"spell_gold\",vanish: \"true\",enable: \"true\",notarget: \"true\",contentBefore: function (){\n\t\t\t\t\tplayer.$skill('伊格尼印','legend','metal');\n\t\t\t\t\tgame.delay(2);\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar enemies=player.getEnemies();\n\t\t\t\t\tvar target=get.max(enemies,'hp','list').randomGet();\n\t\t\t\t\tif(target){\n\t\t\t\t\t\tplayer.line(target,'fire');\n\t\t\t\t\t\ttarget.damage('fire');\n\t\t\t\t\t\tgame.delay();\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tevent.targets=game.filterPlayer(function(current){\n\t\t\t\t\t\treturn current.isMaxHp();\n\t\t\t\t\t}).sortBySeat();\n\t\t\t\t\tplayer.line(event.targets,'fire');\n\t\t\t\t\t'step 2'\n\t\t\t\t\tif(event.targets.length){\n\t\t\t\t\t\tvar target=event.targets.shift();\n\t\t\t\t\t\tplayer.line(target,'fire');\n\t\t\t\t\t\ttarget.damage('fire');\n\t\t\t\t\t\tevent.redo();\n\t\t\t\t\t}\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\tvar evt=_status.event.getParent('phaseUse');\n\t\t\t\t\tif(evt&&evt.name=='phaseUse'){\n\t\t\t\t\t\tevt.skipped=true;\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"8\",useful: [6,1],result: {player: function (player){\n\t\t\t\t\t\t\tvar enemies=player.getEnemies();\n\t\t\t\t\t\t\tvar players=game.filterPlayer();\n\t\t\t\t\t\t\tvar func=function(current){\n\t\t\t\t\t\t\t\tif(current) return current.hp;\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tvar max1=get.max(enemies,func);\n\t\t\t\t\t\t\tfor(var i=0;i<players.length;i++){\n\t\t\t\t\t\t\t\tif(players[i].hp==max1){\n\t\t\t\t\t\t\t\t\tplayers.splice(i,1);break;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar max2=get.max(players,func);\n\t\t\t\t\t\t\tif(max1-1>max2){\n\t\t\t\t\t\t\t\treturn get.damageEffect(get.max(enemies,func,'item'),player,player,'fire');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tvar num;\n\t\t\t\t\t\t\t\tif(max1>max2){\n\t\t\t\t\t\t\t\t\tnum=get.sgn(get.damageEffect(get.max(enemies,func,'item'),player,player,'fire'));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if(max1==max2){\n\t\t\t\t\t\t\t\t\tnum=0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\tnum=1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn num+game.countPlayer(function(current){\n\t\t\t\t\t\t\t\t\tif(current.hp>=max2){\n\t\t\t\t\t\t\t\t\t\treturn get.sgn(get.damageEffect(current,player,player,'fire'));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},},order: \"0.7\",},}","info":"对敌方角色中体力值最高的一名随机角色造成一点火焰伤害，然后对场上体力值最高的所有角色各造成一点火焰伤害，然后结束出牌阶段"},"gw_leizhoushu":{"name":"雷咒术","script":"{fullborder: \"gold\",type: \"spell\",subtype: \"spell_gold\",vanish: \"true\",enable: \"true\",notarget: \"true\",contentBefore: function (){\n\t\t\t\t\tplayer.$skill('雷咒术','legend','metal');\n\t\t\t\t\tgame.delay(2);\n\t\t\t\t},content: function (){\n\t\t\t\t\tif(player.hasSkill('gw_leizhoushu')){\n\t\t\t\t\t\tif(typeof player.storage.gw_leizhoushu!='number'){\n\t\t\t\t\t\t\tplayer.storage.gw_leizhoushu=2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tplayer.storage.gw_leizhoushu++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tplayer.syncStorage('gw_leizhoushu');\n\t\t\t\t\t\tplayer.updateMarks();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tplayer.addSkill('gw_leizhoushu');\n\t\t\t\t\t}\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\tvar evt=_status.event.getParent('phaseUse');\n\t\t\t\t\tif(evt&&evt.name=='phaseUse'){\n\t\t\t\t\t\tevt.skipped=true;\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"8\",useful: [6,1],result: {player: function (player){\n\t\t\t\t\t\t\treturn 1+game.countPlayer(function(current){\n\t\t\t\t\t\t\t\tif(current!=player&&current.isMaxHandcard()){\n\t\t\t\t\t\t\t\t\treturn -get.sgn(get.attitude(player,current));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},},order: \"0.5\",},}","info":"获得技能雷咒术（在每个准备阶段令全场牌数最多的所有其他角色各随机弃置一张牌，若目标不包含敌方角色，将一名随机敌方角色追加为额外目标，结算X次，X为本局获得此技能的次数），然后结束出牌阶段"},"gw_aerdeyin":{"name":"阿尔德印","script":"{fullborder: \"gold\",type: \"spell\",subtype: \"spell_gold\",vanish: \"true\",enable: function (card,player){\n\t\t\t\t\tvar enemies=player.getEnemies();\n\t\t\t\t\treturn enemies.length>0;\n\t\t\t\t},notarget: \"true\",contentBefore: function (){\n\t\t\t\t\tplayer.$skill('阿尔德印','legend','metal');\n\t\t\t\t\tgame.delay(2);\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar enemies=player.getEnemies();\n\t\t\t\t\tevent.list=[enemies.randomGet()];\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(event.list.length){\n\t\t\t\t\t\tvar target=event.list.shift();\n\t\t\t\t\t\tevent.target=target;\n\t\t\t\t\t\tplayer.line(target,'green');\n\t\t\t\t\t\ttarget.damage();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tdelete event.target;\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tif(event.target){\n\t\t\t\t\t\tif(!event.target.isTurnedOver()){\n\t\t\t\t\t\t\tevent.target.turnOver();\n\t\t\t\t\t\t\tevent.target.addSkill('gw_aerdeyin');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tevent.goto(1);\n\t\t\t\t\t}\n\t\t\t\t\t'step 3'\n\t\t\t\t\tgame.delay();\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\tvar evt=_status.event.getParent('phaseUse');\n\t\t\t\t\tif(evt&&evt.name=='phaseUse'){\n\t\t\t\t\t\tevt.skipped=true;\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"8\",useful: [6,1],result: {player: function (player){\n\t\t\t\t\t\t\treturn game.countPlayer(function(current){\n\t\t\t\t\t\t\t\tif(get.distance(player,current,'pure')==1){\n\t\t\t\t\t\t\t\t\tvar att=get.sgn(get.attitude(player,current));\n\t\t\t\t\t\t\t\t\tif(current==player.next){\n\t\t\t\t\t\t\t\t\t\treturn -att*1.5;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn -att;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},},order: \"0.5\",},}","info":"对一名随机敌方角色造成一点伤害，若目标武将牌正面朝上，则将其翻面；新的一轮开始时，若目标武将牌正面朝上，则在当前回合结束后进行一个额外回合，否则将武将牌翻回正面"},"gw_ansha":{"name":"暗杀","script":"{fullborder: \"gold\",type: \"spell\",subtype: \"spell_gold\",vanish: \"true\",enable: function (card,player){\n\t\t\t\t\tvar enemies=player.getEnemies();\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current.hp==1&&enemies.contains(current);\n\t\t\t\t\t});\n\t\t\t\t},notarget: \"true\",contentBefore: function (){\n\t\t\t\t\tplayer.$skill('暗杀','legend','metal');\n\t\t\t\t\tgame.delay(2);\n\t\t\t\t},content: function (){\n\t\t\t\t\tvar enemies=player.getEnemies();\n\t\t\t\t\tvar list=game.filterPlayer(function(current){\n\t\t\t\t\t\treturn current.hp==1&&enemies.contains(current);\n\t\t\t\t\t});\n\t\t\t\t\tif(list.length){\n\t\t\t\t\t\tvar target=list.randomGet();\n\t\t\t\t\t\tplayer.line(target);\n\t\t\t\t\t\ttarget.die();\n\t\t\t\t\t}\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\tvar evt=_status.event.getParent('phaseUse');\n\t\t\t\t\tif(evt&&evt.name=='phaseUse'){\n\t\t\t\t\t\tevt.skipped=true;\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"8\",useful: [6,1],result: {player: \"1\",},order: \"0.6\",},}","info":"令一名体力为1的随机敌方角立即死亡，然后结束出牌阶段"},"gw_xinsheng":{"name":"新生","script":"{fullborder: \"gold\",type: \"spell\",subtype: \"spell_gold\",vanish: \"true\",enable: function (card,player){\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn !current.isUnseen();\n\t\t\t\t\t});\n\t\t\t\t},notarget: \"true\",contentBefore: function (){\n\t\t\t\t\tplayer.$skill('新生','legend','metal');\n\t\t\t\t\tgame.delay(2);\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar target=get.max(game.filterPlayer(function(current){\n\t\t\t\t\t\treturn !current.isUnseen();\n\t\t\t\t\t},'list').randomSort(),function(current){\n\t\t\t\t\t\tvar att=get.attitude(player,current);\n\t\t\t\t\t\tif(att<0&&current.isDamaged()&&current.hp<=3){\n\t\t\t\t\t\t\treturn -10;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar rank=get.rank(current,true);\n\t\t\t\t\t\tif(current.maxHp>=3){\n\t\t\t\t\t\t\tif(current.hp<=1){\n\t\t\t\t\t\t\t\tif(att>0) return att*3+2;\n\t\t\t\t\t\t\t\treturn att*3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(current.hp==2){\n\t\t\t\t\t\t\t\tif(att>0){\n\t\t\t\t\t\t\t\t\tatt*=1.5;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\tatt/=1.5;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(rank>=7){\n\t\t\t\t\t\t\tif(att>0){\n\t\t\t\t\t\t\t\treturn att/10;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn -att/5;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(rank<=4){\n\t\t\t\t\t\t\tif(att<0){\n\t\t\t\t\t\t\t\treturn -att/10;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn att;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn Math.abs(att/2);\n\t\t\t\t\t},'item');\n\t\t\t\t\tevent.aitarget=target;\n\t\t\t\t\tvar list=[];\n\t\t\t\t\tfor(var i in lib.character){\n\t\t\t\t\t\tif(!lib.filter.characterDisabled(i)&&!lib.filter.characterDisabled2(i)){\n\t\t\t\t\t\t\tlist.push(i);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar players=game.players.concat(game.dead);\n\t\t\t\t\tfor(var i=0;i<players.length;i++){\n\t\t\t\t\t\tlist.remove(players[i].name);\n\t\t\t\t\t\tlist.remove(players[i].name1);\n\t\t\t\t\t\tlist.remove(players[i].name2);\n\t\t\t\t\t}\n\t\t\t\t\tvar dialog=ui.create.dialog('选择一张武将牌','hidden');\n\t\t\t\t\tdialog.add([list.randomGets(12),'character']);\n\t\t\t\t\tplayer.chooseButton(dialog,true).ai=function(button){\n\t\t\t\t\t\tif(get.attitude(player,event.aitarget)>0){\n\t\t\t\t\t\t\treturn get.rank(button.link,true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn -get.rank(button.link,true);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t'step 1'\n\t\t\t\t\tevent.nametarget=result.links[0];\n\t\t\t\t\tplayer.chooseTarget(true,'使用'+get.translation(event.nametarget)+'替换一名角色的武将牌',function(card,player,target){\n\t\t\t\t\t\treturn !target.isUnseen()&&!target.isMin();\n\t\t\t\t\t}).ai=function(target){\n\t\t\t\t\t\tif(target==event.aitarget){\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tvar target=result.targets[0];\n\t\t\t\t\tvar hp=target.hp;\n\t\t\t\t\ttarget.reinit(target.name,event.nametarget);\n\t\t\t\t\ttarget.hp=Math.min(hp+1,target.maxHp);\n\t\t\t\t\ttarget.update();\n\t\t\t\t\tplayer.line(target,'green');\n\t\t\t\t\t'step 3'\n\t\t\t\t\tgame.triggerEnter(target);\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\tvar evt=_status.event.getParent('phaseUse');\n\t\t\t\t\tif(evt&&evt.name=='phaseUse'){\n\t\t\t\t\t\tevt.skipped=true;\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"8\",useful: [6,1],result: {player: \"1\",},order: \"0.5\",},}","info":"选择一名角色，随机观看12张武将牌，选择一张替代其武将牌，并令其增加一点体力，然后结束出牌阶段"},"gw_niuquzhijing":{"name":"纽曲之镜","script":"{fullborder: \"gold\",type: \"spell\",subtype: \"spell_gold\",vanish: \"true\",enable: function (card,player){\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current.hp!=player.hp;\n\t\t\t\t\t});\n\t\t\t\t},notarget: \"true\",contentBefore: function (){\n\t\t\t\t\tvar list1=game.filterPlayer(function(current){\n\t\t\t\t\t\treturn current.isMaxHp();\n\t\t\t\t\t});\n\t\t\t\t\tvar list2=game.filterPlayer(function(current){\n\t\t\t\t\t\treturn current.isMinHp();\n\t\t\t\t\t});\n\t\t\t\t\tplayer.line(list1);\n\t\t\t\t\tfor(var i=0;i<list1.length;i++){\n\t\t\t\t\t\tlist1[i].animate('target');\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tvar list11=list1.slice(0);\n\t\t\t\t\t\tvar list22=list2.slice(0);\n\t\t\t\t\t\twhile(list22.length>list11.length){\n\t\t\t\t\t\t\tlist11.push(list1.randomGet());\n\t\t\t\t\t\t}\n\t\t\t\t\t\twhile(list22.length<list11.length){\n\t\t\t\t\t\t\tlist22.push(list2.randomGet());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlist11.sortBySeat();\n\t\t\t\t\t\tlist22.sortBySeat();\n\t\t\t\t\t\twhile(list11.length){\n\t\t\t\t\t\t\tlist11.shift().line(list22.shift(),'green');\n\t\t\t\t\t\t}\n\t\t\t\t\t},500);\n\t\t\t\t\tplayer.$skill('纽曲之镜','legend','metal');\n\t\t\t\t\tgame.delay(2);\n\t\t\t\t},content: function (){\n\t\t\t\t\tvar max=null,min=null;\n\t\t\t\t\tfor(var i=0;i<game.players.length;i++){\n\t\t\t\t\t\tif(game.players[i].isMaxHp()){\n\t\t\t\t\t\t\tmax=game.players[i].hp;break;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor(var i=0;i<game.players.length;i++){\n\t\t\t\t\t\tif(game.players[i].isMinHp()){\n\t\t\t\t\t\t\tmin=game.players[i].hp;break;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar targets=game.filterPlayer();\n\t\t\t\t\tif(max!=min&&max!=null&&min!=null){\n\t\t\t\t\t\tfor(var i=0;i<targets.length;i++){\n\t\t\t\t\t\t\tif(targets[i].hp==max){\n\t\t\t\t\t\t\t\ttargets[i].hp--;\n\t\t\t\t\t\t\t\ttargets[i].maxHp--;\n\t\t\t\t\t\t\t\ttargets[i].$damagepop(-1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(targets[i].hp==min){\n\t\t\t\t\t\t\t\ttargets[i].hp++;\n\t\t\t\t\t\t\t\ttargets[i].maxHp++;\n\t\t\t\t\t\t\t\ttargets[i].$damagepop(1,'wood');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttargets[i].update();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\tvar evt=_status.event.getParent('phaseUse');\n\t\t\t\t\tif(evt&&evt.name=='phaseUse'){\n\t\t\t\t\t\tevt.skipped=true;\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"8\",useful: [6,1],result: {player: function (player,target){\n\t\t\t\t\t\t\treturn game.countPlayer(function(current){\n\t\t\t\t\t\t\t\tif(current.isMaxHp()){\n\t\t\t\t\t\t\t\t\treturn -get.sgn(get.attitude(player,current));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(current.isMinHp()){\n\t\t\t\t\t\t\t\t\treturn get.sgn(get.attitude(player,current));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},},order: \"3.5\",},}","info":"令全场体力最多的角色减少一点体力和体力上限，体力最少的角色增加一点体力和体力上限（不触发技能），然后结束出牌阶段"},"gw_zhongmozhizhan":{"name":"终末之战","script":"{fullborder: \"gold\",type: \"spell\",subtype: \"spell_gold\",vanish: \"true\",enable: \"true\",notarget: \"true\",contentBefore: function (){\n\t\t\t\t\tplayer.line(game.filterPlayer());\n\t\t\t\t\tplayer.$skill('终末之战','legend','metal');\n\t\t\t\t\tgame.delay(2);\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tevent.num=0;\n\t\t\t\t\tevent.targets=game.filterPlayer().sortBySeat();\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(event.num<targets.length){\n\t\t\t\t\t\tui.clear();\n\t\t\t\t\t\tvar target=targets[event.num];\n\t\t\t\t\t\tvar cards=target.getCards('hej');\n\t\t\t\t\t\ttarget.lose(cards)._triggered=null;\n\t\t\t\t\t\ttarget.$throw(cards);\n\t\t\t\t\t\tevent.num++;\n\t\t\t\t\t\tevent.redo();\n\t\t\t\t\t\tgame.delay(0.7);\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tui.clear();\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\tvar evt=_status.event.getParent('phaseUse');\n\t\t\t\t\tif(evt&&evt.name=='phaseUse'){\n\t\t\t\t\t\tevt.skipped=true;\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"8\",useful: [6,1],result: {player: function (player,target){\n\t\t\t\t\t\t\tif(player.hasUnknown()) return 0;\n\t\t\t\t\t\t\treturn -game.countPlayer(function(current){\n\t\t\t\t\t\t\t\treturn current.countCards('he')*get.sgn(get.attitude(player,current));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},},order: \"0.5\",},}","info":"将所有角色区域内的所有牌置入弃牌堆（不触发技能），然后结束出牌阶段"},"gw_ganhan":{"name":"干旱","script":"{fullborder: \"gold\",type: \"spell\",subtype: \"spell_gold\",vanish: \"true\",enable: \"true\",notarget: \"true\",contentBefore: function (){\n\t\t\t\t\tplayer.line(game.filterPlayer());\n\t\t\t\t\tplayer.$skill('干旱','legend','metal');\n\t\t\t\t\tgame.delay(2);\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tevent.num=0;\n\t\t\t\t\tevent.targets=game.filterPlayer().sortBySeat();\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(event.num<targets.length){\n\t\t\t\t\t\tui.clear();\n\t\t\t\t\t\tvar target=targets[event.num];\n\t\t\t\t\t\ttarget.loseMaxHp(true);\n\t\t\t\t\t\tevent.num++;\n\t\t\t\t\t\tevent.redo();\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tui.clear();\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\tvar evt=_status.event.getParent('phaseUse');\n\t\t\t\t\tif(evt&&evt.name=='phaseUse'){\n\t\t\t\t\t\tevt.skipped=true;\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"7\",useful: [5,1],result: {player: function (player,target){\n\t\t\t\t\t\t\tif(player.hasUnknown()) return 0;\n\t\t\t\t\t\t\treturn game.countPlayer(function(current){\n\t\t\t\t\t\t\t\tvar att=-get.sgn(get.attitude(player,current));\n\t\t\t\t\t\t\t\tif(current.isHealthy()){\n\t\t\t\t\t\t\t\t\tswitch(current.hp){\n\t\t\t\t\t\t\t\t\t\tcase 1:return att*3;\n\t\t\t\t\t\t\t\t\t\tcase 2:return att*2;\n\t\t\t\t\t\t\t\t\t\tcase 3:return att*1.5;\n\t\t\t\t\t\t\t\t\t\tcase 4:return att;\n\t\t\t\t\t\t\t\t\t\tdefault:return att*0.5;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if(current.maxHp-current.hp==1){\n\t\t\t\t\t\t\t\t\tswitch(current.hp){\n\t\t\t\t\t\t\t\t\t\tcase 1:return att*0.5;\n\t\t\t\t\t\t\t\t\t\tcase 2:return att*0.3;\n\t\t\t\t\t\t\t\t\t\tcase 3:return att*0.2;\n\t\t\t\t\t\t\t\t\t\tdefault:return att*0.15;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\treturn att*0.1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},},order: \"0.5\",},}","info":"所有角色减少一点体力上限（不触发技能），然后结束出牌阶段"},"gw_huangjiashenpan":{"name":"皇家审判","script":"{fullborder: \"gold\",type: \"spell\",subtype: \"spell_gold\",vanish: \"true\",enable: \"true\",notarget: \"true\",contentBefore: function (){\n\t\t\t\t\tplayer.$skill('皇家审判','legend','metal');\n\t\t\t\t\tgame.delay(2);\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar list=get.libCard(function(info){\n\t\t\t\t\t\treturn info.subtype=='spell_gold';\n\t\t\t\t\t});\n\t\t\t\t\tlist.remove('gw_huangjiashenpan');\n\t\t\t\t\tif(list.length){\n\t\t\t\t\t\tplayer.chooseVCardButton(list,true,'notype').ai=function(){\n\t\t\t\t\t\t\treturn Math.random();\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tplayer.gain(game.createCard(result.links[0][2]),'draw');\n\t\t\t\t\t}\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\tvar evt=_status.event.getParent('phaseUse');\n\t\t\t\t\tif(evt&&evt.name=='phaseUse'){\n\t\t\t\t\t\tevt.skipped=true;\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"8\",useful: [6,1],result: {player: \"1\",},order: \"0.1\",},}","info":"获得任意一张金卡法术（皇家审判除外），然后结束出牌阶段"},"gw_tunshi":{"name":"吞噬","script":"{fullborder: \"gold\",type: \"spell\",subtype: \"spell_gold\",vanish: \"true\",enable: function (event,player){\n\t\t\t\t\tif(player.maxHp==1) return false;\n\t\t\t\t\tvar list=player.getEnemies();\n\t\t\t\t\tfor(var i=0;i<list.length;i++){\n\t\t\t\t\t\tif(list[i].isMin()) continue;\n\t\t\t\t\t\tif(list[i].getStockSkills().length) return true;\n\t\t\t\t\t}\n\t\t\t\t},notarget: \"true\",contentBefore: function (){\n\t\t\t\t\tplayer.$skill('吞噬','legend','metal');\n\t\t\t\t\tgame.delay(2);\n\t\t\t\t},content: function (){\n\t\t\t\t\tvar list=player.getEnemies();\n\t\t\t\t\tfor(var i=0;i<list.length;i++){\n\t\t\t\t\t\tif(list[i].isMin()||!list[i].getStockSkills().length){\n\t\t\t\t\t\t\tlist.splice(i--,1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(list.length){\n\t\t\t\t\t\tvar target=list.randomGet();\n\t\t\t\t\t\ttarget.addExpose(0.1);\n\t\t\t\t\t\tplayer.line(target);\n\t\t\t\t\t\tvar skill=target.getStockSkills().randomGet();\n\t\t\t\t\t\ttarget.popup(skill);\n\t\t\t\t\t\tplayer.addSkill(skill);\n\t\t\t\t\t\ttarget.removeSkill(skill);\n\t\t\t\t\t\tplayer.loseHp();\n\t\t\t\t\t\tplayer.loseMaxHp(true);\n\t\t\t\t\t\ttarget.gainMaxHp(true);\n\t\t\t\t\t\ttarget.recover();\n\t\t\t\t\t}\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\tvar evt=_status.event.getParent('phaseUse');\n\t\t\t\t\tif(evt&&evt.name=='phaseUse'){\n\t\t\t\t\t\tevt.skipped=true;\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"8\",useful: [6,1],result: {player: function (player){\n\t\t\t\t\t\t\tif(player.hp<=2) return 0;\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},order: \"0.4\",},}","info":"随机移除一名敌方角色的一个随机技能，你获得此技能并减少一点体力和体力上限，被移除技能的角色增加一点体力和体力上限，然后结束出牌阶段"},"gw_chongci":{"name":"冲刺","script":"{fullborder: \"gold\",type: \"spell\",subtype: \"spell_gold\",vanish: \"true\",enable: \"true\",notarget: \"true\",contentBefore: function (){\n\t\t\t\t\tplayer.$skill('冲刺','legend','metal');\n\t\t\t\t\tgame.delay(2);\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tevent.hs=player.getCards('h');\n\t\t\t\t\tevent.es=player.getCards('e');\n\t\t\t\t\tplayer.discard(event.hs.concat(event.es));\n\t\t\t\t\t'step 1'\n\t\t\t\t\tvar hs2=[];\n\t\t\t\t\tfor(var i=0;i<event.hs.length;i++){\n\t\t\t\t\t\tvar type=get.type(event.hs[i],'trick');\n\t\t\t\t\t\tvar cardname=event.hs[i].name;\n\t\t\t\t\t\tvar list=game.findCards(function(name){\n\t\t\t\t\t\t\tif(cardname==name) return;\n\t\t\t\t\t\t\tif(get.type({name:name},'trick')==type){\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(!list.length){\n\t\t\t\t\t\t\tlist=[cardname];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ths2.push(game.createCard(list.randomGet()));\n\t\t\t\t\t}\n\t\t\t\t\tvar list=get.libCard(function(info){\n\t\t\t\t\t\treturn info.type=='spell'&&info.subtype!='spell_gold';\n\t\t\t\t\t});\n\t\t\t\t\tif(list.length){\n\t\t\t\t\t\ths2.push(game.createCard(list.randomGet()));\n\t\t\t\t\t}\n\t\t\t\t\tif(hs2.length){\n\t\t\t\t\t\tplayer.gain(hs2,'draw');\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tvar es2=[];\n\t\t\t\t\tfor(var i=0;i<event.es.length;i++){\n\t\t\t\t\t\tvar subtype=get.subtype(event.es[i]);\n\t\t\t\t\t\tvar cardname=event.es[i].name;\n\t\t\t\t\t\tvar list=game.findCards(function(name){\n\t\t\t\t\t\t\tif(cardname==name) return;\n\t\t\t\t\t\t\tif(get.subtype({name:name})==subtype){\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(!list.length){\n\t\t\t\t\t\t\tlist=[cardname];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tes2.push(game.createCard(list.randomGet()));\n\t\t\t\t\t}\n\t\t\t\t\tif(es2.length){\n\t\t\t\t\t\tgame.delay();\n\t\t\t\t\t\tplayer.$draw(es2);\n\t\t\t\t\t\tfor(var i=0;i<es2.length;i++){\n\t\t\t\t\t\t\tplayer.equip(es2[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t'step 3'\n\t\t\t\t\tplayer.tempHide();\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\tvar evt=_status.event.getParent('phaseUse');\n\t\t\t\t\tif(evt&&evt.name=='phaseUse'){\n\t\t\t\t\t\tevt.skipped=true;\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"8\",useful: [6,1],result: {player: \"1\",},order: \"0.2\",},}","info":"弃置所有牌并随机获得一张非金法术牌，每弃置一张手牌，便随机获得一张类别相同的牌；每弃置一张装备区内的牌，随机装备一件类别相同的装备；获得潜行直到下一回合开始，然后结束出牌阶段"},"gw_youer":{"name":"诱饵","script":"{fullborder: \"silver\",type: \"spell\",subtype: \"spell_silver\",vanish: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player&&target.countCards('h')>0;\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar cards=target.getCards('h');\n\t\t\t\t\ttarget.lose(cards,ui.special);\n\t\t\t\t\ttarget.storage.gw_youer=cards;\n\t\t\t\t\ttarget.addSkill('gw_youer');\n\t\t\t\t\t'step 1'\n\t\t\t\t\tplayer.draw();\n\t\t\t\t},ai: {basic: {order: \"10\",value: \"7\",useful: [3,1],},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasSkillTag('noh')) return 3;\n\t\t\t\t\t\t\tvar num=-Math.sqrt(target.countCards('h'));\n\t\t\t\t\t\t\tif(player.hasSha()&&player.canUse('sha',target)){\n\t\t\t\t\t\t\t\tnum-=2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn num;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"将一名其他角色的所有手牌移出游戏，然后摸一张牌，当前回合结束后该角色将以此法失去的牌收回手牌"},"gw_tongdi":{"name":"通敌","script":"{fullborder: \"silver\",type: \"spell\",subtype: \"spell_silver\",vanish: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player&&target.countCards('h');\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tplayer.gainPlayerCard(target,'h',true,'visible').set('ai',function(button){\n\t\t\t\t\t\treturn get.value(button.link);\n\t\t\t\t\t});\n\t\t\t\t\t'step 1'\n\t\t\t\t\ttarget.gain(game.createCard('sha'),'gain2');\n\t\t\t\t},ai: {basic: {order: \"8\",value: \"9.5\",useful: [5,1],},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.getEquip(4)) return -2;\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"观看一名其他角色的手牌并获得其中一张，然后令目标获得一张杀"},"gw_fuyuan":{"name":"复原","script":"{fullborder: \"silver\",type: \"spell\",subtype: \"spell_silver\",vanish: \"true\",savable: \"true\",selectTarget: \"-1\",content: function (){\n\t\t\t\t\ttarget.recover();\n\t\t\t\t\ttarget.draw();\n\t\t\t\t},ai: {basic: {order: \"6\",useful: \"10\",value: [8,6.5,5,4],},result: {target: \"2\",},tag: {recover: \"1\",save: \"1\",},},}","info":"对一名濒死状态角色使用，目标回复一点体力并摸一张牌"},"gw_zhuoshao":{"name":"灼烧","script":"{fullborder: \"silver\",type: \"spell\",subtype: \"spell_silver\",vanish: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.isMaxHp();\n\t\t\t\t},cardnature: \"fire\",selectTarget: [1,null],content: function (){\n\t\t\t\t\ttarget.damage('fire');\n\t\t\t\t},ai: {basic: {order: \"8.5\",value: \"7.5\",useful: [4,1],},result: {target: \"-1\",},tag: {damage: \"1\",fireDamage: \"1\",natureDamage: \"1\",},},}","info":"对任意名体力值为全场最高的角色使用，造成一点火属性伤害"},"gw_butianshu":{"name":"卜天术","script":"{fullborder: \"silver\",type: \"spell\",subtype: \"spell_silver\",vanish: \"true\",enable: \"true\",filterTarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar list=[];\n\t\t\t\t\tfor(var i in lib.card){\n\t\t\t\t\t\tif(lib.card[i].mode&&lib.card[i].mode.contains(lib.config.mode)==false) continue;\n\t\t\t\t\t\tif(lib.card[i].vanish) continue;\n\t\t\t\t\t\tif(lib.card[i].type=='delay') list.push([cards[0].suit,cards[0].number,i]);\n\t\t\t\t\t}\n\t\t\t\t\tvar dialog=ui.create.dialog('卜天术',[list,'vcard']);\n\t\t\t\t\tvar bing=target.countCards('h')<=1;\n\t\t\t\t\tplayer.chooseButton(dialog,true,function(button){\n\t\t\t\t\t\tif(get.effect(target,{name:button.link[2]},player,player)>0){\n\t\t\t\t\t\t\tif(button.link[2]=='bingliang'){\n\t\t\t\t\t\t\t\tif(bing) return 2;\n\t\t\t\t\t\t\t\treturn 0.7;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(button.link[2]=='lebu'){\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(button.link[2]=='guiyoujie'){\n\t\t\t\t\t\t\t\treturn 0.5;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(button.link[2]=='caomu'){\n\t\t\t\t\t\t\t\treturn 0.3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0.2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}).filterButton=function(button){\n\t\t\t\t\t\treturn !target.hasJudge(button.link[2]);\n\t\t\t\t\t};\n\t\t\t\t\t'step 1'\n\t\t\t\t\tvar card=game.createCard(result.links[0][2]);\n\t\t\t\t\tevent.judgecard=card;\n\t\t\t\t\ttarget.$draw(card);\n\t\t\t\t\tgame.delay(0.7);\n\t\t\t\t\t'step 2'\n\t\t\t\t\ttarget.addJudge(event.judgecard);\n\t\t\t\t},ai: {value: \"8\",useful: [5,1],result: {player: function (player,target){\n\t\t\t\t\t\t\tvar eff=0;\n\t\t\t\t\t\t\tfor(var i in lib.card){\n\t\t\t\t\t\t\t\tif(lib.card[i].type=='delay'){\n\t\t\t\t\t\t\t\t\tvar current=get.effect(target,{name:i},player,player);\n\t\t\t\t\t\t\t\t\tif(current>eff){\n\t\t\t\t\t\t\t\t\t\teff=current;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn eff;\n\t\t\t\t\t\t},},order: \"6\",},selectTarget: \"1\",}","info":"出牌阶段对任意角色使用，将任意一张延时锦囊牌置入其判定区"},"gw_shizizhaohuan":{"name":"十字召唤","script":"{fullborder: \"silver\",type: \"spell\",subtype: \"spell_silver\",vanish: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\tvar list=[];\n\t\t\t\t\tlist.push(get.cardPile2('juedou'));\n\t\t\t\t\tlist.push(get.cardPile2('huogong'));\n\t\t\t\t\tlist.push(get.cardPile2('nanman'));\n\t\t\t\t\tlist.push(get.cardPile2('huoshaolianying'));\n\t\t\t\t\tfor(var i=0;i<list.length;i++){\n\t\t\t\t\t\tif(!list[i]) list.splice(i--,1);\n\t\t\t\t\t}\n\t\t\t\t\tlist=[list.randomGet()];\n\t\t\t\t\tvar sha=get.cardPile2('sha');\n\t\t\t\t\tif(sha){\n\t\t\t\t\t\tif(list.length){\n\t\t\t\t\t\t\tlist.push(sha);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tsha.remove();\n\t\t\t\t\t\t\tlist.push(sha);\n\t\t\t\t\t\t\tvar sha2=get.cardPile2('sha');\n\t\t\t\t\t\t\tif(sha2){\n\t\t\t\t\t\t\t\tlist.push(sha2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(list.length){\n\t\t\t\t\t\ttarget.gain(list,'gain2','log');\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: \"8\",useful: [6,1],result: {player: \"1\",},order: \"6\",},}","info":"从牌堆中获得一张杀以及决斗、火攻、火烧连营、南蛮入侵四张牌中的随机一张"},"gw_zuihouyuanwang":{"name":"最后愿望","script":"{fullborder: \"silver\",type: \"spell\",subtype: \"spell_silver\",vanish: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tevent.num=game.countPlayer();\n\t\t\t\t\tplayer.draw(event.num);\n\t\t\t\t\t'step 1'\n\t\t\t\t\tplayer.chooseToDiscard(true,event.num,'he');\n\t\t\t\t},ai: {value: \"6\",useful: [4,1],result: {player: function (player){\n\t\t\t\t\t\t\tvar num=player.countCards('he');\n\t\t\t\t\t\t\tif(num<=1) return 0;\n\t\t\t\t\t\t\tif(num<=3&&!player.needsToDiscard()) return 0;\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},order: \"7\",},}","info":"摸X张牌并弃置X张牌，X为存活角色数"},"gw_zirankuizeng":{"name":"自然馈赠","script":"{fullborder: \"silver\",type: \"spell\",subtype: \"spell_silver\",vanish: \"true\",enable: \"true\",notarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar list=[];\n\t\t\t\t\tfor(var i in lib.card){\n\t\t\t\t\t\tif(lib.card[i].subtype=='spell_bronze') list.push([cards[0].suit,cards[0].number,i]);\n\t\t\t\t\t}\n\t\t\t\t\tvar dialog=ui.create.dialog('自然馈赠',[list,'vcard']);\n\t\t\t\t\tvar rand=get.rand();\n\t\t\t\t\tvar aozu=game.hasPlayer(function(current){\n\t\t\t\t\t\treturn player.canUse('gw_aozuzhilei',current)&&current.hp<=3&&get.effect(current,{name:'gw_aozuzhilei'},player,player)>0;\n\t\t\t\t\t});\n\t\t\t\t\tvar aozu2=game.hasPlayer(function(current){\n\t\t\t\t\t\treturn player.canUse('gw_aozuzhilei',current)&&current.hp<=2&&get.effect(current,{name:'gw_aozuzhilei'},player,player)>0;\n\t\t\t\t\t});\n\t\t\t\t\tvar aozu3=game.hasPlayer(function(current){\n\t\t\t\t\t\treturn player.canUse('gw_aozuzhilei',current)&&get.effect(current,{name:'gw_aozuzhilei'},player,player)>0;\n\t\t\t\t\t});\n\t\t\t\t\tvar baoxue=game.hasPlayer(function(current){\n\t\t\t\t\t\treturn player.canUse('gw_baoxueyaoshui',current)&&get.attitude(player,current)<0&&[2,3].contains(current.countCards('h'))&&!current.hasSkillTag('noh');\n\t\t\t\t\t});\n\t\t\t\t\tvar baoxue2=game.hasPlayer(function(current){\n\t\t\t\t\t\treturn player.canUse('gw_baoxueyaoshui',current)&&get.attitude(player,current)<0&&[2].contains(current.countCards('h'))&&!current.hasSkillTag('noh');\n\t\t\t\t\t});\n\t\t\t\t\tvar baoxue3=game.hasPlayer(function(current){\n\t\t\t\t\t\treturn player.canUse('gw_baoxueyaoshui',current)&&get.attitude(player,current)<0&&current.countCards('h')>=2&&!current.hasSkillTag('noh');\n\t\t\t\t\t});\n\t\t\t\t\tvar nongwu=game.hasPlayer(function(current){\n\t\t\t\t\t\treturn get.attitude(player,current)<0&&(get.attitude(player,current.getNext())<0||get.attitude(player,current.getPrevious())<0);\n\t\t\t\t\t});\n\t\t\t\t\tvar nongwu2=game.hasPlayer(function(current){\n\t\t\t\t\t\treturn get.attitude(player,current)<0&&get.attitude(player,current.getNext())<0&&get.attitude(player,current.getPrevious())<0;\n\t\t\t\t\t});\n\t\t\t\t\tvar yanzi=game.hasPlayer(function(current){\n\t\t\t\t\t\treturn get.attitude(player,current)>0&&current.isMinHandcard();\n\t\t\t\t\t});\n\t\t\t\t\tplayer.chooseButton(dialog,true,function(button){\n\t\t\t\t\t\tvar name=button.link[2];\n\t\t\t\t\t\tswitch(name){\n\t\t\t\t\t\t\tcase 'gw_ciguhanshuang':\n\t\t\t\t\t\t\t\tif(nongwu2) return 3;\n\t\t\t\t\t\t\t\tif(nongwu) return 1;\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\tcase 'gw_baoxueyaoshui':\n\t\t\t\t\t\t\t\tif(baoxue2) return 2;\n\t\t\t\t\t\t\t\tif(baoxue) return 1.5;\n\t\t\t\t\t\t\t\tif(baoxue3) return 0.5;\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\tcase 'gw_aozuzhilei':\n\t\t\t\t\t\t\t\tif(aozu2) return 2.5;\n\t\t\t\t\t\t\t\tif(aozu) return 1.2;\n\t\t\t\t\t\t\t\tif(aozu3) return 0.2;\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\tcase 'gw_yanziyaoshui':\n\t\t\t\t\t\t\t\tif(yanzi) return 2;\n\t\t\t\t\t\t\t\treturn 0.6;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\treturn player.canUse(name,current)&&get.effect(current,{name:name},player,player)>0;\n\t\t\t\t\t\t})){\n\t\t\t\t\t\t\treturn Math.random();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}).filterButton=function(button){\n\t\t\t\t\t\tvar name=button.link[2];\n\t\t\t\t\t\tif(!lib.card[name].notarget){\n\t\t\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\t\t\treturn player.canUse(name,current);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t};\n\t\t\t\t\t'step 1'\n\t\t\t\t\tplayer.chooseUseTarget(true,game.createCard(result.links[0][2],get.suit(card),get.number(card)));\n\t\t\t\t},ai: {value: \"7\",useful: [4,1],result: {player: function (player){\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},order: \"7\",},}","info":"选择任意一张铜卡法术使用"},"gw_nuhaifengbao":{"name":"怒海风暴","script":"{fullborder: \"silver\",type: \"spell\",subtype: \"spell_silver\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('gw_nuhaifengbao');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.addSkill('gw_nuhaifengbao');\n\t\t\t\t},ai: {value: [7,1],useful: [4,1],result: {target: function (player,target){\n\t\t\t\t\t\t\treturn -2/Math.sqrt(1+target.hp);\n\t\t\t\t\t\t},},order: \"1.2\",},selectTarget: \"1\",}","info":"天气牌，出牌阶段对一名角色使用，目标在结束阶段随机弃置一张牌，持续2回合"},"gw_baishuang":{"name":"白霜","script":"{fullborder: \"silver\",type: \"spell\",subtype: \"spell_silver\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('gw_ciguhanshuang');\n\t\t\t\t},selectTarget: [1,3],content: function (){\n\t\t\t\t\ttarget.addSkill('gw_ciguhanshuang');\n\t\t\t\t},ai: {value: [7.5,1],useful: [5,1],result: {target: \"-1\",},order: \"1.2\",},}","info":"天气牌，出牌阶段对至多三名角色使用，目标下个摸牌阶段摸牌数-1"},"gw_baobaoshu":{"name":"雹暴术","script":"{fullborder: \"silver\",type: \"spell\",subtype: \"spell_silver\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('gw_baobaoshu');\n\t\t\t\t},selectTarget: [1,2],content: function (){\n\t\t\t\t\ttarget.addTempSkill('gw_baobaoshu',{player:'phaseAfter'});\n\t\t\t\t},ai: {value: [7.5,1],useful: [5,1],result: {target: function (player,target){\n\t\t\t\t\t\t\treturn -Math.sqrt(target.countCards('h'))-0.5;\n\t\t\t\t\t\t},},order: \"1.2\",},}","info":"天气牌，出牌阶段对至多两名角色使用，目标每使用一张基本牌或锦囊牌，需弃置一张牌，直到下一回合结束"},"gw_guaiwuchaoxue":{"name":"怪物巢穴","script":"{fullborder: \"silver\",type: \"spell\",subtype: \"spell_silver\",enable: \"true\",usable: \"1\",updateUsable: \"phaseUse\",forceUsable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\tvar list=get.gainableSkills(function(info,skill){\n\t\t\t\t\t\treturn !info.notemp&&info.ai&&info.ai.maixie_hp&&!player.hasSkill(skill);\n\t\t\t\t\t});\n\t\t\t\t\tlist.remove('guixin');\n\t\t\t\t\tif(list.length){\n\t\t\t\t\t\tvar skill=list.randomGet();\n\t\t\t\t\t\tplayer.popup(skill);\n\t\t\t\t\t\tplayer.addTempSkill(skill,{player:'phaseBegin'});\n\t\t\t\t\t\tvar enemies=player.getEnemies();\n\t\t\t\t\t\tif(enemies.length){\n\t\t\t\t\t\t\tvar source=enemies.randomGet();\n\t\t\t\t\t\t\tsource.line(player);\n\t\t\t\t\t\t\tsource.addExpose(0.1);\n\t\t\t\t\t\t\tplayer.damage(source);\n\t\t\t\t\t\t\tplayer.recover();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: [8,1],useful: [3,1],result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hp<=1||target.hujia) return 0;\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},order: \"1\",},}","info":"出牌阶段限用一次，随机获得一个卖血技能直到下一回合开始；令一名随机敌方角色对你造成一点伤害，然后你回复一点体力"},"gw_qinpendayu":{"name":"倾盆大雨","script":"{fullborder: \"bronze\",type: \"spell\",subtype: \"spell_bronze\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('gw_qinpendayu');\n\t\t\t\t},changeTarget: function (player,targets){\n\t\t\t\t\tgame.filterPlayer(function(current){\n\t\t\t\t\t\treturn get.distance(targets[0],current,'pure')==1;\n\t\t\t\t\t},targets);\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.addSkill('gw_qinpendayu');\n\t\t\t\t},ai: {value: [5,1],useful: [3,1],result: {target: function (player,current){\n\t\t\t\t\t\t\tif(current.hasSkill('gw_qinpendayu')) return 0;\n\t\t\t\t\t\t\tif(current.needsToDiscard()) return -1;\n\t\t\t\t\t\t\tif(current.needsToDiscard(1)) return -0.7;\n\t\t\t\t\t\t\tif(current.needsToDiscard(2)) return -0.4;\n\t\t\t\t\t\t\treturn -0.1;\n\t\t\t\t\t\t},},order: \"1.2\",},selectTarget: \"1\",}","info":"天气牌，出牌阶段对一名角色及其相邻角色使用，目标手牌上限-1直到下一个弃牌阶段结束"},"gw_birinongwu":{"name":"蔽日浓雾","script":"{fullborder: \"bronze\",type: \"spell\",subtype: \"spell_bronze\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('gw_birinongwu');\n\t\t\t\t},changeTarget: function (player,targets){\n\t\t\t\t\tgame.filterPlayer(function(current){\n\t\t\t\t\t\treturn get.distance(targets[0],current,'pure')==1;\n\t\t\t\t\t},targets);\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.addSkill('gw_birinongwu');\n\t\t\t\t},ai: {value: [5,1],useful: [3,1],result: {player: function (player,current){\n\t\t\t\t\t\t\tif(current.hasSkill('gw_birinongwu')) return 0;\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t},},order: \"1.2\",},selectTarget: \"1\",}","info":"天气牌，出牌阶段对一名角色及其相邻角色使用，目标不能使用杀直到下一个出牌阶段结束"},"gw_ciguhanshuang":{"name":"刺骨寒霜","script":"{fullborder: \"bronze\",type: \"spell\",subtype: \"spell_bronze\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('gw_ciguhanshuang');\n\t\t\t\t},changeTarget: function (player,targets){\n\t\t\t\t\tgame.filterPlayer(function(current){\n\t\t\t\t\t\treturn get.distance(targets[0],current,'pure')==1;\n\t\t\t\t\t},targets);\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.addSkill('gw_ciguhanshuang');\n\t\t\t\t},ai: {value: [5,1],useful: [3,1],result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasSkill('gw_ciguhanshuang')) return 0;\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t},},order: \"1.2\",},selectTarget: \"1\",}","info":"天气牌，出牌阶段对一名角色及其相邻角色使用，目标下个摸牌阶段摸牌数-1"},"gw_baoxueyaoshui":{"name":"暴雪药水","script":"{fullborder: \"bronze\",type: \"spell\",subtype: \"spell_bronze\",enable: \"true\",filterTarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\ttarget.chooseToDiscard('h',2,true).delay=false;\n\t\t\t\t\t'step 1'\n\t\t\t\t\ttarget.draw();\n\t\t\t\t},ai: {value: \"6\",useful: [3,1],result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasSkillTag('noh')) return 0.1;\n\t\t\t\t\t\t\tswitch(target.countCards('h')){\n\t\t\t\t\t\t\t\tcase 0:return 0.5;\n\t\t\t\t\t\t\t\tcase 1:return 0;\n\t\t\t\t\t\t\t\tcase 2:return -1.5;\n\t\t\t\t\t\t\t\tdefault:return -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},},order: \"8\",tag: {loseCard: \"1\",discard: \"1\",},},selectTarget: \"1\",}","info":"令一名角色弃置两张手牌并摸一张牌"},"gw_zhihuanjun":{"name":"致幻菌","script":"{fullborder: \"bronze\",type: \"spell\",subtype: \"spell_bronze\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.isDamaged();\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\ttarget.loseMaxHp(true);\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(target.isDamaged()&&target.countCards('h')<target.maxHp){\n\t\t\t\t\t\tevent.goto(0);\n\t\t\t\t\t}\n\t\t\t\t},ai: {value: [4,1],useful: [3,1],result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.maxHp-target.hp==1){\n\t\t\t\t\t\t\t\treturn -1/target.maxHp;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\treturn -1/target.maxHp/3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},},order: \"2\",},selectTarget: \"1\",}","info":"出牌阶段对一名已受伤角色使用，令其减少一点体力上限；若该角色仍处于受伤状态且手牌数小于体力上限，则重复此结算"},"gw_zumoshoukao":{"name":"阻魔手铐","script":"{fullborder: \"bronze\",type: \"spell\",subtype: \"spell_bronze\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.hujia||!target.hasSkill('fengyin');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.addTempSkill('fengyin',{player:'phaseAfter'});\n\t\t\t\t\t// if(target.hujia){\n\t\t\t\t\t// \ttarget.changeHujia(-1);\n\t\t\t\t\t// }\n\t\t\t\t},ai: {value: [4.5,1],useful: [4,1],result: {target: function (player,target){\n\t\t\t\t\t\t\tvar threaten=get.threaten(target,player,true);\n\t\t\t\t\t\t\tif(target.hasSkill('fengyin')){\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(target.hasSkillTag('maixie_hp')){\n\t\t\t\t\t\t\t\tthreaten*=1.5;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn -threaten;\n\t\t\t\t\t\t},},order: \"9.5\",},selectTarget: \"1\",}","info":"令一名角色非锁定技失效直到下一回合结束"},"gw_aozuzhilei":{"name":"奥祖之雷","script":"{fullborder: \"bronze\",type: \"spell\",subtype: \"spell_bronze\",enable: \"true\",cardnature: \"thunder\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.hp>=player.hp;\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\ttarget.damage('thunder');\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(target.isIn()){\n\t\t\t\t\t\ttarget.draw();\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"1.8\",value: [5,1],useful: [4,1],},result: {target: \"-1\",},tag: {damage: \"1\",thunderDamage: \"1\",natureDamage: \"1\",},},selectTarget: \"1\",}","info":"对一名体力值不小于你的角色造成一点雷属性伤害，然后该角色摸一张牌"},"gw_poxiao":{"name":"破晓","script":"{fullborder: \"bronze\",type: \"spell\",subtype: \"spell_bronze\",enable: \"true\",notarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar choice=1;\n\t\t\t\t\tif(game.countPlayer(function(current){\n\t\t\t\t\t\tif(current.countCards('j')||current.hasSkillTag('weather')){\n\t\t\t\t\t\t\tif(get.attitude(player,current)>0){\n\t\t\t\t\t\t\t\tchoice=0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t})){\n\t\t\t\t\t\tplayer.chooseControl(function(){\n\t\t\t\t\t\t\treturn choice;\n\t\t\t\t\t\t}).set('choiceList',[\n\t\t\t\t\t\t\t'解除任意名角色的天气效果并移除其判定区内的牌',\n\t\t\t\t\t\t\t'随机获得一张铜卡法术（破晓除外）并展示之'\n\t\t\t\t\t\t]);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.directfalse=true;\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(!event.directfalse&&result.index==0){\n\t\t\t\t\t\tplayer.chooseTarget(true,[1,Infinity],'解除任意名角色的天气效果并移除其判定区内的牌',function(card,player,target){\n\t\t\t\t\t\t\treturn target.countCards('j')||target.hasSkillTag('weather');\n\t\t\t\t\t\t}).ai=function(target){\n\t\t\t\t\t\t\treturn get.attitude(player,target);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar list=get.libCard(function(info,name){\n\t\t\t\t\t\t\treturn name!='gw_poxiao'&&info.subtype=='spell_bronze';\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(list.length){\n\t\t\t\t\t\t\tplayer.gain(game.createCard(list.randomGet()),'gain2');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tplayer.draw();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tevent.list=result.targets.slice(0).sortBySeat();\n\t\t\t\t\t'step 3'\n\t\t\t\t\tif(event.list.length){\n\t\t\t\t\t\tvar target=event.list.shift();\n\t\t\t\t\t\tplayer.line(target,'green');\n\t\t\t\t\t\tvar cards=target.getCards('j');\n\t\t\t\t\t\tif(cards.length){\n\t\t\t\t\t\t\ttarget.discard(cards);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(target.hasSkillTag('weather')){\n\t\t\t\t\t\t\tvar skills=target.getSkills();\n\t\t\t\t\t\t\tfor(var i=0;i<skills.length;i++){\n\t\t\t\t\t\t\t\tvar info=get.info(skills[i]);\n\t\t\t\t\t\t\t\tif(info&&info.ai&&info.ai.weather){\n\t\t\t\t\t\t\t\t\ttarget.removeSkill(skills[i]);\n\t\t\t\t\t\t\t\t\tgame.log(target,'解除了','【'+get.translation(skills[i])+'】','的效果');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tevent.redo();\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"4\",value: [5,1],useful: [4,1],result: {player: \"1\",},},}","info":"选择一项：解除任意名角色的天气效果并移除其判定区内的牌，或随机获得一张铜卡法术（破晓除外）并展示之"},"gw_kunenfayin":{"name":"昆恩法印","script":"{fullborder: \"bronze\",type: \"spell\",subtype: \"spell_bronze\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('gw_kunenfayin');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.addSkill('gw_kunenfayin');\n\t\t\t\t},ai: {basic: {order: \"2\",value: [5,1],useful: [4,1],},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target==player) return get.threaten(target,player)/1.5;\n\t\t\t\t\t\t\treturn get.threaten(target,player);\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段对一名角色使用，目标防止所有非属性伤害，持续X个角色的回合（X为存活角色数且最多为5）"},"gw_yanziyaoshui":{"name":"燕子药水","script":"{fullborder: \"bronze\",type: \"spell\",subtype: \"spell_bronze\",enable: \"true\",filterTarget: \"true\",content: function (){\n\t\t\t\t\tif(target.isMinHandcard()){\n\t\t\t\t\t\ttarget.draw(2);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.draw();\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"6\",value: [6,1],useful: [4,1],},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.isMinHandcard()) return 2;\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"令一名角色摸一张牌，若其手牌数为全场最少或之一，改为摸两张"},"gw_wenyi":{"name":"瘟疫","script":"{fullborder: \"bronze\",type: \"spell\",subtype: \"spell_bronze\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.isMinHp();\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\tif(target.countCards('h')){\n\t\t\t\t\t\ttarget.randomDiscard('h');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.loseHp();\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"6\",value: [6,1],useful: [4,1],},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.countCards('h')) return -1;\n\t\t\t\t\t\t\treturn -2;\n\t\t\t\t\t\t},},tag: {multitarget: \"1\",multineg: \"1\",},},}","info":"令所有体力值为全场最少的角色随机弃置一张手牌；若没有手牌，改为失去一点体力"},"gw_shanbengshu":{"name":"山崩术","script":"{fullborder: \"bronze\",type: \"spell\",subtype: \"spell_bronze\",enable: function (event,player){\n\t\t\t\t\tvar list=player.getEnemies();\n\t\t\t\t\tfor(var i=0;i<list.length;i++){\n\t\t\t\t\t\tif(list[i].countCards('e')){\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\tvar list=target.getEnemies();\n\t\t\t\t\tvar equips=[];\n\t\t\t\t\tfor(var i=0;i<list.length;i++){\n\t\t\t\t\t\tequips.addArray(list[i].getCards('e'));\n\t\t\t\t\t}\n\t\t\t\t\tequips=equips.randomGets(2);\n\t\t\t\t\tif(equips.length==2){\n\t\t\t\t\t\tvar target1=get.owner(equips[0]);\n\t\t\t\t\t\tvar target2=get.owner(equips[1]);\n\t\t\t\t\t\tif(target1==target2){\n\t\t\t\t\t\t\ttarget1.discard(equips);\n\t\t\t\t\t\t\tplayer.line(target1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\ttarget1.discard(equips[0]).delay=false;\n\t\t\t\t\t\t\ttarget2.discard(equips[1]);\n\t\t\t\t\t\t\tplayer.line(target1);\n\t\t\t\t\t\t\tplayer.line(target2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if(equips.length){\n\t\t\t\t\t\tvar target1=get.owner(equips[0]);\n\t\t\t\t\t\ttarget1.discard(equips[0]);\n\t\t\t\t\t\tplayer.line(target1);\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"9\",value: [6,1],useful: [4,1],},result: {target: \"1\",},tag: {multitarget: \"1\",multineg: \"1\",},},}","info":"出牌阶段对自己使用，随机弃置两件敌方角色场上的装备"}}},"swd":{"name":"轩辕剑","card":{"hufu":{"name":"玉符","script":"{fullskin: \"true\",type: \"basic\",global: [\"g_hufu_sha\",\"g_hufu_shan\",\"g_hufu_jiu\"],savable: function (card,player,dying){\n\t\t\t\t\treturn dying==player;\n\t\t\t\t},ai: {value: [7.5,5,2],useful: [7.5,5,2],},}","info":"你可以将一张玉符当作杀、闪或酒使用或打出"},"liuxinghuoyu":{"name":"流星火羽","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: \"true\",cardcolor: \"red\",cardnature: \"fire\",content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tif(target.countCards('he')<2){\n\t\t\t\t\t\tevent.directfalse=true;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.chooseToDiscard('he',2).ai=function(card){\n\t\t\t\t\t\t\tif(target.hasSkillTag('nofire')) return 0;\n\t\t\t\t\t\t\tif(get.damageEffect(target,player,target,'fire')>=0) return 0;\n\t\t\t\t\t\t\tif(player.hasSkillTag('notricksource')) return 0;\n\t\t\t\t\t\t\tif(target.hasSkillTag('notrick')) return 0;\n\t\t\t\t\t\t\tif(card.name=='tao') return 0;\n\t\t\t\t\t\t\tif(target.hp==1&&card.name=='jiu') return 0;\n\t\t\t\t\t\t\tif(target.hp==1&&get.type(card)!='basic'){\n\t\t\t\t\t\t\t\treturn 10-get.value(card);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 8-get.value(card);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(event.directfalse||!result.bool){\n\t\t\t\t\t\ttarget.damage('fire');\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"4\",value: \"7\",useful: \"2\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasSkillTag('nofire')) return 0;\n\t\t\t\t\t\t\tif(get.damageEffect(target,player,player)<0&&get.attitude(player,target)>0){\n\t\t\t\t\t\t\t\treturn -2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar nh=target.countCards('he');\n\t\t\t\t\t\t\tif(target==player) nh--;\n\t\t\t\t\t\t\tswitch(nh){\n\t\t\t\t\t\t\t\tcase 0:case 1:return -2;\n\t\t\t\t\t\t\t\tcase 2:return -1.5;\n\t\t\t\t\t\t\t\tcase 3:return -1;\n\t\t\t\t\t\t\t\tdefault:return -0.7;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},},tag: {damage: \"1\",fireDamage: \"1\",natureDamage: \"1\",discard: \"1\",loseCard: \"1\",position: \"he\",},},selectTarget: \"1\",}","info":"出牌阶段，对一名角色使用，令目标弃置2张牌，或受到一点火焰伤害"},"yangpijuan":{"name":"羊皮卷","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",toself: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},modTarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar choice;\n\t\t\t\t\tif(target.countCards('h','shan')==0||target.countCards('h','sha')==0||target.hp<=1){\n\t\t\t\t\t\tchoice='basic';\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar e2=target.getEquip(2);\n\t\t\t\t\t\tvar e3=target.getEquip(3);\n\t\t\t\t\t\tif((e2&&e3)||((e2||e3)&&target.needsToDiscard()<=1)||Math.random()<0.5){\n\t\t\t\t\t\t\tchoice='trick';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tchoice='equip';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttarget.chooseControl('basic','trick','equip',function(){\n\t\t\t\t\t\treturn choice;\n\t\t\t\t\t}).set('prompt','选择一种卡牌类型');\n\t\t\t\t\t'step 1'\n\t\t\t\t\tvar list=get.inpile(result.control,'trick');\n\t\t\t\t\tlist=list.randomGets(3);\n\t\t\t\t\tfor(var i=0;i<list.length;i++){\n\t\t\t\t\t\tlist[i]=[get.translation(result.control),'',list[i]];\n\t\t\t\t\t}\n\t\t\t\t\tvar dialog=ui.create.dialog('选择一张加入你的手牌',[list,'vcard'],'hidden');\n\t\t\t\t\ttarget.chooseButton(dialog,true).ai=function(button){\n\t\t\t\t\t\treturn get.value({name:button.link[2]});\n\t\t\t\t\t};\n\t\t\t\t\t'step 2'\n\t\t\t\t\tif(result.buttons){\n\t\t\t\t\t\ttarget.gain(game.createCard(result.buttons[0].link[2]),'draw');\n\t\t\t\t\t}\n\t\t\t\t},selectTarget: \"-1\",ai: {order: \"7\",value: \"7\",useful: \"4\",result: {target: \"1\",},},}","info":"出牌阶段对自己使用，选择一种卡牌类别，发现一张该类别的卡牌"},"shencaojie":{"name":"神草结","script":"{fullskin: \"true\",type: \"trick\",nodelay: \"true\",global: \"g_shencaojie\",content: function (){\n\t\t\t\t\tvar evt=event.getParent('g_shencaojie')._trigger;\n\t\t\t\t\tif(evt){\n\t\t\t\t\t\tif(evt.player==player){\n\t\t\t\t\t\t\tevt.num--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tevt.num++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"1\",useful: \"5\",value: \"6\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target==player){\n\t\t\t\t\t\t\t\tif(get.damageEffect(target,player,target)>=0) return 0;\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tif(get.attitude(player,target)>0) return 0;\n\t\t\t\t\t\t\t\tif(get.damageEffect(target,player,target)>=0) return 0;\n\t\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},},},}","info":"你的锦囊牌即将造成伤害时对目标使用，令此伤害+1；你即将受到锦囊牌伤害时对自己使用，令此伤害-1"},"yuruyi":{"name":"玉如意","script":"{type: \"equip\",subtype: \"equip5\",skills: [\"yuruyi\"],fullskin: \"true\",ai: {basic: {equipValue: \"6\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你有更高的机率摸到好牌"},"fengyinzhidan":{"name":"封印之蛋","script":"{type: \"basic\",enable: \"true\",fullskin: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},selectTarget: \"-1\",modTarget: \"true\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tevent.num=2;\n\t\t\t\t\tvar list=[];\n\t\t\t\t\tevent.list=list;\n\t\t\t\t\tfor(var i=0;i<lib.inpile.length;i++){\n\t\t\t\t\t\tif(lib.filter.filterCard({name:lib.inpile[i]},target)){\n\t\t\t\t\t\t\tvar info=lib.card[lib.inpile[i]];\n\t\t\t\t\t\t\tif(info.type=='trick'&&!info.multitarget&&!info.notarget){\n\t\t\t\t\t\t\t\tif(Array.isArray(info.selectTarget)){\n\t\t\t\t\t\t\t\t\tif(info.selectTarget[0]>0&&info.selectTarget[1]>=info.selectTarget[0]){\n\t\t\t\t\t\t\t\t\t\tlist.push(lib.inpile[i]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if(typeof info.selectTarget=='number'){\n\t\t\t\t\t\t\t\t\tlist.push(lib.inpile[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tvar list=event.list;\n\t\t\t\t\twhile(list.length){\n\t\t\t\t\t\tvar card={name:list.randomRemove()};\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar targets=game.filterPlayer(function(current){\n\t\t\t\t\t\t\treturn lib.filter.filterTarget(card,target,current);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(targets.length){\n\t\t\t\t\t\t\ttargets.sort(lib.sort.seat);\n\t\t\t\t\t\t\tif(info.selectTarget==-1){\n\t\t\t\t\t\t\t\ttarget.useCard(card,targets,'noai');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tvar num=info.selectTarget;\n\t\t\t\t\t\t\t\tif(Array.isArray(num)){\n\t\t\t\t\t\t\t\t\tif(targets.length<num[0]) continue;\n\t\t\t\t\t\t\t\t\tnum=num[0]+Math.floor(Math.random()*(num[1]-num[0]+1));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\tif(targets.length<num) continue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttarget.useCard(card,targets.randomGets(num),'noai');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(--event.num>0){\n\t\t\t\t\t\t\t\tevent.redo();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"9\",value: \"8\",useful: \"3\",result: {target: \"1\",},},}","info":"随机使用两张普通锦囊牌（随机指定目标）"},"yuchanqian":{"name":"乾玉蝉","script":"{fullskin: \"true\",type: \"jiqi\",addinfo: \"杀\",autoViewAs: \"sha\",global: [\"g_yuchan_swap\",\"g_yuchan_equip\"],ai: {value: \"6\",useful: [5,1],order: function (item,player){\n\t\t\t\t\t\tif(player.hasSkillTag('presha',true,null,true)) return 10;\n\t\t\t\t\t\tif(lib.linked.contains(get.nature(item))){\n\t\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\t\treturn current!=player&&current.isLinked()&&player.canUse(item,current,null,true)&&get.effect(current,item,player,player)>0&&lib.card.sha.ai.canLink(player,current,item);\n\t\t\t\t\t\t\t})&&game.countPlayer(function(current){\n\t\t\t\t\t\t\t\treturn current.isLinked()&&get.damageEffect(current,player,player,get.nature(item))>0;\n\t\t\t\t\t\t\t})>1) return 3.1;\n\t\t\t\t\t\t\treturn 3;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 3.05;\n\t\t\t\t\t},},}","info":"在你行动时可当作杀使用；可用于煅造装备；在你使用一张牌后，此牌会随机切换形态"},"yuchankun":{"name":"坤玉蝉","script":"{fullskin: \"true\",type: \"jiqi\",addinfo: \"药\",autoViewAs: \"caoyao\",global: [\"g_yuchan_swap\",\"g_yuchan_equip\"],ai: {value: \"6\",useful: [7,2],order: \"2.2\",},}","info":"在你行动时可当作草药使用；可用于煅造装备；在你使用一张牌后，此牌会随机切换形态"},"yuchanzhen":{"name":"震玉蝉","script":"{fullskin: \"true\",type: \"jiqi\",autoViewAs: \"jiu\",addinfo: \"酒\",global: [\"g_yuchan_swap\",\"g_yuchan_equip\"],savable: function (card,player,dying){\n\t\t\t\t\treturn dying==player;\n\t\t\t\t},ai: {value: \"6\",useful: [4,1],order: function (){\n\t\t\t\t\t\treturn get.order({name:'sha'})+0.2;\n\t\t\t\t\t},},}","info":"在你行动时可当作酒使用；可用于煅造装备；在你使用一张牌后，此牌会随机切换形态"},"yuchanxun":{"name":"巽玉蝉","script":"{fullskin: \"true\",type: \"jiqi\",autoViewAs: \"tao\",addinfo: \"桃\",global: [\"g_yuchan_swap\",\"g_yuchan_equip\"],savable: \"true\",ai: {value: \"6\",useful: [8,6.5],order: function (card,player){\n\t\t\t\t\t\t\tif(player.hasSkillTag('pretao')) return 5;\n\t\t\t\t\t\t\treturn 2;\n\t\t\t\t\t\t},},}","info":"在你行动时可当作桃使用；可用于煅造装备；在你使用一张牌后，此牌会随机切换形态"},"yuchankan":{"name":"坎玉蝉","script":"{fullskin: \"true\",type: \"jiqi\",autoViewAs: \"shenmiguo\",global: [\"g_yuchan_swap\",\"g_yuchan_equip\"],addinfo: \"果\",ai: {order: \"1\",useful: \"4\",value: \"6\",result: {player: function (){\n\t\t\t\t\t\t\tvar cardname=_status.event.cardname;\n\t\t\t\t\t\t\tif(cardname=='tiesuo') return 0;\n\t\t\t\t\t\t\tif(cardname=='jiu') return 0;\n\t\t\t\t\t\t\tif(cardname=='tianxianjiu') return 0;\n\t\t\t\t\t\t\tif(cardname=='toulianghuanzhu') return 0;\n\t\t\t\t\t\t\tif(cardname=='shijieshu') return 0;\n\t\t\t\t\t\t\tif(cardname=='xietianzi') return 0;\n\t\t\t\t\t\t\tif(cardname=='huogong') return 0;\n\t\t\t\t\t\t\tif(cardname=='shandianjian') return 0;\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},},}","info":"在你行动时可当作神秘果使用；可用于煅造装备；在你使用一张牌后，此牌会随机切换形态"},"yuchanli":{"name":"离玉蝉","script":"{fullskin: \"true\",type: \"jiqi\",autoViewAs: \"tianxianjiu\",global: [\"g_yuchan_swap\",\"g_yuchan_equip\"],addinfo: \"仙\",savable: function (card,player,dying){\n\t\t\t\t\treturn dying==player;\n\t\t\t\t},ai: {value: \"6\",useful: \"1\",order: function (){\n\t\t\t\t\t\treturn get.order({name:'sha'})+0.2;\n\t\t\t\t\t},},}","info":"在你行动时可当作天仙酒使用；可用于煅造装备；在你使用一张牌后，此牌会随机切换形态"},"yuchangen":{"name":"艮玉蝉","script":"{fullskin: \"true\",type: \"jiqi\",addinfo: \"蛋\",autoViewAs: \"fengyinzhidan\",global: [\"g_yuchan_swap\",\"g_yuchan_equip\"],ai: {value: \"6\",useful: \"1\",order: \"9\",},}","info":"在你行动时可当作封印之蛋使用；可用于煅造装备；在你使用一张牌后，此牌会随机切换形态"},"yuchandui":{"name":"兑玉蝉","script":"{fullskin: \"true\",type: \"jiqi\",addinfo: \"雪\",autoViewAs: \"xuejibingbao\",global: [\"g_yuchan_swap\",\"g_yuchan_equip\"],ai: {value: \"6\",useful: \"4\",order: \"2\",},}","info":"在你行动时可当作雪肌冰鲍使用；可用于煅造装备；在你使用一张牌后，此牌会随机切换形态"},"mujiaren":{"name":"木甲人","script":"{fullskin: \"true\",enable: \"true\",type: \"jiguan\",usable: \"1\",updateUsable: \"phaseUse\",forceUsable: \"true\",wuxieable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar cards=target.getCards('h',function(card){\n\t\t\t\t\t\treturn get.type(card)!='basic';\n\t\t\t\t\t});\n\t\t\t\t\tif(cards.length){\n\t\t\t\t\t\ttarget.lose(cards)._triggered=null;\n\t\t\t\t\t}\n\t\t\t\t\tevent.num=1+cards.length;\n\t\t\t\t\t'step 1'\n\t\t\t\t\tvar cards=[];\n\t\t\t\t\tvar list=get.typeCard('jiguan');\n\t\t\t\t\tfor(var i=0;i<list.length;i++){\n\t\t\t\t\t\tif(lib.card[list[i]].derivation){\n\t\t\t\t\t\t\tlist.splice(i--,1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(list.length){\n\t\t\t\t\t\tfor(var i=0;i<event.num;i++){\n\t\t\t\t\t\t\tcards.push(game.createCard(list.randomGet()));\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttarget.directgain(cards);\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"1\",result: {target: \"1\",},},}","info":"出牌阶段限用一次，将你手牌中的非基本牌（含此张）替换为随机的机关牌"},"zhiluxiaohu":{"name":"指路小狐","script":"{enable: function (card,player){\n\t\t\t\t\treturn lib.filter.filterCard({name:'sha'},player);\n\t\t\t\t},fullskin: \"true\",type: \"jiguan\",wuxieable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},modTarget: \"true\",selectTarget: \"-1\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar targets=target.getEnemies();\n\t\t\t\t\tif(targets.length){\n\t\t\t\t\t\tvar target2=targets.randomGet();\n\t\t\t\t\t\ttarget2.addExpose(0.2);\n\t\t\t\t\t\ttarget.useCard({name:'sha'},target2);\n\t\t\t\t\t}\n\t\t\t\t\tplayer.addSkill('zhiluxiaohu');\n\t\t\t\t\t'step 1'\n\t\t\t\t\tplayer.removeSkill('zhiluxiaohu');\n\t\t\t\t},ai: {value: \"6\",result: {target: \"1\",},order: function (){\n\t\t\t\t\t\treturn get.order({name:'sha'})+0.1;\n\t\t\t\t\t},},}","info":"出牌阶段对自己使用，视为对一名随机敌方角色使用一张杀，若此杀造成伤害，你摸一张牌"},"xuejibingbao":{"name":"雪肌冰鲍","script":"{enable: \"true\",fullskin: \"true\",type: \"basic\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('xuejibingbao');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.storage.xuejibingbao=2;\n\t\t\t\t\ttarget.addSkill('xuejibingbao');\n\t\t\t\t},ai: {order: \"2\",value: \"6\",result: {target: function (player,target){\n\t\t\t\t\t\t\tvar num=1;\n\t\t\t\t\t\t\tif(target.hp<2) num=0.5;\n\t\t\t\t\t\t\treturn num/Math.sqrt(Math.max(1,target.countCards('h')));\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段对一名角色使用，该角色摸牌阶段摸牌数+1，持续2个回合"},"gouhunluo":{"name":"勾魂锣","script":"{enable: \"true\",fullskin: \"true\",type: \"jiguan\",wuxieable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('gouhunluo');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.storage.gouhunluo=3;\n\t\t\t\t\ttarget.storage.gouhunluo2=player;\n\t\t\t\t\ttarget.addSkill('gouhunluo');\n\t\t\t\t},ai: {order: \"2\",value: \"5\",result: {target: function (player,target){\n\t\t\t\t\t\t\treturn -1/Math.max(1,target.hp);\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段对一名角色使用，在3轮后你的准备阶段令该角色失去1点体力并弃置所有手牌"},"zhuquezhizhang":{"name":"朱雀之璋","script":"{type: \"jiqi\",fullskin: \"true\",global: \"g_zhuquezhizhang\",ai: {value: \"8\",useful: \"6.5\",},}","info":"可用于煅造装备；此牌在你手牌中时，每当你受到其他角色造成的伤害，你对伤害来源造成一点火属性伤害"},"xuanwuzhihuang":{"name":"玄武之璜","script":"{type: \"jiqi\",fullskin: \"true\",global: \"g_xuanwuzhihuang\",ai: {value: \"8\",useful: \"6.5\",},}","info":"可用于煅造装备；此牌在你手牌中时，每当你造成伤害，你回复等量的体力"},"huanglinzhicong":{"name":"黄麟之琮","script":"{type: \"jiqi\",fullskin: \"true\",global: \"g_huanglinzhicong\",ai: {value: \"8\",useful: \"6.5\",},}","info":"可用于煅造装备；此牌在你手牌中时，准备阶段，若你没有护甲，你获得一点护甲"},"cangchizhibi":{"name":"苍螭之璧","script":"{type: \"jiqi\",fullskin: \"true\",global: \"g_cangchizhibi\",ai: {value: \"8\",useful: \"6.5\",},}","info":"可用于煅造装备；此牌在你手牌中时，准备阶段，你可以选择至多3名角色横置或重置之"},"qinglongzhigui":{"name":"青龙之圭","script":"{type: \"jiqi\",fullskin: \"true\",global: \"g_qinglongzhigui\",ai: {value: \"8\",useful: \"6.5\",},}","info":"可用于煅造装备；此牌在你手牌中时，准备阶段，你摸两张牌然后弃置一张牌"},"baishouzhihu":{"name":"白兽之琥","script":"{type: \"jiqi\",fullskin: \"true\",global: \"g_baishouzhihu\",ai: {value: \"8\",useful: \"6.5\",},}","info":"可用于煅造装备；此牌在你手牌中时，每当你弃置卡牌，你可以弃置一名其他角色的一张随机牌"},"jiguantong":{"name":"机关火筒","script":"{fullskin: \"true\",type: \"jiguan\",enable: \"true\",wuxieable: \"true\",selectTarget: \"-1\",reverseOrder: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player;\n\t\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tif(target.countCards('h')){\n\t\t\t\t\t\tvar next=target.chooseToDiscard('机关火筒：弃置一张手牌或受到一点火焰伤害');\n\t\t\t\t\t\tnext.set('ai',function(card){\n\t\t\t\t\t\t\tvar evt=_status.event.getParent();\n\t\t\t\t\t\t\tif(get.damageEffect(evt.target,evt.player,evt.target,'fire')>=0) return 0;\n\t\t\t\t\t\t\treturn 8-get.useful(card);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.damage('fire');\n\t\t\t\t\t\tevent.parent.preResult=true;\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\ttarget.damage('fire');\n\t\t\t\t\t\tevent.parent.preResult=true;\n\t\t\t\t\t}\n\t\t\t\t},contentAfter: function (){\n\t\t\t\t\tif(!event.preResult) player.draw();\n\t\t\t\t},ai: {wuxie: function (target,card,player,viewer){\n\t\t\t\t\t\tif(get.attitude(viewer,target)>0){\n\t\t\t\t\t\t\tif(target.countCards('h')>0||target.hp>1) return 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t},basic: {order: \"9\",useful: \"1\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(player.hasUnknown(2)) return 0;\n\t\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\t\tif(get.mode()=='identity'){\n\t\t\t\t\t\t\t\tif(target.isZhu&&nh<=1&&target.hp<=1) return -100;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(nh==0) return -1;\n\t\t\t\t\t\t\tif(nh==1) return -0.7\n\t\t\t\t\t\t\treturn -0.5;\n\t\t\t\t\t\t},},tag: {discard: \"1\",loseCard: \"1\",damage: \"1\",natureDamage: \"1\",fireDamage: \"1\",multitarget: \"1\",multineg: \"1\",},},}","info":"出牌阶段对所有其他角色使用，目标弃置一张手牌，或受到一点火焰伤害；若没有人选择受到伤害，使用者摸一张牌"},"donghuangzhong":{"name":"东皇钟","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",nomod: \"true\",nopower: \"true\",unique: \"true\",skills: [\"donghuangzhong\"],ai: {equipValue: \"7\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"结束阶段，你可以弃置一张红色手牌，并选择一名角色将一张随机单体延时锦囊置入其判定区"},"xuanyuanjian":{"name":"轩辕剑","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",nomod: \"true\",nopower: \"true\",unique: \"true\",skills: [\"xuanyuanjian\",\"xuanyuanjian2\",\"xuanyuanjian3\"],enable: function (card,player){\n\t\t\t\t\treturn player.hasSkill('xuanyuan')||player.hp>2;\n\t\t\t\t},distance: {attackFrom: \"-2\",},onEquip: function (){\n\t\t\t\t\tif(!player.hasSkill('xuanyuan')&&player.hp<=2){\n\t\t\t\t\t\tplayer.discard(card);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tplayer.changeHujia();\n\t\t\t\t\t}\n\t\t\t\t},ai: {equipValue: \"9\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"装备时获得一点护甲；每当你即将造成一次伤害，你令此伤害加一并变为雷属性，并在伤害结算后流失一点体力。任何时候，若你体力值不超过2，则立即失去轩辕剑"},"pangufu":{"name":"盘古斧","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",skills: [\"pangufu\"],nomod: \"true\",nopower: \"true\",unique: \"true\",distance: {attackFrom: \"-3\",},ai: {equipValue: \"8\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，每当你造成一次伤害，受伤角色须弃置一张牌"},"lianyaohu":{"name":"炼妖壶","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",equipDelay: \"false\",loseDelay: \"false\",nomod: \"true\",nopower: \"true\",unique: \"true\",onEquip: function (){\n\t\t\t\t\tplayer.markSkill('lianyaohu_skill');\n\t\t\t\t},onLose: function (){\n\t\t\t\t\tplayer.unmarkSkill('lianyaohu_skill');\n\t\t\t\t},clearLose: \"true\",ai: {equipValue: \"6\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"lianhua\",\"shouna\",\"lianyaohu_skill\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"出牌阶段各限一次，你可以选择一项：1.弃置一张手牌，并将一名其他角色的一张手牌置入炼妖壶；2.弃置两张炼妖壶中的牌，从牌堆中获得一张与弃置的牌类别均不相同的牌"},"haotianta":{"name":"昊天塔","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"haotianta\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: \"7\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，任意一名角色进行判定前，你观看牌堆顶的2张牌，并选择一张作为判定结果，此结果不可被更改，也不能触发技能"},"fuxiqin":{"name":"伏羲琴","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"kongxin\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: \"6\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"出牌阶段限一次，你可以与一名其他角色进行拼点，若你赢，你可以指定另一名角色视为对方对该角色使用一张杀，否则对方可弃置你一张牌"},"shennongding":{"name":"神农鼎","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"shennongding\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: \"6\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"出牌阶段，你可以弃置两张手牌，然后回复一点体力。每阶段限一次"},"kongdongyin":{"name":"崆峒印","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"kongdongyin\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: function (card,player){\n\t\t\t\t\t\tif(player.hp==2) return 7;\n\t\t\t\t\t\tif(player.hp==1) return 10;\n\t\t\t\t\t\treturn 5;\n\t\t\t\t\t},basic: {equipValue: \"7\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"令你抵挡一次死亡，将体力回复至1，并摸一张牌，发动后进入弃牌堆"},"kunlunjingc":{"name":"昆仑镜","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"kunlunjingc\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: \"6\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"出牌阶段限一次，你可以观看牌堆顶的三张牌，然后用一张手牌替换其中的一张"},"nvwashi":{"name":"女娲石","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"nvwashi\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: \"5\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当一名角色濒死时，若你的体力值大于1，你可以失去一点体力并令其回复一点体力"},"guisheqi":{"name":"龟蛇旗","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",filterTarget: \"true\",content: function (){\n\t\t\t\t\ttarget.changeHujia();\n\t\t\t\t},ai: {basic: {order: \"5\",useful: \"3\",value: [6,2,1],},result: {target: function (player,target){\n\t\t\t\t\t\t\treturn 2/Math.max(1,Math.sqrt(target.hp));\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段对一名角色使用，目标获得一点护甲"},"jiguanfeng":{"name":"机关蜂","script":"{fullskin: \"true\",type: \"jiguan\",enable: \"true\",wuxieable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player;\n\t\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tvar next=target.chooseToRespond({name:'shan'});\n\t\t\t\t\tnext.autochoose=lib.filter.autoRespondShan;\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\tif(!target.hasSkill('fengyin')){\n\t\t\t\t\t\t\ttarget.addTempSkill('fengyin',{player:'phaseBegin'});\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttarget.damage();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"9\",useful: \"3\",value: \"6.5\",},result: {target: \"-2\",},tag: {respond: \"1\",respondShan: \"1\",},},selectTarget: \"1\",}","info":"出牌阶段对一名其他角色使用，目标需打出一张闪，否则非锁定技失效直到下一回合开始，并受到一点伤害"},"jiguanyuan":{"name":"机关鸢","script":"{fullskin: \"true\",type: \"jiguan\",wuxieable: \"true\",enable: function (card,player){\n\t\t\t\t\tvar hs=player.getCards('he');\n\t\t\t\t\treturn hs.length>1||(hs.length==1&&hs[0]!=card);\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player&&!target.hasSkill('jiguanyuan');\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tif(player.countCards('he')){\n\t\t\t\t\t\tplayer.chooseCard(true,'he').set('prompt2','你将'+\n\t\t\t\t\t\tget.translation(cards)+'和选择牌置于'+get.translation(target)+\n\t\t\t\t\t\t'的武将牌上，然后摸一张牌；'+get.translation(target)+\n\t\t\t\t\t\t'于下一结束阶段获得武将牌上的牌');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tplayer.$throw(result.cards);\n\t\t\t\t\tplayer.lose(result.cards,ui.special);\n\t\t\t\t\tui.special.appendChild(cards[0]);\n\t\t\t\t\tevent.togive=[cards[0],result.cards[0]];\n\t\t\t\t\tgame.delay();\n\t\t\t\t\t'step 2'\n\t\t\t\t\t// target.gain(event.togive).delay=false;\n\t\t\t\t\ttarget.$gain2(event.togive);\n\t\t\t\t\ttarget.storage.jiguanyuan=event.togive;\n\t\t\t\t\ttarget.addSkill('jiguanyuan');\n\t\t\t\t\tgame.log(target,'从',player,'获得了',event.togive);\n\t\t\t\t\tplayer.draw();\n\t\t\t\t},ai: {basic: {order: \"2\",useful: \"2\",value: \"7\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tvar players=game.filterPlayer(function(current){\n\t\t\t\t\t\t\t\treturn (current!=player&&!current.isTurnedOver()&&\n\t\t\t\t\t\t\t\t\tget.attitude(player,current)>=3&&get.attitude(current,player)>=3)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tplayers.sort(lib.sort.seat);\n\t\t\t\t\t\t\tif(target==players[0]) return 2;\n\t\t\t\t\t\t\treturn 0.5;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段对一名其他角色使用，你将此牌和一张其它牌置于一名其他角色的武将牌上，然后摸一张牌；该角色于下一结束阶段获得武将牌上的牌"},"shenmiguo":{"name":"神秘果","script":"{fullskin: \"true\",type: \"basic\",global: \"g_shenmiguo\",content: function (){\n\t\t\t\t\tif(Array.isArray(player.storage.shenmiguo)){\n\t\t\t\t\t\tplayer.useCard(player.storage.shenmiguo[0],player.storage.shenmiguo[1]);\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"1\",useful: \"6\",value: \"6\",result: {player: function (){\n\t\t\t\t\t\t\tvar cardname=_status.event.cardname;\n\t\t\t\t\t\t\tif(get.tag({name:cardname},'norepeat')) return 0;\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},},}","info":"出牌阶段内，当你使用一张基本牌或普通锦囊牌后使用，令此牌再结算一次。每阶段限用一次"},"qinglianxindeng":{"name":"青莲心灯","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip2\",skills: [\"qinglianxindeng\"],ai: {basic: {equipValue: \"8\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你防止锦囊牌造成的伤害"},"lingjiandai":{"name":"零件袋","script":"{fullskin: \"true\",enable: \"true\",type: \"jiguan\",wuxieable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},selectTarget: \"-1\",modTarget: \"true\",content: function (){\n\t\t\t\t\tvar list=get.typeCard('hslingjian');\n\t\t\t\t\tif(list.length){\n\t\t\t\t\t\tlist=list.randomGets(3);\n\t\t\t\t\t\tfor(var i=0;i<list.length;i++){\n\t\t\t\t\t\t\tlist[i]=game.createCard(list[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttarget.gain(list,'gain2');\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"10\",value: \"7\",useful: \"1\",tag: {draw: \"2\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target==player&&target.countCards('h',{type:'equip'})) return 2.5;\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},},}","info":"出牌阶段对自己使用，获得3张随机零件"},"jiguanshu":{"name":"机关鼠","script":"{fullskin: \"true\",type: \"jiguan\",wuxieable: \"true\",modTarget: \"true\",enable: function (card,player){\n\t\t\t\t\tvar es=player.getCards('e');\n\t\t\t\t\tfor(var i=0;i<es.length;i++){\n\t\t\t\t\t\tif(lib.inpile.contains(es[i].name)&&\n\t\t\t\t\t\t\t!lib.card[es[i].name].nopower&&\n\t\t\t\t\t\t\t!lib.card[es[i].name].unique&&\n\t\t\t\t\t\t\t!es[i].nopower){\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t\t// var es=target.getCards('e');\n\t\t\t\t\t// for(var i=0;i<es.length;i++){\n\t\t\t\t\t// \tif(lib.inpile.contains(es[i].name)) return true;\n\t\t\t\t\t// }\n\t\t\t\t\t// return false;\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar es=target.getCards('e');\n\t\t\t\t\tvar list=get.typeCard('hslingjian');\n\t\t\t\t\tvar list2=get.typeCard('jiqi');\n\t\t\t\t\tvar list3=[];\n\t\t\t\t\tvar list4=[];\n\t\t\t\t\tfor(var i=0;i<list2.length;i++){\n\t\t\t\t\t\tif(list2[i].indexOf('yuchan')==0){\n\t\t\t\t\t\t\tlist4.push(list2[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tlist3.push(list2[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(Math.random()<1/3){\n\t\t\t\t\t\tlist2=list4;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tlist2=list3;\n\t\t\t\t\t}\n\t\t\t\t\tvar cards=[];\n\t\t\t\t\tvar time=0;\n\t\t\t\t\tfor(var i=0;i<es.length;i++){\n\t\t\t\t\t\tif(!lib.inpile.contains(es[i].name)||lib.card[es[i].name].nopower||lib.card[es[i].name].unique||es[i].nopower){\n\t\t\t\t\t\t\tes.splice(i--,1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!es.length){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif(!list.length&&!list2.length){\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar num=get.rand(es.length);\n\t\t\t\t\tvar card;\n\t\t\t\t\ttarget.removeEquipTrigger();\n\t\t\t\t\tvar delayed=0;\n\t\t\t\t\tfor(var i=0;i<es.length;i++){\n\t\t\t\t\t\tif(i==num){\n\t\t\t\t\t\t\tcard=game.createCard(list2.randomGet());\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tcard=game.createCard(list.randomGet());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!card){\n\t\t\t\t\t\t\tdelayed++;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcards.push(card);\n\t\t\t\t\t\ttime+=200;\n\t\t\t\t\t\tsetTimeout((function(card,name,last){\n\t\t\t\t\t\t\treturn function(){\n\t\t\t\t\t\t\t\tgame.createCard(card).discard();\n\t\t\t\t\t\t\t\tcard.init([card.suit,card.number,name,card.nature]);\n\t\t\t\t\t\t\t\tcard.style.transform='scale(1.1)';\n\t\t\t\t\t\t\t\tcard.classList.add('glow');\n\t\t\t\t\t\t\t\tif(last) game.resume();\n\t\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t\tcard.style.transform='';\n\t\t\t\t\t\t\t\t\tcard.classList.remove('glow');\n\t\t\t\t\t\t\t\t},500);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}(es[i],lib.skill.lingjianduanzao.process([card,es[i]]),i==es.length-1)),(i-delayed)*200);\n\t\t\t\t\t}\n\t\t\t\t\ttarget.$gain2(cards);\n\t\t\t\t\tgame.pause();\n\t\t\t\t\t'step 1'\n\t\t\t\t\ttarget.addEquipTrigger();\n\t\t\t\t},ai: {value: \"7\",order: \"7.5\",result: {target: \"1\",},},}","info":"出牌阶段对自己使用，用随机祭器强化装备区内的一张随机装备，然后用随机零件强化其余的装备"},"jiguanyaoshu":{"name":"机关要术","script":"{fullskin: \"true\",enable: \"true\",type: \"jiguan\",range: {global: \"1\",},wuxieable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\tfor(var i=1;i<=5;i++){\n\t\t\t\t\t\tif(!target.getEquip(i)){\n\t\t\t\t\t\t\treturn !target.hasSkill('jiguanyaoshu_skill')&&!target.isMin();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t},content: function (){\n\t\t\t\t\tvar types=[];\n\t\t\t\t\tfor(var i=1;i<=5;i++){\n\t\t\t\t\t\tif(!target.getEquip(i)){\n\t\t\t\t\t\t\ttypes.push('equip'+i);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar list=get.inpile('equip');\n\t\t\t\t\tfor(var i=0;i<list.length;i++){\n\t\t\t\t\t\tif(!types.contains(lib.card[list[i]].subtype)){\n\t\t\t\t\t\t\tlist.splice(i--,1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar card=game.createCard(list.randomGet());\n\t\t\t\t\ttarget.$gain2(card);\n\t\t\t\t\ttarget.equip(card);\n\t\t\t\t\ttarget.addSkill('jiguanyaoshu_skill');\n\t\t\t\t\tgame.delay();\n\t\t\t\t},ai: {wuxie: function (){\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},order: \"10.1\",value: [5,1],result: {target: function (player,target){\n\t\t\t\t\t\t\treturn 1/(1+target.countCards('e'));\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段对距离1以内的一名角色使用，目标随机装备一件装备牌并获得技能巧匠（每当你于回合外失去装备区内的牌，你获得一个随机零件）"},"hslingjian_xuanfengzhiren":{"name":"旋风之刃","script":"{type: \"hslingjian\",fullimage: \"true\",vanish: \"true\",enable: \"true\",derivation: \"true\",derivationpack: \"swd\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.countCards('he')>0;\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.discard(target.getCards('he').randomGet());\n\t\t\t\t},ai: {order: \"9\",result: {target: \"-1\",},useful: [2,0.5],value: [2,0.5],},selectTarget: \"1\",}","info":"可用于煅造装备；随机弃置一名角色的一张牌"},"hslingjian_zhongxinghujia":{"name":"重型护甲","script":"{type: \"hslingjian\",fullimage: \"true\",vanish: \"true\",enable: \"true\",derivation: \"true\",derivationpack: \"swd\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.isMin();\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tvar list=[];\n\t\t\t\t\tfor(var i=0;i<lib.inpile.length;i++){\n\t\t\t\t\t\tif(lib.card[lib.inpile[i]].subtype=='equip2'){\n\t\t\t\t\t\t\tlist.push(lib.inpile[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(list.length){\n\t\t\t\t\t\tvar card=game.createCard(list.randomGet());\n\t\t\t\t\t\ttarget.$draw(card);\n\t\t\t\t\t\tgame.delay();\n\t\t\t\t\t\ttarget.equip(card);\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tvar hs=target.getCards('h');\n\t\t\t\t\tif(hs.length){\n\t\t\t\t\t\ttarget.discard(hs.randomGet());\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"4\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.getEquip(2)){\n\t\t\t\t\t\t\t\tif(target.countCards('h')&&!target.hasSkillTag('noe')) return -0.6;\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tvar hs=target.getCards('h');\n\t\t\t\t\t\t\t\tvar num=0;\n\t\t\t\t\t\t\t\tif(target.hasSkillTag('noe')){\n\t\t\t\t\t\t\t\t\tnum=1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(player==target){\n\t\t\t\t\t\t\t\t\tif(hs.length==2) return num;\n\t\t\t\t\t\t\t\t\tif(hs.length==1) return num+1;\n\t\t\t\t\t\t\t\t\tif(hs.length<=4){\n\t\t\t\t\t\t\t\t\t\tfor(var i=0;i<hs.length;i++){\n\t\t\t\t\t\t\t\t\t\t\tif(get.value(hs[i])>6) return num;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif(hs.length>4) return num+0.5;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\tif(hs.length){\n\t\t\t\t\t\t\t\t\t\tif(hs.length<=3) return num;\n\t\t\t\t\t\t\t\t\t\treturn num+0.5;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn num+1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},},useful: [2,0.5],value: [2,0.5],},selectTarget: \"1\",}","info":"可用于煅造装备；令一名角色装备一件随机防具，然后随机弃置其一张手牌"},"hslingjian_xingtigaizao":{"name":"型体改造","script":"{type: \"hslingjian\",fullimage: \"true\",vanish: \"true\",enable: \"true\",derivation: \"true\",derivationpack: \"swd\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\ttarget.draw();\n\t\t\t\t\ttarget.addSkill('hslingjian_xingtigaizao');\n\t\t\t\t\tif(typeof target.storage.hslingjian_xingtigaizao=='number'){\n\t\t\t\t\t\ttarget.storage.hslingjian_xingtigaizao++;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.storage.hslingjian_xingtigaizao=1;\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"9\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(!player.needsToDiscard()) return 1;\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},useful: [2,0.5],value: [2,0.5],},}","info":"可用于煅造装备；摸一张牌，本回合手牌上限-1"},"hslingjian_shijianhuisu":{"name":"时间回溯","script":"{type: \"hslingjian\",fullimage: \"true\",vanish: \"true\",enable: \"true\",derivation: \"true\",derivationpack: \"swd\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player&&target.countCards('e')>0;\n\t\t\t\t},content: function (){\n\t\t\t\t\tvar es=target.getCards('e');\n\t\t\t\t\ttarget.gain(es);\n\t\t\t\t\ttarget.$gain2(es);\n\t\t\t\t},ai: {order: \"5\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasSkillTag('noe')||target.hasSkillTag('reverseEquip')) return target.countCards('e')*2;\n\t\t\t\t\t\t\tif(target.getEquip('baiyin')&&target.isDamaged()) return 2;\n\t\t\t\t\t\t\tif(target.getEquip('xuanyuanjian')||target.getEquip('qiankundai')) return 1;\n\t\t\t\t\t\t\tif(target.hasSkill('jiguanyaoshu_skill')) return 0.5;\n\t\t\t\t\t\t\tvar num=0;\n\t\t\t\t\t\t\tvar es=target.getCards('e');\n\t\t\t\t\t\t\tfor(var i=0;i<es.length;i++){\n\t\t\t\t\t\t\t\tvar subtype=get.subtype(es[i]);\n\t\t\t\t\t\t\t\tif(subtype=='equip1'||subtype=='equip3'){\n\t\t\t\t\t\t\t\t\tnum++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar mn=target.getEquip('muniu');\n\t\t\t\t\t\t\tif(mn&&mn.cards&&mn.cards.length){\n\t\t\t\t\t\t\t\tnum+=mn.cards.length;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn -num;\n\t\t\t\t\t\t},},useful: [2,0.5],value: [2,0.5],tag: {loseCard: \"1\",},},selectTarget: \"1\",}","info":"可用于煅造装备；令一名其他角色将其装备牌收回手牌"},"hslingjian_jinjilengdong":{"name":"紧急冷冻","script":"{type: \"hslingjian\",fullimage: \"true\",vanish: \"true\",enable: \"true\",derivation: \"true\",derivationpack: \"swd\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.isTurnedOver()&&target!=player;\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\ttarget.changeHujia(2);\n\t\t\t\t\ttarget.turnOver();\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(target.isTurnedOver()) target.addTempSkill('hslingjian_jinjilengdong',{player:'turnOverAfter'});\n\t\t\t\t},ai: {order: \"2\",result: {target: function (player,target){\n\t\t\t\t\t\t\tvar num=get.threaten(target,player);\n\t\t\t\t\t\t\tif(target.hasSkillTag('noturn')) return 2*num;\n\t\t\t\t\t\t\tif(target.hp>4) return -1.2*num;\n\t\t\t\t\t\t\telse if(target.hp==4) return -1*num;\n\t\t\t\t\t\t\telse if(target.hp==3) return -0.9*num;\n\t\t\t\t\t\t\telse if(target.hp==2) return -0.5*num;\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tif(target.maxHp>2){\n\t\t\t\t\t\t\t\t\tif(target.hujia) return 0.5*num;\n\t\t\t\t\t\t\t\t\treturn num;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},},useful: [2,0.5],value: [2,0.5],},selectTarget: \"1\",}","info":"可用于煅造装备；令一名武将牌正面朝上的其他角色获得两点护甲并翻面，该角色不能使用卡牌，也不能成为卡牌的目标直到武将牌翻回正面"},"hslingjian_shengxiuhaojiao":{"name":"生锈号角","script":"{type: \"hslingjian\",fullimage: \"true\",vanish: \"true\",enable: \"true\",derivation: \"true\",derivationpack: \"swd\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn !target.hasSkill('hslingjian_chaofeng');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.addTempSkill('hslingjian_chaofeng',{player:'phaseBegin'});\n\t\t\t\t},ai: {order: \"2\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(get.distance(player,target,'absolute')<=1) return 0;\n\t\t\t\t\t\t\tif(target.countCards('h')<=target.hp) return -0.1;\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t},},useful: [2,0.5],value: [2,0.5],},selectTarget: \"1\",}","info":"可用于煅造装备；令一名角色获得技能嘲讽，直到其下一回合开始"},"hslingjian_yinmilichang":{"name":"隐秘力场","script":"{type: \"hslingjian\",fullimage: \"true\",vanish: \"true\",enable: \"true\",derivation: \"true\",derivationpack: \"swd\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn player!=target&&!target.hasSkill('qianxing');\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.tempHide();\n\t\t\t\t},ai: {order: \"2\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(get.distance(player,target,'absolute')<=1) return 0;\n\t\t\t\t\t\t\tif(target.hp==1) return 2;\n\t\t\t\t\t\t\tif(target.hp==2&&target.countCards('h')<=2) return 1.2;\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},useful: [2,0.5],value: [2,0.5],},selectTarget: \"1\",}","info":"可用于煅造装备；令一名其他角色获得技能潜行，直到其下一回合开始"},"xingjunyan":{"name":"星君眼","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"xingjunyan\"],ai: {basic: {equipValue: \"4\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你的杀造成的伤害+1；杀对你造成的伤害+1"},"qinglonglingzhu":{"name":"青龙灵珠","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"qinglonglingzhu\"],ai: {basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"每当你造成一次属性伤害，你可以获得对方的一张牌"},"baihupifeng":{"name":"白狐披风","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip2\",skills: [\"baihupifeng\"],ai: {equipValue: function (card,player){\n\t\t\t\t\t\tif(player.hp<=2) return 8;\n\t\t\t\t\t\treturn 6;\n\t\t\t\t\t},basic: {equipValue: \"7\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"结束阶段，若你的体力值是全场最小的之一，你可以回复一点体力"},"fengxueren":{"name":"封雪刃","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-1\",},skills: [\"fengxueren\"],ai: {basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你使用杀击中目标后，若目标武将牌正面朝上，你可以防止伤害，然后令目标摸一张牌并翻面"},"chilongya":{"name":"赤龙牙","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-1\",},skills: [\"chilongya\"],ai: {basic: {equipValue: \"4\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，你的火属性伤害+1"},"daihuofenglun":{"name":"带火风轮","script":"{type: \"equip\",subtype: \"equip4\",fullskin: \"true\",cardnature: \"fire\",distance: {globalFrom: \"-2\",globalTo: \"-1\",},ai: {basic: {equipValue: \"4\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你的进攻距离+2，你的防御距离-1"},"xiayuncailing":{"name":"霞云彩绫","script":"{type: \"equip\",subtype: \"equip3\",fullskin: \"true\",distance: {globalFrom: \"1\",globalTo: \"2\",},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",ai: {basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"7\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},}","info":"你的进攻距离-1，你的防御距离+2"},"shentoumianju":{"name":"神偷面具","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"shentou\"],ai: {basic: {equipValue: \"7\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"出牌阶段，你可以指定一名手牌比你多的角色，弃置一张手牌并进行一次判定，若结果不为梅花，你获得其一张手牌"},"xianluhui":{"name":"仙炉灰","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",selectTarget: \"-1\",reverseOrder: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.isDamaged();\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.changeHujia();\n\t\t\t\t},ai: {tag: {multitarget: \"1\",},basic: {order: \"7\",useful: \"3\",value: \"3\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hp<=1) return 1.5;\n\t\t\t\t\t\t\tif(target.hp==2) return 1.2;\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},},},}","info":"令所有已受伤角色获得一点护甲"},"caoyao":{"name":"草药","script":"{fullskin: \"true\",type: \"basic\",range: {global: \"1\",},enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.hp<target.maxHp;\n\t\t\t\t},content: function (){\n\t\t\t\t\ttarget.recover();\n\t\t\t\t},ai: {basic: {useful: [7,2],value: [7,2],},order: \"2.2\",result: {target: \"2\",},tag: {recover: \"1\",},},selectTarget: \"1\",}","info":"出牌阶段，对距离为1以内的角色使用，回复一点体力。"},"tianxianjiu":{"name":"天仙酒","script":"{fullskin: \"true\",type: \"basic\",toself: \"true\",enable: function (event,player){\n\t\t\t\t\treturn !player.hasSkill('tianxianjiu');\n\t\t\t\t},savable: function (card,player,dying){\n\t\t\t\t\treturn dying==player;\n\t\t\t\t},usable: \"1\",selectTarget: \"-1\",logv: \"false\",modTarget: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tif(target.isDying()) target.recover();\n\t\t\t\t\telse{\n\t\t\t\t\t\ttarget.addTempSkill('tianxianjiu',['phaseAfter','shaAfter']);\n\t\t\t\t\t\tif(cards&&cards.length){\n\t\t\t\t\t\t\tcard=cards[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(target==targets[0]&&card.clone&&(card.clone.parentNode==player.parentNode||card.clone.parentNode==ui.arena)){\n\t\t\t\t\t\t\tcard.clone.moveDelete(target);\n\t\t\t\t\t\t\tgame.addVideo('gain2',target,get.cardsInfo([card]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!target.node.jiu&&lib.config.jiu_effect){\n\t\t\t\t\t\t\ttarget.node.jiu=ui.create.div('.playerjiu',target.node.avatar);\n\t\t\t\t\t\t\ttarget.node.jiu2=ui.create.div('.playerjiu',target.node.avatar2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {useful: function (card,i){\n\t\t\t\t\t\t\tif(_status.event.player.hp>1){\n\t\t\t\t\t\t\t\tif(i==0) return 5;\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(i==0) return 7.3;\n\t\t\t\t\t\t\treturn 3;\n\t\t\t\t\t\t},value: function (card,player,i){\n\t\t\t\t\t\t\tif(player.hp>1){\n\t\t\t\t\t\t\t\tif(i==0) return 5;\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(i==0) return 7.3;\n\t\t\t\t\t\t\treturn 3;\n\t\t\t\t\t\t},},order: function (){\n\t\t\t\t\t\treturn get.order({name:'sha'})+0.2;\n\t\t\t\t\t},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target&&target.isDying()) return 2;\n\t\t\t\t\t\t\tif(lib.config.mode=='stone'&&!player.isMin()){\n\t\t\t\t\t\t\t\tif(player.getActCount()+1>=player.actcount) return false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar shas=player.getCards('h','sha');\n\t\t\t\t\t\t\tif(shas.length>1&&player.getCardUsable('sha')>1){\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar card;\n\t\t\t\t\t\t\tif(shas.length){\n\t\t\t\t\t\t\t\tfor(var i=0;i<shas.length;i++){\n\t\t\t\t\t\t\t\t\tif(lib.filter.filterCard(shas[i],target)){\n\t\t\t\t\t\t\t\t\t\tcard=shas[i];break;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(player.hasSha()){\n\t\t\t\t\t\t\t\tcard={name:'sha'};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(card){\n\t\t\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\t\t\treturn (!current.hujia&&\n\t\t\t\t\t\t\t\t\t\tget.attitude(target,current)<0&&\n\t\t\t\t\t\t\t\t\t\ttarget.canUse(card,current,true,true)&&\n\t\t\t\t\t\t\t\t\t\tget.effect(current,card,target)>0);\n\t\t\t\t\t\t\t\t})){\n\t\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},},}","info":"出牌阶段对自己使用，你使用的下一张杀造成伤害后可以摸两张牌；濒死阶段，对自己使用，回复1点体力"},"langeguaiyi":{"name":"蓝格怪衣","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"longfan\"],ai: {basic: {equipValue: \"7\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"出牌阶段限一次，你可以进行一次判定，然后按花色执行以下效果。红桃：你回复一点体力；方片：你摸一张牌；梅花：你令一名随机敌方角色随机弃置一张牌；黑桃：无事发生"},"guiyoujie":{"name":"鬼幽结","script":"{fullskin: \"true\",type: \"delay\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn (lib.filter.judge(card,player,target)&&player!=target);\n\t\t\t\t},judge: function (card){\n\t\t\t\t\tif(get.color(card)=='black') return -3;\n\t\t\t\t\treturn 0;\n\t\t\t\t},effect: function (){\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\tplayer.loseHp();\n\t\t\t\t\t\tplayer.randomDiscard();\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"1\",useful: \"1\",value: \"6\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasSkillTag('noturn')) return 0;\n\t\t\t\t\t\t\treturn -3;\n\t\t\t\t\t\t},},},selectTarget: \"1\",enable: \"true\",content: function (){\n\t\t\t\t\tif(lib.filter.judge(card,player,target)&&cards.length&&get.position(cards[0],true)=='o') target.addJudge(card,cards);\n\t\t\t\t},allowMultiple: \"false\",}","info":"出牌阶段，对一名其他角色使用。若判定结果为黑色，其失去一点体力并随机弃置一张牌"},"yufulu":{"name":"御夫录","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"touzhi\"],ai: {basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"出牌阶段，可弃置一张武器牌令一名角色受到一点伤害，然后该角色获得此武器牌"},"xixueguizhihuan":{"name":"吸血鬼指环","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"xixue\"],ai: {basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，每当你使用杀造成一点伤害，你回复一点体力"},"zhufangshenshi":{"name":"祠符","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",global: \"g_zhufangshenshi\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player;\n\t\t\t\t},content: function (){\n\t\t\t\t\tplayer.storage.zhufangshenshi=target;\n\t\t\t\t\tplayer.addTempSkill('zhufangshenshi');\n\t\t\t\t},ai: {tag: {norepeat: \"1\",},value: \"4\",wuxie: function (){\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},useful: [2,1],basic: {order: \"7\",},result: {player: function (player,target){\n\t\t\t\t\t\t\tif(get.attitude(player,target)<0){\n\t\t\t\t\t\t\t\tif(get.distance(player,target)>1) return 1;\n\t\t\t\t\t\t\t\treturn 0.6;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0.3;\n\t\t\t\t\t\t},},},selectTarget: \"1\",}","info":"出牌阶段，对一名其他角色使用，本回合内对其使用卡牌无视距离，结算后摸一张牌"},"jingleishan":{"name":"惊雷闪","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",selectTarget: \"-1\",reverseOrder: \"true\",cardcolor: \"black\",cardnature: \"thunder\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player;\n\t\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tvar next=target.chooseToRespond({name:'sha'});\n\t\t\t\t\tnext.ai=function(card){\n\t\t\t\t\t\tif(get.damageEffect(target,player,target,'thunder')>=0) return 0;\n\t\t\t\t\t\tif(player.hasSkillTag('notricksource')) return 0;\n\t\t\t\t\t\tif(target.hasSkillTag('notrick')) return 0;\n\t\t\t\t\t\treturn 11-get.value(card);\n\t\t\t\t\t};\n\t\t\t\t\tnext.autochoose=lib.filter.autoRespondSha;\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\ttarget.damage('thunder');\n\t\t\t\t\t}\n\t\t\t\t},ai: {wuxie: function (target,card,player,viewer){\n\t\t\t\t\t\tif(get.attitude(viewer,target)>0&&target.countCards('h','sha')){\n\t\t\t\t\t\t\tif(!target.countCards('h')||target.hp==1||Math.random()<0.7) return 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t},basic: {order: \"9\",useful: [5,1],value: \"5\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasSkillTag('nothunder')) return 0;\n\t\t\t\t\t\t\tif(target.hasUnknown(2)) return 0;\n\t\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\t\tif(lib.config.mode=='identity'){\n\t\t\t\t\t\t\t\tif(target.isZhu&&nh<=2&&target.hp<=1) return -100;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(nh==0) return -2;\n\t\t\t\t\t\t\tif(nh==1) return -1.7\n\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t},},tag: {respond: \"1\",respondSha: \"1\",damage: \"1\",natureDamage: \"1\",thunderDamage: \"1\",multitarget: \"1\",multineg: \"1\",},},}","info":"出牌阶段，对所有其他角色使用。每名目标角色需打出一张【杀】，否则受到1点雷电伤害。"},"chiyuxi":{"name":"炽羽袭","script":"{fullskin: \"true\",type: \"trick\",enable: \"true\",selectTarget: \"-1\",reverseOrder: \"true\",cardcolor: \"red\",cardnature: \"fire\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player;\n\t\t\t\t},content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tvar next=target.chooseToRespond({name:'shan'});\n\t\t\t\t\tnext.ai=function(card){\n\t\t\t\t\t\tif(get.damageEffect(target,player,target,'fire')>=0) return 0;\n\t\t\t\t\t\tif(player.hasSkillTag('notricksource')) return 0;\n\t\t\t\t\t\tif(target.hasSkillTag('notrick')) return 0;\n\t\t\t\t\t\tif(target.hasSkillTag('noShan')){\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 11-get.value(card);\n\t\t\t\t\t};\n\t\t\t\t\tnext.autochoose=lib.filter.autoRespondShan;\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\ttarget.damage('fire');\n\t\t\t\t\t}\n\t\t\t\t},ai: {wuxie: function (target,card,player,viewer){\n\t\t\t\t\t\tif(get.attitude(viewer,target)>0&&target.countCards('h','shan')){\n\t\t\t\t\t\t\tif(!target.countCards('h')||target.hp==1||Math.random()<0.7) return 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t},basic: {order: \"9\",useful: \"1\",value: \"5\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasSkillTag('nofire')) return 0;\n\t\t\t\t\t\t\tif(player.hasUnknown(2)) return 0;\n\t\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\t\tif(lib.config.mode=='identity'){\n\t\t\t\t\t\t\t\tif(target.isZhu&&nh<=2&&target.hp<=1) return -100;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(nh==0) return -2;\n\t\t\t\t\t\t\tif(nh==1) return -1.7\n\t\t\t\t\t\t\treturn -1.5;\n\t\t\t\t\t\t},},tag: {respond: \"1\",respondShan: \"1\",damage: \"1\",natureDamage: \"1\",fireDamage: \"1\",multitarget: \"1\",multineg: \"1\",},},}","info":"出牌阶段，对所有其他角色使用。每名目标角色需打出一张【闪】，否则受到1点火焰伤害。"},"guangshatianyi":{"name":"光纱天衣","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip2\",skills: [\"guangshatianyi\"],ai: {basic: {equipValue: \"6\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，每当你即将受到伤害，有三分之一的概率令伤害减一"},"guilingzhitao":{"name":"归灵指套","script":"{type: \"equip\",fullskin: \"true\",subtype: \"equip5\",skills: [\"nigong\"],ai: {equipValue: function (card,player){\n\t\t\t\t\t\tif(!player.storage.nigong) return 5;\n\t\t\t\t\t\treturn 5+player.storage.nigong;\n\t\t\t\t\t},basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},equipDelay: \"false\",loseDelay: \"false\",clearLose: \"true\",onLose: function (){\n\t\t\t\t\tplayer.storage.nigong=0;\n\t\t\t\t\tplayer.unmarkSkill('nigong');\n\t\t\t\t},onEquip: function (){\n\t\t\t\t\tplayer.storage.nigong=0;\n\t\t\t\t\tplayer.markSkill('nigong');\n\t\t\t\t},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"每当你受到一点伤害，你获得一个逆攻标记，标记数不能超过4。出牌阶段，你可以弃置所有逆攻标记并令对一名其他角色造成标记数一半的伤害（若非整数则向下取整并摸一张牌）"},"sadengjinhuan":{"name":"萨登荆环","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"sadengjinhuan\"],ai: {basic: {equipValue: \"5.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你的杀被闪避后，可以进行一次判定，若结果为红色目标需再打出一张闪"},"sifeizhenmian":{"name":"四非真面","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"yiluan\"],ai: {basic: {equipValue: \"6\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"出牌阶段限一次，你可以令一名有手牌的其他角色进行一次判定，若结果为不为红桃且目标有可用的手牌，目标随机使用一张手牌（随机指定目标）"},"shuchui":{"name":"鼠槌","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",skills: [\"shuchui\"],ai: {basic: {equipValue: \"5.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"出牌阶段限一次，你可以指定一名攻击范围内的角色，依次将手牌中的至多3张杀对该角色使用，若杀造成了伤害，你摸一张牌"},"guiyanfadao":{"name":"鬼眼法刀","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-1\",},ai: {basic: {equipValue: \"3\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"guiyanfadao\"],enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"每当你使用杀命中目标，你可以防止伤害，改为令目标失去一点体力"},"qiankundai":{"name":"乾坤袋","script":"{fullskin: \"true\",type: \"equip\",subtype: \"equip5\",onLose: function (){\n\t\t\t\t\tplayer.draw();\n\t\t\t\t},skills: [\"qiankundai\"],ai: {order: \"9.5\",equipValue: function (card,player){\n\t\t\t\t\t\tif(player.countCards('h','qiankundai')) return 6;\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t},basic: {equipValue: \"5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你的手牌上限+1。当你失去该装备时，你摸一张牌。"}}},"mode_extension_国战补充②":{"name":"国战补充②","card":{"xinchixueqingfeng":{"name":"赤血青锋","script":"{mode: [\"guozhan\"],type: \"equip\",fullskin: \"true\",subtype: \"equip1\",distance: {attackFrom: \"-1\",},skills: [\"xinchixueqingfeng\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: \"6.5\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充②/xinchixueqingfeng.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你使用黑【杀】无视防具；锁定技，你使用【杀】造成的伤害+1，然后令受到伤害的角色回复1点体力"},"nanmanzhanxiang":{"name":"南蛮象","script":"{mode: [\"guozhan\"],fullskin: \"true\",type: \"equip\",subtype: \"equip4\",distance: {globalFrom: \"-1\",},ai: {basic: {equipValue: \"4.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"nanmanzhanxiang_skill\"],image: \"ext:国战补充②/nanmanzhanxiang.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，你的进攻距离+1，【南蛮入侵】对你无效"},"su":{"name":"酥","script":"{mode: [\"guozhan\"],fullskin: \"true\",type: \"basic\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\t    if(target.hp>=target.maxHp) return false;\n\t\t\t   \t\treturn true;\n\t\t\t     \t},selectTarget: \"1\",content: function (){\n\t        \ttarget.recover();\n\t        \t},ai: {basic: {order: \"3\",useful: \"3.5\",value: [8.5,6.8],},result: {target: function (player,target){\n\t        \tif(target.hp<5) return 5-target.hp;\n\t        \treturn 1;\n\t        \t   \t},},tag: {recover: \"1\",},},image: \"ext:国战补充②/su.png\",}","info":"出牌阶段，选择一名角色回复一点体力"},"xinsadouchengbing":{"name":"撒豆成兵","script":"{mode: [\"guozhan\"],fullskin: \"true\",type: \"trick\",enable: \"true\",selectTarget: \"-1\",cardcolor: \"red\",toself: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},modTarget: \"true\",content: function (){\n\t\t\t\t\tvar num=Math.min(5,target.maxHp);\n\t\t\t\t\tif(target.group=='ye'){\n\t\t\t\t\t\ttarget.draw(num);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\tif(nh<num){\n\t\t\t\t\t\t\ttarget.draw(num-nh);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"7.2\",useful: \"4.5\",value: \"9.2\",},result: {target: function (player,target){\n\t\t\t\t\t\t\tvar num=Math.min(5,target.maxHp);\n\t\t\t\t\t\t\tif(target.group=='ye'){\n\t\t\t\t\t\t\t\treturn Math.sqrt(num);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tvar nh=target.countCards('h');\n\t\t\t\t\t\t\t\tif(target==player&&player.countCards('h','xinsadouchengbing')){\n\t\t\t\t\t\t\t\t\tnh--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(nh<num){\n\t\t\t\t\t\t\t\t\treturn Math.sqrt(num-nh);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},},tag: {draw: \"2\",},},image: \"ext:国战补充②/xinsadouchengbing.png\",}","info":"出牌阶段对自己使用，若你为野心家，摸X张牌；否则将你手牌补至X；（X为你的体力上限且至多为5）"},"yihuajiemu":{"name":"移花接木","script":"{mode: [\"guozhan\"],type: \"trick\",fullskin: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target!=player&&target.countCards('he');\n\t\t\t\t},content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tif(target.hasSha()){\n\t\t\t\t\t\ttarget.chooseToUse({name:'sha'},'使用一张杀，或交给'+get.translation(player)+'两张牌');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.directfalse=true;\n\t\t\t\t\t}\n\t\t\t\t\t'step 1'\n\t\t\t\t\tvar nh=target.countCards('he');\n\t\t\t\t\tif((event.directfalse||!result.bool)&&nh){\n\t\t\t\t\t\tif(nh<=2){\n\t\t\t\t\t\t\tevent.directcards=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\ttarget.chooseCard('he',2,true,'将两张牌交给'+get.translation(player));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tevent.finish();\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tif(event.directcards){\n\t\t\t\t\t\ttarget.give(target.getCards('he'),player);\n\t\t\t\t\t}\n\t\t\t\t\telse if(result.bool&&result.cards&&result.cards.length){\n\t\t\t\t\t\ttarget.give(result.cards,player);\n\t\t\t\t\t}\n\t\t\t\t},ai: {order: \"7\",result: {target: function (player,target){\n\t\t\t\t\t\t\tif(target.hasSha()&&_status.event.getRand()<0.5) return 1;\n\t\t\t\t\t\t\treturn -2;\n\t\t\t\t\t\t},},},image: \"ext:国战补充②/yihuajiemu.png\",selectTarget: \"1\",}","info":"出牌阶段对一名有牌的其他角色使用，令其使用一张【杀】，或交给你两张牌"},"guilongzhanyuedao":{"name":"鬼龙斩月刀","script":"{mode: [\"guozhan\"],type: \"equip\",fullskin: \"true\",subtype: \"equip1\",distance: {attackFrom: \"-2\",},skills: [\"guilongzhanyuedao\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: \"4.5\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充②/guilongzhanyuedao.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，你使用的红色【杀】不能被【闪】响应"},"guofengyupao":{"name":"国风玉袍","script":"{mode: [\"guozhan\"],type: \"equip\",fullskin: \"true\",subtype: \"equip2\",nomod: \"true\",nopower: \"true\",unique: \"true\",skills: [\"guofengyupao\"],ai: {equipValue: \"9\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充②/guofengyupao.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，你不能成为其他角色使用普通锦囊牌的目标"},"chiyanzhenhunqin":{"name":"赤焰镇魂琴","script":"{mode: [\"guozhan\"],type: \"equip\",fullskin: \"true\",subtype: \"equip1\",distance: {attackFrom: \"-3\",},skills: [\"chiyanzhenhunqin\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: \"4\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充②/chiyanzhenhunqin.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，你造成的伤害均视为具有火属性"},"xuwangzhimian":{"name":"虚妄之冕","script":"{mode: [\"guozhan\"],type: \"equip\",fullskin: \"true\",subtype: \"equip5\",skills: [\"xuwangzhimian\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: \"6\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充②/xuwangzhimian.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，摸牌阶段，你额外摸两张牌；你的手牌上限-1"},"longfenghemingjian":{"name":"鸾凤和鸣剑","script":"{mode: [\"guozhan\"],type: \"equip\",fullskin: \"true\",subtype: \"equip1\",distance: {attackFrom: \"-2\",},skills: [\"longfenghemingjian\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: \"5\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"1\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充②/longfenghemingjian.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你使用的【雷杀】或【火杀】指定目标后，可令对方选择弃置一张牌或令你摸一张牌"},"wushuangfangtianji":{"name":"无双方天戟","script":"{mode: [\"guozhan\"],type: \"equip\",subtype: \"equip1\",distance: {attackFrom: \"-3\",},ai: {basic: {equipValue: \"4.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"wushuangfangtianji_skill\"],fullskin: \"true\",image: \"ext:国战补充②/wushuangfangtianji.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"你使用【杀】对目标角色造成伤害后，可以摸一张牌或弃置目标角色一张牌。"},"hongmianbaihuapao":{"name":"红棉百花袍","script":"{mode: [\"guozhan\"],type: \"equip\",subtype: \"equip2\",ai: {basic: {equipValue: \"7\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"hongmianbaihuapao_skill\"],fullskin: \"true\",image: \"ext:国战补充②/hongmianbaihuapao.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"锁定技，防止你受到的属性伤害。"},"linglongshimandai":{"name":"玲珑狮蛮带","script":"{mode: [\"guozhan\"],type: \"equip\",subtype: \"equip2\",ai: {basic: {equipValue: \"6.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},skills: [\"linglongshimandai_skill\"],fullskin: \"true\",image: \"ext:国战补充②/linglongshimandai.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当其他角色使用牌指定你为唯一目标后，你可以进行一次判定，若判定结果为红桃，则此牌对你无效。"},"fengshizhenx":{"name":"锋矢阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.sieged();\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\ttarget.addTempSkill('gztuwei',{player:'phaseEnd'});\n\t\t\t\t\ttarget.popup('gztuwei');\n\t\t\t\t\tgame.log(target,'获得了技能','【突围】');\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"2\",},},}","info":"令所有被围攻角色获得技能【突围】，直到其回合结束"},"zhonghuangzhenx":{"name":"中黄阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (){\n        return game.players.length>2;\n    },filterTarget: function (card,player,target){\n        return player.next==target||player.previous==target;\n    },content: function (){\n        game.swapSeat(player,target);\n    },ai: {basic: {order: \"7\",},result: {target: function (player,target){\n                if(player.next==target) return -1;\n                if(player.previous==target) return 1;\n            },},},mode: [\"guozhan\"],selectTarget: \"1\",}","info":"你可以与相邻角色交换位置"},"pozhenjuex":{"name":"破阵决","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: \"true\",notarget: \"true\",content: function (){\n\t\t\t\t\tvar targets=game.filterPlayer();\n\t\t\t\t\tvar n=targets.length;\n\t\t\t\t\twhile(n--){\n\t\t\t\t\t\tgame.swapSeat(targets.randomGet(),targets.randomGet());\n\t\t\t\t\t}\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"8\",result: {player: \"1\",},},}","info":"将所有角色的顺序随机重排"},"changshezhenx":{"name":"长蛇阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (card,player){\n\t\t\t\t\tif(player.inline()) return true;\n\t\t\t\t\tif(player.identity=='unknown'||player.identity=='ye') return false;\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current!=player&&current.isFriendOf(player);\n\t\t\t\t\t});\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\tif(player.inline()){\n\t\t\t\t\t\tvar targets=game.filterPlayer(function(current){\n\t\t\t\t\t\t\treturn player.inline(current);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tplayer.line(targets);\n\t\t\t\t\t\tgame.asyncDraw(targets);\n\t\t\t\t\t}\n\t\t\t\t\telse if(player.getNext()){\n\t\t\t\t\t\tvar list=game.filterPlayer(function(current){\n\t\t\t\t\t\t\treturn current!=player&&current.isFriendOf(player);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(list.length){\n\t\t\t\t\t\t\tlist.sort(function(a,b){\n\t\t\t\t\t\t\t\treturn get.distance(player,a,'absolute')-get.distance(player,b,'absolute');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tplayer.line(list[0]);\n\t\t\t\t\t\t\tgame.swapSeat(list[0],player.getNext(),true,true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"6.5\",result: {player: \"1\",},tag: {draw: \"1\",},},}","info":"若你处于队列中，与你同一队列的所有角色摸一张牌，否则将与你逆时针距离最近的同势力角色移至你下家"},"tianfuzhenx":{"name":"天覆阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (){\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current.isMajor();\n\t\t\t\t\t});\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.isMajor()&&target.countCards('he')>0;\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\ttarget.chooseToDiscard('he',true).delay=false;\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"-1\",},tag: {discard: \"1\",},},}","info":"所有大势力角色弃置一张牌"},"dizaizhenx":{"name":"地载阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (){\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current.isNotMajor();\n\t\t\t\t\t});\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.isNotMajor();\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\ttarget.draw(false);\n\t\t\t\t\ttarget.$draw();\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"1\",},tag: {draw: \"1\",},},}","info":"所有小势力角色摸一张牌"},"fengyangzhenx":{"name":"风扬阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.sieged();\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\ttarget.addTempSkill('feiying',{player:'damageAfter'});\n\t\t\t\t\ttarget.popup('feiying');\n\t\t\t\t\tgame.log(target,'获得了技能','【飞影】');\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"2\",},},}","info":"令所有被围攻角色获得技能【飞影】，直到其首次受到伤害"},"yunchuizhenx":{"name":"云垂阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\treturn target.siege();\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\ttarget.addTempSkill('wushuang',{source:'damageAfter'});\n\t\t\t\t\ttarget.popup('wushuang');\n\t\t\t\t\tgame.log(target,'获得了技能','【无双】');\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"2\",},},}","info":"令所有围攻角色获得技能【无双】，直到其首次造成伤害"},"qixingzhenx":{"name":"七星阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (card,player){\n\t\t\t\t\treturn player.siege()||player.sieged();\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn target==player;\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\t'step 0'\n\t\t\t\t\tevent.targets=game.filterPlayer(function(current){\n\t\t\t\t\t\treturn current.siege(player);\n\t\t\t\t\t});\n\t\t\t\t\t'step 1'\n\t\t\t\t\tif(event.targets.length){\n\t\t\t\t\t\tvar current=event.targets.shift();\n\t\t\t\t\t\tplayer.line(current,'green');\n\t\t\t\t\t\tplayer.discardPlayerCard(current,true);\n\t\t\t\t\t\tevent.redo();\n\t\t\t\t\t}\n\t\t\t\t\t'step 2'\n\t\t\t\t\tvar card={name:'sha',isCard:true};\n\t\t\t\t\tvar list=game.filterPlayer(function(current){\n\t\t\t\t\t\treturn current.siege(player)&&player.canUse(card,current);\n\t\t\t\t\t});\n\t\t\t\t\tif(list.length){\n\t\t\t\t\t\tplayer.useCard(card,list,false);\n\t\t\t\t\t}\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"1\",},},}","info":"弃置所有围攻你的角色各一张牌，然后视为对所有你围攻的角色使用一张不计入出杀次数的杀"},"shepanzhenx":{"name":"蛇蟠阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (card,player){\n\t\t\t\t\tif(player.identity=='unknown'||player.identity=='ye') return false;\n\t\t\t\t\tif(get.population(player.identity)<=1) return false;\n\t\t\t\t\treturn game.hasPlayer(function(current){\n\t\t\t\t\t\treturn current!=player&&current.identity==player.identity&&!player.inline(current);\n\t\t\t\t\t});\n\t\t\t\t},notarget: \"true\",content: function (){\n\t\t\t\t\tvar targets=game.filterPlayer(function(current){\n\t\t\t\t\t\treturn current.identity==player.identity;\n\t\t\t\t\t});\n\t\t\t\t\ttargets.sortBySeat();\n\t\t\t\t\tfor(var i=1;i<targets.length;i++){\n\t\t\t\t\t\tgame.swapSeat(targets[i],targets[i-1].next,false);\n\t\t\t\t\t}\n\t\t\t\t\tgame.log(get.translation(player.identity)+'势力角色摆成了蛇蟠阵')\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {player: \"1\",},},}","info":"令我方所有角色进入队列状态"},"longfeizhenx":{"name":"龙飞阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (card,player){\n\t\t\t\t\treturn player.next.siege(player);\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\tif(target.getCards('he').length==0) return false;\n\t\t\t\t\treturn target==player.next||target==player.previous;\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tplayer.choosePlayerCard(target,'he',true);\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\ttarget.discard(result.buttons[0].link);\n\t\t\t\t\t\"step 2\"\n\t\t\t\t\tif(target==targets[targets.length-1]){\n\t\t\t\t\t\tplayer.draw();\n\t\t\t\t\t}\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"10\",result: {target: \"-1\",player: \"1\",},},}","info":"弃置围攻你的角色各一张牌，然后摸一张牌"},"huyizhenx":{"name":"虎翼阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: function (card,player){\n\t\t\t\t\treturn player.siege(player.next)||player.siege(player.previous);\n\t\t\t\t},filterTarget: function (card,player,target){\n\t\t\t\t\treturn player.siege(target);\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tplayer.chooseCard('将一张非基本牌当作杀对'+get.translation(target)+'使用','he',function(card){\n\t\t\t\t\t\treturn get.type(card)!='basic';\n\t\t\t\t\t}).ai=function(card){\n\t\t\t\t\t\tif(get.effect(target,{name:'sha'},player,player)>0){\n\t\t\t\t\t\t\treturn 6-get.value(card);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t};\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tplayer.useCard({name:'sha'},result.cards,target,false);\n\t\t\t\t\t}\n\t\t\t\t\t\"step 2\"\n\t\t\t\t\tif(target==player.next) event.player2=player.next.next;\n\t\t\t\t\telse event.player2=player.previous.previous;\n\t\t\t\t\tevent.player2.chooseCard('将一张非基本牌当作杀对'+get.translation(target)+'使用','he',function(card){\n\t\t\t\t\t\treturn get.type(card)!='basic';\n\t\t\t\t\t}).ai=function(card){\n\t\t\t\t\t\tif(get.effect(target,{name:'sha'},event.player2,event.player2)>0){\n\t\t\t\t\t\t\treturn 6-get.value(card);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t};\n\t\t\t\t\t\"step 3\"\n\t\t\t\t\tif(result.bool){\n\t\t\t\t\t\tevent.player2.useCard({name:'sha'},result.cards,target,false);\n\t\t\t\t\t}\n\t\t\t\t},mode: [\"guozhan\"],ai: {order: \"7\",result: {target: \"-2\",},},}","info":"你与另一围攻角色可以将一张非基本牌当作【杀】对被围攻角色使用（不计入使用次数）"},"niaoxiangzhenx":{"name":"鸟翔阵","script":"{type: \"zhenfa\",chongzhu: \"true\",enable: \"true\",filterTarget: function (card,player,target){\n\t\t\t\t\tif(player.identity==target.identity) return false;\n\t\t\t\t\tif(target.identity=='unknown'||target.identity=='ye') return false;\n\t\t\t\t\treturn target.identity==target.next.identity||target.identity==target.previous.identity\n\t\t\t\t},selectTarget: \"-1\",content: function (){\n\t\t\t\t\t\"step 0\"\n\t\t\t\t\tvar next=target.chooseToRespond({name:'shan'});\n\t\t\t\t\tnext.ai=function(card){\n\t\t\t\t\t\tif(get.damageEffect(target,player,target)>=0) return 0;\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t};\n\t\t\t\t\tnext.autochoose=lib.filter.autoRespondShan;\n\t\t\t\t\t\"step 1\"\n\t\t\t\t\tif(result.bool==false){\n\t\t\t\t\t\ttarget.damage();\n\t\t\t\t\t}\n\t\t\t\t},ai: {basic: {order: \"9\",useful: \"1\",},result: {target: \"-1.5\",},tag: {respond: \"1\",respondShan: \"1\",damage: \"1\",},},mode: [\"guozhan\"],}","info":"令所有非你阵营的队列的角色今次打出一张闪，或者受到一点伤害"}}},"mode_extension_国战补充":{"name":"国战补充","card":{"huanmeng":{"name":"幻梦","script":"{fullskin: \"true\",audio: \"ext:国战补充\",mode: [\"guozhan\"],type: \"equip\",subtype: \"equip4\",distance: {globalFrom: \"-1\",},skills: [\"huanmeng_skill\"],nomod: \"true\",nopower: \"true\",unique: \"true\",ai: {equipValue: \"9\",basic: {order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",equipValue: \"4\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充/huanmeng.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"乐不思蜀判定时，你的方块判定牌视为红桃；兵粮寸断判定时，你的黑桃判定牌视为草花;；出牌阶段结束时，你可选择：1.摸一张牌。2.将一张武将牌置于武将牌上，并于回合结束后获得此牌。"},"jiangjunling":{"name":"将军令","script":"{audio: \"ext:国战补充\",mode: [\"guozhan\"],fullskin: \"true\",type: \"equip\",subtype: \"equip5\",nomod: \"true\",nopower: \"true\",unique: \"true\",skills: [\"jiangjunling_skill\"],ai: {equipValue: function (card,player){\n\t\t\t\t\t\tif(player.hasSkill('gzjuebi')) return 8;\n\t\t\t\t\t\tif(game.hasPlayer(function(current){\n\t\t\t\t\t\t\treturn current.hasSkill('gzjuebi')&&get.attitude(player,current)<=0;\n\t\t\t\t\t\t})){\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 7;\n\t\t\t\t\t},basic: {equipValue: \"6.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充/jiangjunling.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"出牌阶段限一次，你可以失去一点体力，令两名其他角色拼点：拼点赢的角色视为对没赢的另一名角色使用一张【杀】。"},"liulongyuling":{"name":"留龙玉令","script":"{mode: [\"guozhan\"],fullskin: \"true\",type: \"equip\",subtype: \"equip2\",onLose: function (){\n            for(var i=0;i<game.dead.length;i++){\n                if(game.dead[i].group==player.group){\n \t\t\t\tplayer.storage.liulongyuling++;\n               }\n            }\n\t\t\t\t\tif(player.identity=='ye'){\n\t\t\t\t\t\tplayer.draw(2);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n　　　player.draw(Math.max(player.storage.liulongyuling,1));\t\t\n\t\t\t\tplayer.storage.liulongyuling=0;\n\t\t\t\t\t  }\n\t\t\t\t\t},onEquip: function (){\n\t\t\t\tplayer.storage.liulongyuling=0;\n \t\t\t\t\t},skills: [\"liulongyuling_skill\"],ai: {basic: {equipValue: \"7\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充/liulongyuling.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"◆锁定技，你受到非属性伤害时若你的体力值为1，此伤害-1。<br>◆锁定技，当你失去装备区的【留龙玉令】时你摸X张牌（X为与你势力相同的已死亡角色数且至少为1；当你为“野心家时”，X的值为2）"},"yuanyang":{"name":"鸳鸯剑","script":"{mode: [\"guozhan\"],fullskin: \"true\",type: \"equip\",subtype: \"equip1\",nomod: \"true\",nopower: \"true\",unique: \"true\",distance: {attackFrom: \"-1\",},skills: [\"yuanyang1\",\"yuanyang2\"],ai: {basic: {equipValue: \"6\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充/yuanyang.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"◆每回合限两次，当你使用的锦囊牌造成伤害时，你可以摸一张牌；<br>◆你使用【杀】杀死一名角色后，若你所属的势力是全场最少的（或之一），你可令该角色的使用者选择是否从未使用的武将牌中选择一张与你势力相同的武将牌重新加入游戏"},"wuhuajian":{"name":"无华剑","script":"{mode: [\"guozhan\"],fullskin: \"true\",type: \"equip\",subtype: \"equip1\",nomod: \"true\",nopower: \"true\",unique: \"true\",distance: {attackFrom: \"-1\",},skills: [\"wuhuajian_skill\"],ai: {basic: {equipValue: \"4.5\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充/wuhuajian.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"当你杀死一名角色时，你可以选择回复一点体力或者获得其所有的牌"},"menghuqinlong":{"name":"猛虎擒龙","script":"{mode: [\"guozhan\"],fullskin: \"true\",type: \"equip\",subtype: \"equip1\",nomod: \"true\",nopower: \"true\",unique: \"true\",distance: {attackFrom: \"-2\",},skills: [\"menghuqinlong_skill\"],ai: {basic: {equipValue: \"6\",order: function (card,player){\n\t\t\t\t\t\tif(player&&player.hasSkillTag('reverseEquip')){\n\t\t\t\t\t\t\treturn 8.5-get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn 8+get.equipValue(card,player)/20;\n\t\t\t\t\t\t}\n\t\t\t\t\t},useful: \"2\",value: function (card,player,index,method){\n\t\t\t\t\t\tif(player.isDisabled(get.subtype(card))) return 0.01;\n\t\t\t\t\t\tvar value=0;\n\t\t\t\t\t\tvar info=get.info(card);\n\t\t\t\t\t\tvar current=player.getEquip(info.subtype);\n\t\t\t\t\t\tif(current&&card!=current){\n\t\t\t\t\t\t\tvalue=get.value(current,player);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar equipValue=info.ai.equipValue;\n\t\t\t\t\t\tif(equipValue==undefined){\n\t\t\t\t\t\t\tequipValue=info.ai.basic.equipValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue=='function'){\n\t\t\t\t\t\t\tif(method=='raw') return equipValue(card,player);\n\t\t\t\t\t\t\tif(method=='raw2') return equipValue(card,player)-value;\n\t\t\t\t\t\t\treturn Math.max(0.1,equipValue(card,player)-value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(typeof equipValue!='number') equipValue=0;\n\t\t\t\t\t\tif(method=='raw') return equipValue;\n\t\t\t\t\t\tif(method=='raw2') return equipValue-value;\n\t\t\t\t\t\treturn Math.max(0.1,equipValue-value);\n\t\t\t\t\t},},result: {target: function (player,target,card){\n\t\t\t\t\t\treturn get.equipResult(player,target,card.name);\n\t\t\t\t\t},},},image: \"ext:国战补充/menghuqinlong.png\",enable: \"true\",selectTarget: \"-1\",filterTarget: function (card,player,target){\n\t\t\t\t\t\treturn target==player;\n\t\t\t\t\t},modTarget: \"true\",allowMultiple: \"false\",content: function (){\n\t\t\t\t\tif(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);\n\t\t\t\t},toself: \"true\",}","info":"每当你使用（指定目标后）一张【决斗】或红色的【杀】时，你可以摸一张牌。"}}}}